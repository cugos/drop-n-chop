!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).overpassWizard=e()}(function(){return function n(a,u,i){function o(r,e){if(!u[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(s)return s(r,!0);throw(t=new Error("Cannot find module '"+r+"'")).code="MODULE_NOT_FOUND",t}t=u[r]={exports:{}},a[r][0].call(t.exports,function(e){return o(a[r][1][e]||e)},t,t.exports,n,a,u,i)}return u[r].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)o(i[e]);return o}({1:[function(e,r,t){r.exports=function(u){var e={};if(!(u=u||{})){if("undefined"==typeof $)return!1;var r="data/iD_presets.json";try{$.ajax(r,{async:!1,dataType:"json"}).success(function(e){u=e}).error(function(){throw new Error})}catch(e){console.error("failed to load presets file",r,e)}}return Object.keys(u).map(function(e){e=u[e];e.nameCased=e.name,e.name=e.name.toLowerCase(),e.terms=e.terms?e.terms.map(function(e){return e.toLowerCase()}):[]}),function(){if("undefined"!=typeof $&&"undefined"!=typeof i18n){var e=i18n.getLanguage();if("en"!=e){var r="data/iD_presets_"+e+".json";try{$.ajax(r,{async:!1,dataType:"json"}).success(function(n){Object.keys(n).map(function(e){var r=n[e];(e=u[e]).translated=!0;var t=e.name;e.nameCased=r.name,e.name=r.name.toLowerCase(),r.terms&&(e.terms=r.terms.split(",").map(function(e){return e.trim().toLowerCase()}).concat(e.terms)),e.terms.unshift(t)})}).error(function(){throw new Error})}catch(e){console.error("failed to load preset translations file: "+r)}}}}(),e.get_query_clause=function(e){var t=e.free.toLowerCase(),e=Object.keys(u).map(function(e){return u[e]}).filter(function(e){return!1!==e.searchable&&(e.name===t||(e._termsIndex=e.terms.indexOf(t),-1!=e._termsIndex))});if(0===e.length)return!1;e.sort(function(e,r){return e.name===t?-1:r.name===t?1:e._termsIndex-r._termsIndex});var n=e[0],r=[];return n.geometry.forEach(function(e){switch(e){case"point":case"vertex":r.push("node");break;case"line":r.push("way");break;case"area":r.push("way"),r.push("relation");break;case"relation":r.push("relation");break;default:console.error("unknown geometry type "+e+" of preset "+n.name)}}),{types:r.filter(function(e,r,t){return t.indexOf(e)===r}),conditions:Object.keys(n.tags).map(function(e){var r=n.tags[e];return{query:"*"===r?"key":"eq",key:e,val:r}})}},e.fuzzy_search=function(e){var t=e.free.toLowerCase(),r=2+Math.floor(t.length/7);function n(e){return levenshteinDistance(e,t)<=r}e=Object.keys(u).map(function(e){return u[e]}).filter(function(e){return!1!==e.searchable&&(!!n(e.name)||e.terms.some(n))});return 0!==e.length&&(e.sort(function(e,r){return a(e)-a(r)}),e[0].nameCased);function a(e){return[e.name].concat(e.terms).map(function(e,r){return levenshteinDistance(e,t)}).reduce(function(e,r){return e<=r?e:r})}},e}},{}],2:[function(k,e,r){var q,x=k("./parser.js");function w(e){var r={logical:"or",queries:[]};return r.queries=function e(r){if(!r.logical)return[{logical:"and",queries:[r]}];if("and"===r.logical){for(var t=e(r.queries[0]),n=e(r.queries[1]),a=[],u=0;u<t.length;u++)for(var i=0;i<n.length;i++)a.push({logical:"and",queries:t[u].queries.concat(n[i].queries)});return a}if("or"===r.logical)return t=e(r.queries[0]),n=e(r.queries[1]),[].concat(t,n);console.error("unsupported boolean operator: "+r.logical)}(e),r}e.exports=function(e,r){var t,n,a={comment:!0,outputMode:"geom",globalBbox:!0,timeout:25,maxsize:void 0,outputFormat:"json",aroundRadius:1e3,freeFormPresets:void 0};for(t in r)a[t]=r[t];function u(e){return e.replace(/\*\//g,"[…]").replace(/\n/g,"\\n")}r=a;try{n=x.parse(e)}catch(e){return console.error("couldn't parse wizard input"),!1}var i,o=[];switch(!0===r.comment?(o.push("/*"),o.push("This has been generated by the overpass-turbo wizard."),o.push("The original search was:"),o.push("“"+u(e)+"”"),o.push("*/")):"string"==typeof r.comment&&(o.push("/*"),o.push(r.comment),o.push("*/"),comment=!0),o.push("[out:"+r.outputFormat+"][timeout:"+r.timeout+"]"+(void 0!==r.maxsize?"[maxsize:"+r.maxsize+"]":"")+(r.globalBbox&&"bbox"===n.bounds?"[bbox:{{bbox}}]":"")+";"),n.bounds){case"area":r.comment&&o.push("// fetch area “"+n.area+"” to search in"),o.push("{{geocodeArea:"+n.area+"}}->.searchArea;"),i="(area.searchArea)";break;case"around":r.comment&&o.push("// adjust the search radius (in meters) here"),o.push("{{radius="+r.aroundRadius+"}}"),i="(around:{{radius}},{{geocodeCoords:"+n.area+"}})";break;case"bbox":i=r.globalBbox?"":"({{bbox}})";break;case"global":i=void 0;break;default:return console.error("unknown bounds condition: "+n.bounds),!1}function s(e){function r(e){return e.replace(/([()[{*+.$^\\|?])/g,"\\$1")}function t(e){if("string"==typeof e)return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\t/g,"\\t").replace(/\n/g,"\\n")}var n=t(e.key),a=t(e.val);switch("substr"===e.query&&(e.query="like",e.val={regex:r(e.val)}),""===a&&("eq"===e.query?(e.query="like",e.val={regex:"^$"}):"neq"===e.query&&(e.query="notlike",e.val={regex:"^$"})),""===n&&("key"===e.query?(e.query="likelike",n="^$",e.val={regex:".*"}):"eq"===e.query?(e.query="likelike",n="^$",e.val={regex:"^"+r(e.val)+"$"}):"like"===e.query&&(e.query="likelike",n="^$")),e.query){case"key":return'["'+n+'"]';case"nokey":return'["'+n+'"!~".*"]';case"eq":return'["'+n+'"="'+a+'"]';case"neq":return'["'+n+'"!="'+a+'"]';case"like":return'["'+n+'"~"'+t(e.val.regex)+'"'+("i"===e.val.modifier?",i":"")+"]";case"likelike":return'[~"'+n+'"~"'+t(e.val.regex)+'"'+("i"===e.val.modifier?",i":"")+"]";case"notlike":return'["'+n+'"!~"'+t(e.val.regex)+'"'+("i"===e.val.modifier?",i":"")+"]";case"meta":switch(e.meta){case"id":return"("+a+")";case"newer":return e.val.match(/^-?\d+ ?(seconds?|minutes?|hours?|days?|weeks?|months?|years?)?$/)?'(newer:"{{date:'+a+'}}")':'(newer:"'+a+'")';case"user":return'(user:"'+a+'")';case"uid":return"(uid:"+a+")";default:return console.error("unknown query type: meta/"+e.meta),!1}case"free form":default:return console.error("unknown query type: "+e.query),!1}}function l(e){function r(e){return null===e.match(/^[a-zA-Z0-9_]+$/)?'"'+e.replace(/"/g,'\\"')+'"':e}function t(e){return null===e.regex.match(/^[a-zA-Z0-9_]+$/)||e.modifier?"/"+e.regex.replace(/\//g,"\\/")+"/"+(e.modifier||""):e.regex}switch(e.query){case"key":return u(r(e.key)+"=*");case"nokey":return u(r(e.key)+"!=*");case"eq":return u(r(e.key)+"="+r(e.val));case"neq":return u(r(e.key)+"!="+r(e.val));case"like":return u(r(e.key)+"~"+t(e.val));case"likelike":return u("~"+r(e.key)+"~"+t(e.val));case"notlike":return u(r(e.key)+"!~"+t(e.val));case"substr":return u(r(e.key)+":"+r(e.val));case"meta":switch(e.meta){case"id":return u("id:"+r(e.val));case"newer":return u("newer:"+r(e.val));case"user":return u("user:"+r(e.val));case"uid":return u("uid:"+r(e.val));default:return""}case"free form":return u(r(e.free));default:return""}}n.query=w(n.query),r.comment&&o.push("// gather results"),o.push("(");for(var c=0;c<n.query.queries.length;c++){for(var p=n.query.queries[c],f=["node","way","relation"],d=[],$=[],y=0;y<p.queries.length;y++){var h=p.queries[y];if("free form"===h.query){var v=(q=q||k("./free")(r.freeFormPresets)).get_query_clause(h);if(!1===v)return console.error("Couldn't find preset for free form input: "+h.free),!1;f=f.filter(function(e){return-1!=v.types.indexOf(e)}),r.comment&&$.push(l(h)),d=d.concat(v.conditions.map(s))}else if("type"===h.query)f=-1!=f.indexOf(h.type)?[h.type]:[];else{r.comment&&$.push(l(h));h=s(h);if(!1===h)return!1;d.push(h)}}$=$.join(" and "),r.comment&&o.push("  // query part for: “"+$+"”");for(var m=0;m<f.length;m++){for(var g="  "+f[m],b=0;b<d.length;b++)g+=d[b];i&&(g+=i),g+=";",o.push(g)}}return o.push(");"),r.comment&&o.push("// print results"),"recursive"===r.outputMode?(o.push("out body;"),o.push(">;"),o.push("out skel qt;")):o.push("out "+r.outputMode+";"),o.join("\n")}},{"./free":1,"./parser.js":3}],3:[function(e,r,t){r.exports=function(){"use strict";function v(e,r,t,n){this.message=e,this.expected=r,this.found=t,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,v)}function e(){this.constructor=r}var r,t;return r=v,t=Error,e.prototype=t.prototype,r.prototype=new e,{SyntaxError:v,parse:function(c){var e=1<arguments.length?arguments[1]:{},p={},r={start:0},t=0,f=[function(e){return e},"in bbox",{type:"literal",value:"in bbox",description:'"in bbox"'},"IN BBOX",{type:"literal",value:"IN BBOX",description:'"IN BBOX"'},function(e){return{bounds:"bbox",query:e}},"in",{type:"literal",value:"in",description:'"in"'},"IN",{type:"literal",value:"IN",description:'"IN"'},function(e,r){return{bounds:"area",query:e,area:r}},"around",{type:"literal",value:"around",description:'"around"'},"AROUND",{type:"literal",value:"AROUND",description:'"AROUND"'},function(e,r){return{bounds:"around",query:e,area:r}},"global",{type:"literal",value:"global",description:'"global"'},"GLOBAL",{type:"literal",value:"GLOBAL",description:'"GLOBAL"'},function(e){return{bounds:"global",query:e}},"or",{type:"literal",value:"or",description:'"or"'},"OR",{type:"literal",value:"OR",description:'"OR"'},"||",{type:"literal",value:"||",description:'"||"'},"|",{type:"literal",value:"|",description:'"|"'},function(e,r){return{logical:"or",queries:[e,r]}},"and",{type:"literal",value:"and",description:'"and"'},"AND",{type:"literal",value:"AND",description:'"AND"'},"&&",{type:"literal",value:"&&",description:'"&&"'},"&",{type:"literal",value:"&",description:'"&"'},function(e,r){return{logical:"and",queries:[e,r]}},"(",{type:"literal",value:"(",description:'"("'},")",{type:"literal",value:")",description:'")"'},function(e){return e},"=",{type:"literal",value:"=",description:'"="'},"==",{type:"literal",value:"==",description:'"=="'},function(e,r){return{query:"eq",key:e,val:r}},"!=",{type:"literal",value:"!=",description:'"!="'},"<>",{type:"literal",value:"<>",description:'"<>"'},function(e,r){return{query:"neq",key:e,val:r}},"*",{type:"literal",value:"*",description:'"*"'},function(e){return{query:"key",key:e}},"is",{type:"literal",value:"is",description:'"is"'},"not",{type:"literal",value:"not",description:'"not"'},"null",{type:"literal",value:"null",description:'"null"'},"IS",{type:"literal",value:"IS",description:'"IS"'},"NOT",{type:"literal",value:"NOT",description:'"NOT"'},"NULL",{type:"literal",value:"NULL",description:'"NULL"'},function(e){return{query:"nokey",key:e}},"~=",{type:"literal",value:"~=",description:'"~="'},"~",{type:"literal",value:"~",description:'"~"'},"=~",{type:"literal",value:"=~",description:'"=~"'},function(e,r){return{query:"like",key:e,val:r.regex?r:{regex:r}}},"like",{type:"literal",value:"like",description:'"like"'},"LIKE",{type:"literal",value:"LIKE",description:'"LIKE"'},function(e,r){return{query:"likelike",key:e,val:r.regex?r:{regex:r}}},"!~",{type:"literal",value:"!~",description:'"!~"'},function(e,r){return{query:"notlike",key:e,val:r.regex?r:{regex:r}}},":",{type:"literal",value:":",description:'":"'},function(e,r){return{query:"substr",key:e,val:r}},"type",{type:"literal",value:"type",description:'"type"'},function(e){return{query:"type",type:e}},"user",{type:"literal",value:"user",description:'"user"'},"uid",{type:"literal",value:"uid",description:'"uid"'},"newer",{type:"literal",value:"newer",description:'"newer"'},"id",{type:"literal",value:"id",description:'"id"'},function(e,r){return{query:"meta",meta:e,val:r}},function(e){return{query:"free form",free:e}},{type:"other",description:"Key"},/^[a-zA-Z0-9_:\-]/,{type:"class",value:"[a-zA-Z0-9_:-]",description:"[a-zA-Z0-9_:-]"},function(e){return e.join("")},'"',{type:"literal",value:'"',description:'"\\""'},"'",{type:"literal",value:"'",description:'"\'"'},function(e){return e[1]},{type:"other",description:"string"},/^[^'" ()~=!*\/:<>&|[\]{}#+@$%?\^.,]/,{type:"class",value:"[^'\" ()~=!*/:<>&|[\\]{}#+@$%?^.,]",description:"[^'\" ()~=!*/:<>&|[\\]{}#+@$%?^.,]"},function(e){return e.join("")},"\\",{type:"literal",value:"\\",description:'"\\\\"'},{type:"any",description:"any character"},function(e){return e},function(e){return e},/^['"\\bfnrtv]/,{type:"class",value:"['\"\\\\bfnrtv]",description:"['\"\\\\bfnrtv]"},function(e){return e.replace("b","\b").replace("f","\f").replace("n","\n").replace("r","\r").replace("t","\t").replace("v","\v")},"/",{type:"literal",value:"/",description:'"/"'},"i",{type:"literal",value:"i",description:'"i"'},"",function(e){return{regex:e[1],modifier:e[3]}},"\\/",{type:"literal",value:"\\/",description:'"\\\\/"'},function(){return"/"},{type:"other",description:"whitespace"},/^[ \t\n\r]/,{type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"}],d=[l("%;;/:#;!/1$;;/($8#: #!!)(#'#(\"'#&'#"),l('%;"/Y#$;</&#0#*;<&&&#/C$2!""6!7".) &2#""6#7$/($8#:%#!")(#\'#("\'#&\'#.Ł &%;"/y#$;</&#0#*;<&&&#/c$2&""6&7\'.) &2(""6(7)/H$$;</&#0#*;<&&&#/2$;2/)$8%:*%"$ )(%\'#($\'#(#\'#("\'#&\'#.Û &%;"/y#$;</&#0#*;<&&&#/c$2+""6+7,.) &2-""6-7./H$$;</&#0#*;<&&&#/2$;2/)$8%:/%"$ )(%\'#($\'#(#\'#("\'#&\'#.u &%;"/Y#$;</&#0#*;<&&&#/C$20""6071.) &22""6273/($8#:4#!")(#\'#("\'#&\'#./ &%;"/\' 8!:%!! )'),l('%;#/#$;</&#0#*;<&&&#/{$25""6576.A &27""6778.5 &29""697:.) &2;""6;7</H$$;</&#0#*;<&&&#/2$;"/)$8%:=%"$ )(%\'#($\'#(#\'#("\'#&\'#.# &;#'),l('%;$/#$;</&#0#*;<&&&#/{$2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E/H$$;</&#0#*;<&&&#/2$;#/)$8%:F%"$ )(%\'#($\'#(#\'#("\'#&\'#.# &;$'),l(';%.b &%2G""6G7H/R#;;/I$;"/@$;;/7$2I""6I7J/($8%:K%!")(%\'#($\'#(#\'#("\'#&\'#'),l(";..Y &;/.S &;&.M &;'.G &;(.A &;).; &;*.5 &;+./ &;,.) &;-.# &;0"),l('%;1/_#;;/V$2L""6L7M.) &2N""6N7O/;$;;/2$;2/)$8%:P%"$ )(%\'#($\'#(#\'#("\'#&\'#'),l('%;1/_#;;/V$2Q""6Q7R.) &2S""6S7T/;$;;/2$;2/)$8%:U%"$ )(%\'#($\'#(#\'#("\'#&\'#'),l('%;1/d#;;/[$2L""6L7M.) &2N""6N7O/@$;;/7$2V""6V7W/($8%:X%!$)(%\'#($\'#(#\'#("\'#&\'#.ċ &%;2/ā#$;</&#0#*;<&&&#/ë$%2Y""6Y7Z/m#$;</&#0#*;<&&&#/W$2[""6[7\\/H$$;</&#0#*;<&&&#/2$2]""6]7^/#$+%)(%\'#($\'#(#\'#("\'#&\'#.} &%2_""6_7`/m#$;</&#0#*;<&&&#/W$2a""6a7b/H$$;</&#0#*;<&&&#/2$2c""6c7d/#$+%)(%\'#($\'#(#\'#("\'#&\'#/($8#:X#!")(#\'#("\'#&\'#'),l('%;1/d#;;/[$2Q""6Q7R.) &2S""6S7T/@$;;/7$2V""6V7W/($8%:e%!$)(%\'#($\'#(#\'#("\'#&\'#.Á &%;2/·#$;</&#0#*;<&&&#/¡$%2Y""6Y7Z/H#$;</&#0#*;<&&&#/2$2]""6]7^/#$+#)(#\'#("\'#&\'#.X &%2_""6_7`/H#$;</&#0#*;<&&&#/2$2c""6c7d/#$+#)(#\'#("\'#&\'#/($8#:e#!")(#\'#("\'#&\'#'),l('%;1/q#;;/h$2f""6f7g.5 &2h""6h7i.) &2j""6j7k/A$;;/8$;2.# &;8/)$8%:l%"$ )(%\'#($\'#(#\'#("\'#&\'#. &%;2/#$;</&#0#*;<&&&#/i$2m""6m7n.) &2o""6o7p/N$$;</&#0#*;<&&&#/8$;2.# &;8/)$8%:l%"$ )(%\'#($\'#(#\'#("\'#&\'#'),l("%2h\"\"6h7i/#;;/z$;2/q$;;/h$2f\"\"6f7g.5 &2h\"\"6h7i.) &2j\"\"6j7k/A$;;/8$;2.# &;8/)$8':q'\"$ )(''#(&'#(%'#($'#(#'#(\"'#&'#"),l("%;1/Y#;;/P$2r\"\"6r7s/A$;;/8$;2.# &;8/)$8%:t%\"$ )(%'#($'#(#'#(\"'#&'#.ç &%;2/Ý#$;</&#0#*;<&&&#/Ç$%2[\"\"6[7\\/H#$;</&#0#*;<&&&#/2$2m\"\"6m7n/#$+#)(#'#(\"'#&'#.X &%2a\"\"6a7b/H#$;</&#0#*;<&&&#/2$2o\"\"6o7p/#$+#)(#'#(\"'#&'#/N$$;</&#0#*;<&&&#/8$;2.# &;8/)$8%:t%\"$ )(%'#($'#(#'#(\"'#&'#"),l("%;2/S#;;/J$2u\"\"6u7v/;$;;/2$;2/)$8%:w%\"$ )(%'#($'#(#'#(\"'#&'#"),l("%2x\"\"6x7y/R#;;/I$2u\"\"6u7v/:$;;/1$;2/($8%:z%! )(%'#($'#(#'#(\"'#&'#"),l('%2{""6{7|.A &2}""6}7~.5 &2""67.) &2""67/S#;;/J$2u""6u7v/;$;;/2$;2/)$8%:%"$ )(%\'#($\'#(#\'#("\'#&\'#'),l("%;2/' 8!:!! )"),l('<%$4""5!7/,#0)*4""5!7&&&#/\' 8!:!! ). &%%2""67/;#;3/2$2""67/#$+#)(#\'#("\'#&\'#.K &%2""67/;#;4/2$2""67/#$+#)(#\'#("\'#&\'#/\' 8!:!! )=." 7'),l('<%$4""5!7/,#0)*4""5!7&&&#/\' 8!:!! ). &%%2""67/;#;3/2$2""67/#$+#)(#\'#("\'#&\'#.K &%2""67/;#;4/2$2""67/#$+#)(#\'#("\'#&\'#/\' 8!:!! )=." 7'),l("%$;50#*;5&/' 8!:!! )"),l("%$;60#*;6&/' 8!:!! )"),l('%%<2""67.) &2""67=.##&&!&\'#/6#1""5!7/($8":"! )("\'#&\'#.A &%2""67/1#;7/($8":"! )("\'#&\'#'),l('%%<2""67.) &2""67=.##&&!&\'#/6#1""5!7/($8":"! )("\'#&\'#.A &%2""67/1#;7/($8":"! )("\'#&\'#'),l('%4""5!7/\' 8!:!! )'),l('<%%2""67/U#;9/L$2""67/=$2""67.# & ." &"/#$+$)($\'#(#\'#("\'#&\'#/\' 8!:!! )=." 7'),l("%$;:/&#0#*;:&&&#/' 8!:!! )"),l('%%<2""67.) &2 ""6 7¡=.##&&!&\'#/6#1""5!7/($8":"! )("\'#&\'#.4 &%2 ""6 7¡/& 8!:¢! )'),l('<$;<0#*;<&=." 7£'),l('<4¤""5!7¥=." 7£')],$=0,a=[{line:1,column:1,seenCR:!1}],n=0,u=[],y=0;if("startRule"in e){if(!(e.startRule in r))throw new Error("Can't start parsing from rule \""+e.startRule+'".');t=r[e.startRule]}function i(e){var r,t,n=a[e];if(n)return n;for(r=e-1;!a[r];)r--;for(n={line:(n=a[r]).line,column:n.column,seenCR:n.seenCR};r<e;)"\n"===(t=c.charAt(r))?(n.seenCR||n.line++,n.column=1,n.seenCR=!1):"\r"===t||"\u2028"===t||"\u2029"===t?(n.line++,n.column=1,n.seenCR=!0):(n.column++,n.seenCR=!1),r++;return a[e]=n}function o(e,r){var t=i(e),n=i(r);return{start:{offset:e,line:t.line,column:t.column},end:{offset:r,line:n.line,column:n.column}}}function h(e){$<n||(n<$&&(n=$,u=[]),u.push(e))}function s(e,r,t,n){return null!==r&&function(e){var r=1;for(e.sort(function(e,r){return e.description<r.description?-1:e.description>r.description?1:0});r<e.length;)e[r-1]===e[r]?e.splice(r,1):r++}(r),new v(null!==e?e:function(e,r){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n].description;function a(e){return e.charCodeAt(0).toString(16).toUpperCase()}return"Expected "+(1<e.length?t.slice(0,-1).join(", ")+" or "+t[e.length-1]:t[0])+" but "+(r?'"'+r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+a(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+a(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+a(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+a(e)})+'"':"end of input")+" found."}(r,t),r,t,n)}function l(e){for(var r=new Array(e.length),t=0;t<e.length;t++)r[t]=e.charCodeAt(t)-32;return r}if((t=function e(r){for(var t,n,a=d[r],u=0,i=[],o=a.length,s=[],l=[];;){for(;u<o;)switch(a[u]){case 0:l.push(f[a[u+1]]),u+=2;break;case 1:l.push(void 0),u++;break;case 2:l.push(null),u++;break;case 3:l.push(p),u++;break;case 4:l.push([]),u++;break;case 5:l.push($),u++;break;case 6:l.pop(),u++;break;case 7:$=l.pop(),u++;break;case 8:l.length-=a[u+1],u+=2;break;case 9:l.splice(-2,1),u++;break;case 10:l[l.length-2].push(l.pop()),u++;break;case 11:l.push(l.splice(l.length-a[u+1],a[u+1])),u+=2;break;case 12:l.push(c.substring(l.pop(),$)),u++;break;case 13:s.push(o),i.push(u+3+a[u+1]+a[u+2]),l[l.length-1]?(o=u+3+a[u+1],u+=3):(o=u+3+a[u+1]+a[u+2],u+=3+a[u+1]);break;case 14:s.push(o),i.push(u+3+a[u+1]+a[u+2]),l[l.length-1]===p?(o=u+3+a[u+1],u+=3):(o=u+3+a[u+1]+a[u+2],u+=3+a[u+1]);break;case 15:s.push(o),i.push(u+3+a[u+1]+a[u+2]),l[l.length-1]!==p?(o=u+3+a[u+1],u+=3):(o=u+3+a[u+1]+a[u+2],u+=3+a[u+1]);break;case 16:l[l.length-1]!==p?(s.push(o),i.push(u),o=u+2+a[u+1],u+=2):u+=2+a[u+1];break;case 17:s.push(o),i.push(u+3+a[u+1]+a[u+2]),c.length>$?(o=u+3+a[u+1],u+=3):(o=u+3+a[u+1]+a[u+2],u+=3+a[u+1]);break;case 18:s.push(o),i.push(u+4+a[u+2]+a[u+3]),c.substr($,f[a[u+1]].length)===f[a[u+1]]?(o=u+4+a[u+2],u+=4):(o=u+4+a[u+2]+a[u+3],u+=4+a[u+2]);break;case 19:s.push(o),i.push(u+4+a[u+2]+a[u+3]),c.substr($,f[a[u+1]].length).toLowerCase()===f[a[u+1]]?(o=u+4+a[u+2],u+=4):(o=u+4+a[u+2]+a[u+3],u+=4+a[u+2]);break;case 20:s.push(o),i.push(u+4+a[u+2]+a[u+3]),f[a[u+1]].test(c.charAt($))?(o=u+4+a[u+2],u+=4):(o=u+4+a[u+2]+a[u+3],u+=4+a[u+2]);break;case 21:l.push(c.substr($,a[u+1])),$+=a[u+1],u+=2;break;case 22:l.push(f[a[u+1]]),$+=f[a[u+1]].length,u+=2;break;case 23:l.push(p),0===y&&h(f[a[u+1]]),u+=2;break;case 24:l[l.length-1-a[u+1]],u+=2;break;case 25:u++;break;case 26:for(t=a.slice(u+4,u+4+a[u+3]),n=0;n<a[u+3];n++)t[n]=l[l.length-1-t[n]];l.splice(l.length-a[u+2],a[u+2],f[a[u+1]].apply(null,t)),u+=4+a[u+3];break;case 27:l.push(e(a[u+1])),u+=2;break;case 28:y++,u++;break;case 29:y--,u++;break;default:throw new Error("Invalid opcode: "+a[u]+".")}if(!(0<s.length))break;o=s.pop(),u=i.pop()}return l[0]}(t))!==p&&$===c.length)return t;throw t!==p&&$<c.length&&h({type:"end",description:"end of input"}),s(null,u,n<c.length?c.charAt(n):null,n<c.length?o(n,n+1):o(n,n))}}}()},{}]},{},[2])(2)});