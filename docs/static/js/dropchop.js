var dropchop=function(s){"use strict";return(s=s||{}).util={},s.util.removeFileExtension=function(e){return e=e.replace(/\.[^/.]+$/,"")},s.util.removeWhiteSpace=function(e){return e=e.replace(/^\s+|\s+$/g,""),console.log(e),e},s.util.concat=function(t,a,e){var r="";return $(t).each(function(e){r+=a+t[e]}),r=e+r},s.util.xhr=function(t,e){dropchop.util.loader(!0);var a=new XMLHttpRequest;a.open("GET",t),a.onload=e.bind(this,a),a.onerror=function(e){dropchop.util.loader(!1),console.error(e),s.notify("error","Unable to access "+t,2500)},a.send()},s.util.get=function(e,t,a){t={data:t,dataType:"json"};return s.util.corsSupport&&!1!==a||(console.log("No CORS support, using JSONP"),t.dataType="jsonp"),dropchop.util.loader(!0),$.ajax(e,t)},s.util.readFile=function(e){var t=new FileReader;-1<e.name.indexOf(".zip")||-1<e.name.indexOf(".shp")?(t.readAsArrayBuffer(e),s.util.loader(!0),t.onloadend=function(e){shp(t.result).catch(function(e){console.log("Problematic projection - ",e)}).then(function(e){return s.util.loader(!1),e?void $(s).trigger("file:added",[e.fileName,e]):s.notify("error","Invalid projection or shapefile.",2500)})}):(t.readAsText(e,"UTF-8"),t.onload=function(){$(s).trigger("file:added",[e.name,JSON.parse(t.result)])})},s.util.jsonFromUrl=function(){var a=location.search.substr(1).split(/(&?gist=|&?url=)/g).filter(function(e){return 0<e.length}),r={};return a.forEach(function(e,t){0!==t&&t%2!=0||(e=e.replace(/&|=/g,""),r[e]||(r[e]=[]),r[e].push(decodeURIComponent(a[t+1])))}),r},s.util.updateSearch=function(){var t=[];Object.keys(s.layers.list).forEach(function(e){s.layers.list[e].ltype&&s.layers.list[e].url&&t.indexOf(s.layers.list[e].ltype+"="+s.layers.list[e].url)<0&&t.push(s.layers.list[e].ltype+"="+s.layers.list[e].url)});var e=t.length?"?"+t.join("&"):"/";e!==window.location.search&&window.history.pushState(null,null,e)},s.util.executeUrlParams=function(){var t=s.util.jsonFromUrl();t.gist&&t.gist.length&&$(t.gist).each(function(e){s.ops.file["load-gist"].get({},"load-gist",[t.gist[e]])}),t.url&&t.url.length&&$(t.url).each(function(e){s.ops.file["load-url"].get({},"load-url",[t.url[e]])})},s.util.getFileExtension=function(e){return e.substr(e.lastIndexOf(".")+1)},s.util.getBBox=function(){var e=s.map.m.getBounds(),t=e.getSouthWest(),e=e.getNorthEast();return t.lat+","+t.lng+","+e.lat+","+e.lng},s.util.getEsriBBox=function(){var e=s.map.m.getBounds(),t=e.getSouthWest(),e=e.getNorthEast();return t.lng+","+t.lat+","+e.lng+","+e.lat},s.util.uncollect=function(e){return e.features[0]},s.util.esri2geo=function(e){return toGeoJSON(e)},s.util.executeFC=function(e,t,a){for(var r,o=a,n={type:"FeatureCollection",features:[]},i=0;i<e.features.length;i++){o[0]=e.features[i];try{(r=turf[t].apply(null,o)).properties=e.features[i].properties||{}}catch(e){s.notify("error",e)}n.features.push(r)}return n},s.util.loader=function(e){var t=$("<div>").addClass("dropchop-loader");e?($("body").addClass("dropchop-loading"),$("body").append(t)):($("body").removeClass("dropchop-loading"),$(".dropchop-loader").addClass("loader-complete").fadeOut(2e3,function(){$(this).remove()}))},s.util.corsSupport=function(){return"XMLHttprequest"in window&&"withCredentials"in new window.XMLHttpRequest},s}((dropchop=function(t){"use strict";return(t=t||{}).shortcuts={},t.shortcuts.list=[],t.shortcuts.init=function(){Mousetrap.bind(["command+a","ctrl+a"],function(e){return t.layerlist.selectAll(),!1}),Mousetrap.bind(["command+backspace","ctrl+backspace"],function(e){return t.layerlist.clearSelection(),!1}),Mousetrap.bind(["ctrl+shift+k"],function(e){return t.ops.file.remove.execute(),!1}),Mousetrap.bind(["command+plus","ctrl+plus","command+=","ctrl+="],function(e){return dropchop.layerlist.checkAll(!0),!1}),Mousetrap.bind(["command+-","ctrl+-"],function(e){return t.layerlist.uncheckAll(!0),!1})},t}((dropchop=function(r){"use strict";function e(e,t){r.selection.remove({},{stamp:t}),r.selection.clear()}return(r=r||{}).selection={},r.selection.list=[],r.selection.init=function(){$(r).on("layer:selected",r.selection.add),$(r).on("layer:unselected",r.selection.remove),$(r).on("layer:removed",e)},r.selection.add=function(e,t){r.selection.list.push(t)},r.selection.remove=function(e,t){var a=null;$(r.selection.list).each(function(e){r.selection.list[e].stamp===t.stamp&&(a=e)}),r.selection.list.splice(a,1)},r.selection.clear=function(){$(".layer-name.selected").removeClass("selected"),$(".operation-geo").addClass("operation-inactive"),$(".operation-geo").prop("disabled",!0),r.selection.list=[]},r.selection.isSelected=function(e){return Boolean(dropchop.selection.list.indexOf(e)+1)},r}((dropchop=function(t){"use strict";return(t=t||{}).ops=t.ops||{},t.ops.geo={along:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!1,types:["Feature<LineString>","FeatureCollection"]},description:"Takes a line and returns a point at a specified distance along the line.",parameters:[{name:"distance",description:"distance along the line",type:"number",default:10},{name:"units",type:"select",description:"",options:["miles","kilometers","radians","degrees"],default:"miles"}],execute:function(e){return"FeatureCollection"===e[0].type?t.util.executeFC(e[0],"along",e):turf.along.apply(null,e)}},bezier:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!1,types:["Feature<LineString>","FeatureCollection"]},description:"Takes a line and returns a curved version by applying a Bezier spline algorithm.",parameters:[{name:"resolution",description:"Time in milliseconds between points",type:"number",default:1e4},{name:"sharpness",description:"a measure of how curvy the path should be between splines",type:"number",default:.85}],execute:function(e){return"FeatureCollection"===e[0].type?t.util.executeFC(e[0],"bezier",e):turf.bezier.apply(null,e)}},buffer:{maxFeatures:1,minFeatures:1,requirements:{generalFeature:!0,types:["Feature","FeatureCollection"]},description:"Calculates a buffer for input features for a given radius. Units supported are miles, kilometers, and degrees.",parameters:[{name:"distance",description:"Distance to draw the buffer.",type:"number",default:10},{name:"unit",type:"select",description:"",options:["miles","feet","kilometers","meters","degrees"],default:"miles"}],execute:function(e){return turf.buffer.apply(null,e)}},center:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!0,types:["Feature","FeatureCollection"]},description:"Creates a point in the center of the feature.",parameters:[{name:"recursive",description:"Run the operation on each feature in the collection or the entire collection.",type:"recursive"}],execute:function(e){return"true"===e[1]?t.util.executeFC(e[0],"center",e):turf.center.apply(null,e)}},centroid:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!0,types:["Feature","FeatureCollection"]},description:"Creates a point in the centroid of the features.",parameters:[{name:"recursive",description:"Run the operation on each feature in the collection or the entire collection.",type:"recursive"}],execute:function(e){return"true"===e[1]?t.util.executeFC(e[0],"centroid",e):turf.centroid.apply(null,e)}},destination:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!1,types:["Feature<Point>","FeatureCollection"]},description:"Takes a Point and calculates the location of a destination point given a distance in degrees, radians, miles, or kilometers; and bearing in degrees. This uses the Haversine formula to account for global curvature.",parameters:[{name:"distance",description:"distance from the starting point",type:"number",default:10},{name:"bearing",description:"ranging from -180 to 180",type:"number",default:0},{name:"units",type:"select",description:"",options:["miles","kilometers","radians","degrees"],default:"miles"}],execute:function(e){return"FeatureCollection"===e[0].type?t.util.executeFC(e[0],"destination",e):turf.destination.apply(null,e)}},envelope:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!1,types:["FeatureCollection"]},description:"Takes any number of features and returns a rectangular Polygon that encompasses all vertices.",execute:function(e){return turf.envelope.apply(null,e)}},explode:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!0,types:["Feature","FeatureCollection"]},description:"Takes a feature or set of features and returns all positions as points.",execute:function(e){return turf.explode.apply(null,e)}},midpoint:{minFeatures:2,maxFeatures:2,requirements:{generalFeature:!1,types:["Feature<Point>"]},description:"Takes two points and returns a point midway between them.",execute:function(e){return turf.midpoint.apply(null,e)}},sample:{maxFeatures:1,minFeatures:1,requirements:{generalFeature:!0,types:["FeatureCollection"]},description:"Takes a FeatureCollection and returns a FeatureCollection with given number of features at random.",parameters:[{name:"num",description:"Number of features to select.",type:"number",default:1}],execute:function(e){return turf.sample.apply(null,e)}},simplify:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!1,types:["Feature<LineString>","Feature<Polygon>","FeatureCollection"]},description:"Takes a LineString or Polygon and returns a simplified version. Internally uses simplify-js to perform simplification.",parameters:[{name:"tolerance",description:"simplification tolerance",type:"number",default:.1},{name:"high quality",type:"checkbox",description:"whether or not to spend more time to create a higher-quality simplification with a different algorithm",default:!1}],execute:function(e){return"FeatureCollection"===e[0].type?t.util.executeFC(e[0],"simplify",e):turf.simplify.apply(null,e)}},tin:{minFeatures:1,maxFeatures:1,requirements:{generalFeature:!1,types:["FeatureCollection"]},description:"Triangulated irregular network, interpolation method",execute:function(e){return turf.tin.apply(null,e)}},union:{minFeatures:2,maxFeatures:2,requirements:{generalFeature:!1,types:["Feature<Polygon>"]},description:"Takes two polygons and returns a combined polygon. If the input polygons are not contiguous, this function returns a MultiPolygon feature.",execute:function(e){return turf.union.apply(null,e)}},within:{minFeatures:2,maxFeatures:2,requirements:{generalFeature:!1,types:["FeatureCollection"]},description:"Takes a set of points and a set of polygons and returns the points that fall within the polygons. First input should be the points.",parameters:[{name:"Points to clip",description:"Select the layer that represents the points you want to clip. This assumes the other layer is your clipping polygon.",type:"switch"}],execute:function(e){return turf.within.apply(null,e)}}},t}((dropchop=function(n){"use strict";return(n=n||{}).ops=n.ops||{},n.ops.file={upload:{description:"Upload from your computer (.geojson)",icon:'<i class="fa fa-upload"></i>',execute:function(){var e=$("<input>").attr("type","file").attr("multiple","true").css("visibility","hidden").css("position","absolute").css("height","0").on("change",function(){var t=this.files;$(t).each(function(e){n.util.readFile(t[e])}),e.remove()});$("body").append(e),e.click()}},"load-url":{description:"Import file from a URL",icon:'<i class="fa fa-link"></i>',parameters:[{name:"url",description:"URL",type:"text",default:"http://"}],execute:function(){$(n).trigger("form:file",["load-url"])},get:function(e,t,a){a=a[0];n.util.xhr(a,n.ops.file[t].callback)},callback:function(e,t){var a,r;dropchop.util.loader(!1),200===e.status?(a=JSON.parse(e.responseText),r=e.responseURL.substring(e.responseURL.lastIndexOf("/")+1),$(n).trigger("file:added",[r,a,"url",e.responseURL])):n.notify("error",e.status+": could not retrieve Gist. Please check your URL")}},"load-gist":{description:"Import files from Gist",icon:'<i class="fa fa-github"></i>',parameters:[{name:"gist",description:"Gist ID or URL",type:"text",default:"https://gist.github.com/"}],execute:function(){$(n).trigger("form:file",["load-gist"])},get:function(e,t,a){a="https://api.github.com/gists/"+a[0].split("/")[a[0].split("/").length-1];n.util.xhr(a,n.ops.file[t].callback)},callback:function(e,t){if(dropchop.util.loader(!1),200===e.status){var a,r=JSON.parse(e.responseText);for(a in r.files){var o=r.files[a].filename;$(n).trigger("file:added",[o,JSON.parse(r.files[a].content),"gist",e.responseURL.split("/")[e.responseURL.split("/").length-1]])}}else n.notify("error",e.status+": could not retrieve Gist. Please check your URL")}},"load-arcgis":{description:"Query an ArcGIS Server Feature Service",icon:'<i class="fa fa-globe"></i>',_temp:{layerName:"arcjson"},parameters:[{name:"feature service",description:"Enter URL to ArcGIS Feature Service (ex. http://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/0)",type:"text",default:"http://sampleserver6.arcgisonline.com/arcgis/rest/services/Hurricanes/MapServer/0"},{name:"where",description:"A where clause for the query filter. Any legal SQL where clause operating on the fields in the layer is allowed.",type:"text",default:"1=1"},{name:"request type",description:"select JSONP if you receive cross-origin resource sharing errors",type:"radio",default:"CORS",options:["CORS","JSONP"]},{name:"limit to map",description:"only load features within current map view",type:"checkbox"}],execute:function(){$(n).trigger("form:file",["load-arcgis"])},checkJsonp:function(e){return"JSONP"!==e[2]},get:function(e,t,a){n.ops.file["load-arcgis"]._temp.layerName=a[0];var r="-180,-90,180,90";a[3]&&(r=n.util.getEsriBBox());var o=a[0]+"/query/",r={f:"json",inSR:4326,outSR:4326,geometry:r,where:a[1],outfields:"*"},a=n.ops.file["load-arcgis"].checkJsonp(a);n.util.get(o,r,a).done(function(e){n.ops.file["load-arcgis"].callback(e)}).fail(function(e,t,a){dropchop.util.loader(!1),n.notify("Error",t,a)})},callback:function(e){dropchop.util.loader(!1);var t=n.util.esri2geo(e);e.features.length<1?n.notify("info","No features found in your query."):($(n).trigger("file:added",[n.ops.file["load-arcgis"]._temp.layerName,t]),n.notify("success","Found <strong>"+e.features.length+" features</strong> from the ArcGIS Service"))}},"load-overpass":{description:"Query the Overpass API",icon:'<i class="fa fa-terminal"></i>',_temp:{},parameters:[{name:"query",description:'Enter a search query in the overpass-turbo wizard syntax. Learn more about <a href="http://wiki.openstreetmap.org/wiki/Overpass_turbo/Wizard" target="_blank">the supported features</a>.',type:"text",default:"amenity=bar"},{name:"layer name",description:"Name of the layer added if results are found.",type:"text",default:"overpass_layer_name"}],execute:function(){$(n).trigger("form:file",["load-overpass"])},get:function(e,t,a){n.ops.file["load-overpass"]._temp.layerName=a[1];var r=n.util.getBBox(),a=overpassWizard(a[0]);if(!1===a)return n.notify("error","Can't create overpass query for this search input.");overpassWizardExpand(a,r,function(e,t){return e?n.notify("error","Error while expanding overpass query: "+e):void n.util.xhr("http://overpass-api.de/api/interpreter?data="+encodeURIComponent(t),n.ops.file["load-overpass"].callback)})},callback:function(e,t){var a,r;dropchop.util.loader(!1),200===e.status?(a=JSON.parse(e.responseText),r=osmtogeojson(a,{flatProperties:!0}),a.elements.length?($(n).trigger("file:added",[n.ops.file["load-overpass"]._temp.layerName,r]),n.notify("success","Found <strong>"+a.elements.length+" elements</strong> from the Overpass API")):n.notify("info","No elements found in your query.")):n.notify("error",e.status+": could not query the Overpass API")}},location:{description:"Add your location as a layer",icon:'<i class="fa fa-crosshairs"></i>',execute:function(){navigator.geolocation?n.map.m.locate():n.notify("error","Geolocation is not available on this browser.",4e3)}},"load-custom-base":{description:"Add custom Mapbox basemap",icon:'<i class="fa fa-map-o"></i>',_temp:"",parameters:[{name:"Map ID",description:"Map ID",type:"text",default:"username.id"},{name:"Custom Base Layer Name",description:"Name of the custom baselayer added.",type:"text",default:"Basemap name"}],execute:function(){$(n).trigger("form:file",["load-custom-base"])},get:function(e,t,a){n.ops.file["load-custom-base"]._temp=a[0],n.ops.file["load-custom-base"]._temp_1=a[1];a="https://api.mapbox.com/v4/"+n.ops.file["load-custom-base"]._temp+".html?access_token="+n.map.token;n.util.xhr(a,n.ops.file[t].callback)},callback:function(e,t){var a;dropchop.util.loader(!1),200===e.status?(a=n.map.baseLayers.addBaseLayer(L.mapbox.tileLayer(n.ops.file["load-custom-base"]._temp),n.ops.file["load-custom-base"]._temp_1),L.mapbox.tileLayer(a).addTo(n.map.m)):n.notify("error",e.status+": could not retrieve base map. Please check your Map ID")}},"save-geojson":{minFeatures:1,description:"Save as GeoJSON",icon:'<i class="fa fa-file-code-o"></i>',createsLayer:!1,execute:function(){for(var e=0;e<n.selection.list.length;e++){var t=JSON.stringify(n.selection.list[e].raw),a="dropchop_"+n.selection.list[e].name+".geojson";saveAs(new Blob([t],{type:"text/plain;charset=utf-8"}),a)}}},"save-topojson":{minFeatures:1,description:"Save as TopoJSON",icon:'<i class="fa fa-object-ungroup"></i>',createsLayer:!1,execute:function(){for(var e=0;e<n.selection.list.length;e++){var t=JSON.stringify(topojson.topology({collection:n.selection.list[e].raw},{"property-transform":function(e){return e.properties}})),a="dropchop_"+n.selection.list[e].name+".topojson";saveAs(new Blob([t],{type:"text/plain;charset=utf-8"}),a)}}},"save-shapefile":{minFeatures:1,description:"Save as Shapefile",icon:'<i class="fa fa-file"></i>',execute:function(){$(n.selection.list).each(function(e){try{var t={folder:"dropchop_"+n.selection.list[e].name,types:{point:"dropchop_"+n.selection.list[e].name+"_point",polygon:"dropchop_"+n.selection.list[e].name+"_poly",line:"dropchop_"+n.selection.list[e].name+"_line"}};shpwrite.download(n.selection.list[e].raw,t)}catch(e){throw n.notify("Error","There was a problem downloading the shapefile."+e),e}})},createsLayer:!1},extent:{minFeatures:1,description:"View extent of layers",icon:'<i class="fa fa-globe"></i>',execute:function(){var a;n.selection.list.length?($(n.selection.list).each(function(e){var t=n.selection.list[e].featurelayer;e?a.extend(t.getBounds()):a=t.getBounds()}),n.map.m.fitBounds(a)):n.map.m.fitBounds(n.map.layergroup.getBounds())}},expand:{minFeatures:1,description:"Convert FeatureCollection into separate features",icon:'<i class="fa fa-expand"></i>',execute:function(){var t=0;if(1===n.selection.list.length){var a=n.selection.list[0];if("FeatureCollection"!==a.raw.type){var e=new Error("That needs to be a feature collection!");throw n.notify("error","Layer is not a FeatureCollection."),e}$(a.raw.features).each(function(e){t++,$(n).trigger("file:added",[a.name+t+"_"+a.raw.features[e].geometry.type,a.raw.features[e]])})}else n.notify("info","Please select a single layer!")}},combine:{minFeatures:1,description:"Combines selected features into a single FeatureCollection",icon:'<i class="fa fa-compress"></i>',execute:function(){var t={type:"FeatureCollection",features:[]};0<n.selection.list.length?($(n.selection.list).each(function(e){"FeatureCollection"!==n.selection.list[e].raw.type?t.features.push(n.selection.list[e].raw):n.notify("info",n.selection.list[e].name+" was not added because it is already a FeatureCollection")}),$(n).trigger("file:added",["new_FeatureCollection",t])):n.notify("info","No layers selected!")}},duplicate:{minFeatures:1,description:"Duplicate selected layers",icon:'<i class="fa fa-files-o"></i>',execute:function(){$(n.selection.list).each(function(e){$(n).trigger("layer:duplicate",[this.stamp])}),n.selection.clear()}},rename:{minFeatures:1,maxFeatures:1,description:"Rename layer",icon:'<i class="fa fa-pencil"></i>',parameters:[{name:"Name",type:"text",description:""}],execute:function(){1===n.selection.list.length?$(n).trigger("form:file",["rename"]):n.notify("info","Please select <strong>one layer</strong>.")},callback:function(e,t,a){$(n).trigger("layer:rename",[n.selection.list[0],a[0]])}},remove:{minFeatures:1,description:"Remove selected layers",icon:'<i class="fa fa-trash-o"></i>',execute:function(){$(n.selection.list).each(function(e){$(n).trigger("layer:remove",[this.stamp])}),n.selection.clear(),n.util.updateSearch()}},info:{type:"info",description:"Learn more about dropchop",icon:'<i class="fa fa-info"></i>',execute:function(){window.location="/about.html"}}},n}((dropchop=function(o){"use strict";return(o=o||{}).notify=function(e,t,a){var r=$("<div>").addClass("notification").addClass(e).html(t);"close"===a?((t=$("<button>").addClass("notification-close").prop("type","button").html('<i class="fa fa-times"></i>')).on("click",function(e){$(this).parent().remove()}),$(r).append(t),$(o.$elem).append(r)):($(o.$elem).append(r),setTimeout(function(){r.remove()},a||3e3))},o}((dropchop=function(c){"use strict";function p(e){e.preventDefault();var t=$(this).attr("data-operation");try{c.ops.file[t].execute()}catch(e){throw c.notify("error","This operation doesn't exist!"),e}}return(c=c||{}).menus=c.menus||{},c.menus.left=c.menus.left||{},c.menus.left.init=function(){$(c).on("operation:file:load-gist",c.ops.file["load-gist"].get),$(c).on("operation:file:load-url",c.ops.file["load-url"].get),$(c).on("operation:file:load-overpass",c.ops.file["load-overpass"].get),$(c).on("operation:file:load-arcgis",c.ops.file["load-arcgis"].get),$(c).on("operation:file:load-custom-base",c.ops.file["load-custom-base"].get),$(c).on("operation:file:rename",c.ops.file.rename.callback),c.menus.left.setup=[{name:"import",icon:'<i class="fa fa-plus"></i>',actions:["upload","load-url","load-gist","load-overpass","load-arcgis","load-custom-base","location"]},{name:"Save",icon:'<i class="fa fa-floppy-o"></i>',actions:["save-geojson","save-topojson","save-shapefile"]},"info"];for(var e=$("<div>").addClass("dropchop-menu-left"),t=c.menus.left.setup,a=0;a<t.length;a++){var r,o=t[a];if("object"!=typeof t[a]){"break"===c.ops.file[o].type?(r=$("<div>").addClass("menu-action-break"),e.append(r)):e.append(l(o))}else{o=$("<div>").addClass("menu-action menu-collapse").html(t[a].icon);"import"===t[a].name&&o.addClass("menu-import");for(var n=$("<div>").addClass("menu-collapse-inner"),i=0;i<t[a].actions.length;i++){var s=t[a].actions[i];n.append(l(s))}o.append(n),e.append(o)}}function l(e){var t=$("<button>").addClass("menu-action").html(c.ops.file[e].icon||"!").attr("data-operation",e).attr("data-tooltip",c.ops.file[e].description);return"info"===c.ops.file[e].type&&t.addClass("dropchop-info"),t.on("click",p),t}c.$elem.append(e)},c}((dropchop=function(u){"use strict";function d(e){e.preventDefault();var t=$(this).attr("data-operation");try{u.ops.file[t].execute()}catch(e){throw u.notify("error","This operation doesn't exist!"),e}}return(u=u||{}).menus=u.menus||{},u.menus.layerContextMenu=u.menus.layerContextMenu||{},u.menus.layerContextMenu.init=function(){$("html").bind("click",function(e){u.menus.layerContextMenu.removeLayerContextMenus()})},u.menus.layerContextMenu.createLayerContextMenu=function(e,a,r){e instanceof jQuery||(e=$(e)),u.menus.layerContextMenu.removeLayerContextMenus();var t=e.parent(),o=u.layers.list[t.attr("data-stamp")];dropchop.selection.isSelected(o)||e.trigger("click");var n=$("<div>").addClass("context-menu"),i=$("<ul>");n.append(i);var s,l={title1:"Layer",rename:u.ops.file.rename,duplicate:u.ops.file.duplicate,remove:u.ops.file.remove,title2:"Geo",extent:u.ops.file.extent,expand:u.ops.file.expand,combine:u.ops.file.combine};for(s in l){var c,p=l[s];"string"==typeof p||p instanceof String?i.append($('<li class="title"><h4>'+p+"</h4></li>")):(c=$("<li>").addClass("menu-action").html('<div class="icon">'+p.icon+'</div><div class="description">'+p.description+"</div>").attr("data-operation",s).attr("data-tooltip",p.description),(p.minFeatures>dropchop.selection.list.length||p.maxFeatures<dropchop.selection.list.length)&&c.addClass("operation-inactive"),c.on("click",d),i.append(c))}n.addClass("hidden"),t.parent().append(n);t=function(){var e=$(window).height(),t=n.height();{return r+t<e?{top:r,left:a}:{top:r-(r+t-e)-10,left:a}}}();n.css(t),n.removeClass("hidden")},u.menus.layerContextMenu.removeLayerContextMenus=function(){$(".context-menu").remove()},u}((dropchop=function(l){"use strict";function r(e){e.preventDefault();e=$(this).attr("data-operation");l.ops.geo[e].parameters?$(l).trigger("form:geo",[e]):$(l).trigger("operation:geo",[e,l.selection.list])}return(l=l||{}).menus=l.menus||{},l.menus.geo=l.menus.geo||{},l.menus.geo.init=function(){var e,t=$("<div>").addClass("operations-geo");for(e in l.$elem.append(t),$(l).on("layer:selected",l.menus.geo.geoCheck),$(l).on("layer:unselected",l.menus.geo.geoCheck),$(l).on("operation:geo",l.menus.geo.geoExecute),l.ops.geo){var a=$("<button>").addClass("operation operation-geo operation-inactive").html("<h4>"+e+"</h4><p>"+l.ops.geo[e].description+"</p>").prop("disabled",!0).attr("data-operation",e);a.on("click",r),t.append(a)}},l.menus.geo.geoExecute=function(e,t,a){var r=l.menus.geo.prepareTurfParams(t,a),o=null;try{o=l.ops.geo[t].execute(r.options)}catch(e){throw l.notify("That operation isn't possible. Try changing the order of your selection."),e}$(l).trigger("file:added",[r.name,o])},l.menus.geo.prepareTurfParams=function(e,t){var a={options:[]},r=[],o=[];return $(l.selection.list).each(function(e){-1===$.inArray("switch-"+l.selection.list[e].stamp,t)?r.push(l.selection.list[e].raw):r.unshift(l.selection.list[e].raw),o.push(l.selection.list[e].name)}),a.options=$.merge(r,t),a.name=l.util.concat(o,"_",e),a},l.menus.geo.geoCheck=function(e,t){for(var a in l.ops.geo){var r=l.ops.geo[a];if(l.selection.list.length>r.maxFeatures||l.selection.list.length<r.minFeatures)i(a);else for(var o=0;o<l.selection.list.length;o++){var n=l.selection.list[o];(-1<$.inArray(n.type,r.requirements.types)||!0===r.requirements.generalFeature?function(e){e=$("[data-operation="+e+"]");e.removeClass("operation-inactive"),e.prop("disabled",!1)}:i)(a)}}function i(e){e=$("[data-operation="+e+"]");e.addClass("operation-inactive"),e.prop("disabled",!0)}var s;(s=$(".operation-geo").sort(function(e,t){return $(t).data("operation")<$(e).data("operation")?1:-1})).filter(function(e,t){if(!$(t).prop("disabled"))return t}).appendTo(".operations-geo"),s.filter(function(e,t){if($(t).prop("disabled"))return t}).appendTo(".operations-geo"),$(".operations-geo").scrollTop(0)},l}((dropchop=function(a){"use strict";return(a=a||{}).map={},a.map.init=function(){a.map.$elem=$("<div>").prop("id","dropchop-map").addClass("map"),a.$elem.append(a.map.$elem),$(a).on("layer:removed",a.map.removeLayer),function(){a.map.token=L.mapbox.accessToken="pk.eyJ1Ijoic3ZtYXR0aGV3cyIsImEiOiJVMUlUR0xrIn0.NweS_AttjswtN5wRuWCSNA",a.map.m=L.mapbox.map("dropchop-map",null,{zoomControl:!1,worldCopyJump:!0}).setView([0,0],3),L.control.zoom({position:"topleft"}).addTo(a.map.m),L.mapbox.geocoderControl("mapbox.places",{position:"topleft"}).addTo(a.map.m);var e={"Mapbox Streets":L.mapbox.styleLayer("mapbox://styles/mapbox/streets-v11"),"Mapbox Outdoors":L.mapbox.styleLayer("mapbox://styles/mapbox/outdoors-v11"),"Mapbox Light":L.mapbox.styleLayer("mapbox://styles/mapbox/light-v10"),"Mapbox Dark":L.mapbox.styleLayer("mapbox://styles/mapbox/dark-v10"),"Mapbox Satellite":L.mapbox.styleLayer("mapbox://styles/mapbox/satellite-streets-v11")};e["Mapbox Streets"].addTo(a.map.m),a.map.baseLayers=L.control.layers(e,{},{position:"bottomright",collapsed:!1}).addTo(a.map.m),a.map.layergroup=L.mapbox.featureLayer(),a.map.layergroup.addTo(a.map.m),$(a).on("layer:added",a.map.addLayer),$(a).on("layer:hide",a.map.hideLayer),$(a).on("layer:show",a.map.showLayer),$(a.map.m).on("locationfound",function(e){e=e.originalEvent;a.map.m.fitBounds(e.bounds);e={type:"Feature",geometry:{type:"Point",coordinates:[e.latlng.lng,e.latlng.lat]},properties:{title:"There You Are","marker-color":"#207178","marker-symbol":"heart"}};$(a).trigger("file:added",["your location",e])}),$(a.map.m).on("locationerror",function(){a.notify("error","There was a problem finding your location.",3e3)})}()},a.map.count=0,a.map.addLayer=function(e,t){t=t.featurelayer;a.map.layergroup.addLayer(t),t.eachLayer(function(e){var t='<table class="dropchop-table"><tr><th>Property</th><th>Data</th></tr>';if(e.feature.properties)for(var a in e.feature.properties)t+="<tr><td><strong>"+a+"</strong></td><td>"+e.feature.properties[a]+"</td></tr>";else t+="<p>There are no properties set for this feature.</p>";t+="</table>",e.bindPopup(L.popup({maxWidth:450,maxHeight:200,autoPanPadding:[45,45],className:"dropchop-popup"},e).setContent(t))})},a.map.hideLayer=function(e,t){a.map.layergroup.removeLayer(t.featurelayer)},a.map.showLayer=function(e,t){a.map.layergroup.addLayer(t.featurelayer)},a.map.removeLayer=function(e,t){a.map.layergroup.removeLayer(a.layers.list[t].featurelayer)},a}((dropchop=function(n){"use strict";return(n=n||{}).layers={},n.layers.list={},n.layers.prepare=function(){$(n).on("file:added",n.layers.add),$(n).on("layer:remove",n.layers.remove),$(n).on("layer:duplicate",n.layers.duplicate),$(n).on("layer:rename",n.layers.rename)},n.layers.add=function(e,t,a,r,o){"Topology"===a.type&&(a=topojson.client.feature(a,a.objects[Object.keys(a.objects)[0]]));a=n.layers.makeLayer(t,a);n.layers.list[a.stamp]=a,r&&o&&(n.layers.list[a.stamp].ltype=r,n.layers.list[a.stamp].url=o),n.notify("success","<strong>"+a.name+"</strong> has been added!",3500),$(n).trigger("layer:added",[a]),r&&o&&n.util.updateSearch()},n.layers.remove=function(e,t){try{$(n).trigger("layer:removed",[t]),n.notify("info","<strong>"+n.layers.list[t].name+"</strong> has been removed."),delete n.layers.list[t]}catch(e){throw n.notify("error","There was a problem removing the layer."),e}},n.layers.duplicate=function(e,t){t=n.layers.list[t];n.layers.add({},"copy_"+t.name,t.raw)},n.layers.rename=function(e,t,a){n.layers.list[t.stamp].name=a,$(n).trigger("layer:renamed",[t.stamp,a])},n.layers.makeLayer=function(e,t){var a=t,t=L.mapbox.featureLayer(a);return{name:n.util.removeFileExtension(e),stamp:L.stamp(t),raw:a,type:"FeatureCollection"===(a=a).type?"FeatureCollection":a.type+"<"+a.geometry.type+">",featurelayer:t,dateAdded:new Date}},n}((dropchop=function(l){"use strict";function r(e,t){$(".layer-element[data-stamp="+e+"]").find(".layer-toggle").prop("checked",t).trigger("change")}return(l=l||{}).layerlist={},l.layerlist.elems={},l.layerlist.init=function(t){l.layerlist.$elem=$("<ol>").addClass(t),l.$elem.append(l.layerlist.$elem),l.layerlist.$elem.on("click",function(e){$(e.target).hasClass(t)&&l.selection.clear()});var e=$("<li>").addClass("layer-help").html('Welcome to <strong>dropchop</strong>! Here you can drag and drop files and they will show up in the layer list below.<br><br>To the left you can upload and save your files or <a href="/?gist=09129c20ec020b83bf85">add example data</a> or the <a href="/?gist=d066b572e8a8ad2b6d16">US States</a>.<br><br>To the right you\'ll notice some geospatial operations that become available based on selecting specific layers.');l.layerlist.$elem.append(e);e=$("<li>").addClass("layer-toggleAll").html('<label><input id="allCheckboxes" type="checkbox" checked>Toggle all layers</label>');e.on("change",l.layerlist.toggleAll),l.layerlist.$elem.append(e),$(l).on("layer:added",l.layerlist.addLayerListItem),$(l).on("layer:removed",l.layerlist.removeLayerListItem),$(l).on("layer:renamed",l.layerlist.rename)},l.layerlist.rename=function(e,t,a){$("[data-stamp="+t+"]").find(".layer-name").text(a)},l.layerlist.addLayerListItem=function(e,t){var a=$("<li>").addClass("layer-element").attr("data-stamp",t.stamp),r=$("<div>").addClass("layer-name layer-new").text(t.name).delay(3e3).queue(function(e){$(this).removeClass("layer-new")}),o=$("<span>").addClass("layer-type-image sprite sprite-layer-"+function(e){var t;switch(e){case"FeatureCollection":t="featurecollection";break;case"Feature<Point>":case"Feature<MultiPoint>":t="point";break;case"Feature<LineString>":case"Feature<MultiLineString>":t="line";break;case"Feature<Polygon>":case"Feature<MultiPolygon>":t="polygon";break;case"Feature<GeometryCollection>":t="geom";break;default:t="default"}return t}(t.type)),n=$("<input>").addClass("layer-toggle").prop({type:"checkbox",checked:!0}),i=$('<button title="More Options">').addClass("layer-action layer-dropdown").html('<i class="fa fa-ellipsis-h"></i>');n.on("change",function(e){this.checked?$(l).trigger("layer:show",[t]):$(l).trigger("layer:hide",[t])}),r.on("click",function(e){var o,n,i,s;e.shiftKey?(o=$(this),(n=l.layerlist._lastSelected)&&($(".layer-element").each(function(e){var t=$(this).attr("data-stamp"),a=o.parent().attr("data-stamp"),r=n.parent().attr("data-stamp");t===a&&(i=e),t===r&&(s=e)}),s<i?$(".layer-element").each(function(e){s<=e&&e<=i&&l.layerlist.selectLayer($(this).find(".layer-name"),l.layers.list[$(this).attr("data-stamp")])}):$(".layer-element").each(function(e){e<s&&i<=e&&l.layerlist.selectLayer($(this).find(".layer-name"),l.layers.list[$(this).attr("data-stamp")])}))):(e.metaKey||e.ctrlKey||l.layerlist.clearSelection($(this),t),l.layerlist.selectToggle($(this),t))}),r.on("contextmenu",function(e){l.menus.layerContextMenu.createLayerContextMenu(this,e.offsetX,e.pageY),e.preventDefault()}),i.on("click",function(e){return l.menus.layerContextMenu.createLayerContextMenu($(this).siblings(".layer-name"),e.pageX-40,e.pageY),e.preventDefault(),!1}),r.on("dblclick",function(e){l.ops.file.extent.execute()}),a.append(r),a.append(n),a.append(o),a.append(i),l.layerlist.$elem.append(a),l.layerlist.elems[t.stamp]=a,$(".layer-help").hide(),$(".layer-toggleAll").show(),$(l).trigger("layerlist:added",r)},l.layerlist.selectLayer=function(e,t){e.hasClass("selected")||(e.addClass("selected"),$(l).trigger("layer:selected",[t]))},l.layerlist.selectToggle=function(e,t){e.hasClass("selected")?(e.removeClass("selected"),$(l).trigger("layer:unselected",[t])):(e.addClass("selected"),$(l).trigger("layer:selected",[t])),l.layerlist._lastSelected=e},l.layerlist.clearSelection=function(e,t){l.selection.clear()},l.layerlist.selectAll=function(){$(".layer-element").each(function(e){l.layerlist.selectLayer($(this).find(".layer-name"),l.layers.list[$(this).attr("data-stamp")])})},l.layerlist.checkAll=function(e){for(var t in l.layers.list){var a=l.layers.list[t];e&&!dropchop.selection.isSelected(a)||r(l.layers.list[t].stamp,!0)}},l.layerlist.uncheckAll=function(e){for(var t in l.layers.list){var a=l.layers.list[t];e&&!dropchop.selection.isSelected(a)||r(a.stamp,!1)}},l.layerlist.toggleAll=function(e){document.getElementById("allCheckboxes").checked?l.layerlist.checkAll():l.layerlist.uncheckAll()},l.layerlist.removeLayerListItem=function(e,t){$("[data-stamp="+t+"]").fadeOut(300,function(){$(this).remove(),delete l.layerlist.elems[t],0===$(".layer-element").length&&($(".layer-help").show(),$(".layer-toggleAll").hide())})},l}((dropchop=function(n){"use strict";return(n=n||{}).form=n.form||{},n.form.init=function(){$(n).on("form:geo",n.form.geo),$(n).on("form:file",n.form.file)},n.form.geo=function(e,t){n.form.create(t,n.ops.geo[t],"geo")},n.form.file=function(e,t){n.form.create(t,n.ops.file[t],"file:"+t)},n.form.create=function(r,e,o){n.form.remove();var t=$("<form>").addClass("dropchop-form dropchop-form-"+o).attr("id","dropchop-form").attr("data",r);$("<h2>").addClass("dropchop-form-title").text(r).appendTo(t),$("<p>").addClass("dropchop-form-description").text(e.description).appendTo(t);e.parameters&&$(e.parameters).each(function(){n.form.createParam(this).appendTo(t)});var a=$("<button>").addClass("dropchop-btn dropchop-btn-green dropchop-form-submit").text("Execute").attr("for",r),e=$("<button>").addClass("dropchop-btn dropchop-btn-cancel dropchop-form-cancel").text("Cancel").attr("type","button");e.on("click",function(e){return e.preventDefault(),n.form.remove(),!1}),t.on("submit",function(e){e.preventDefault();var t=[],a=$(this).serializeArray();return $(a).each(function(e){t.push(a[e].value)}),$(n).trigger("operation:"+o,[r,t]),n.form.remove(),!1}),t.append(a),t.append(e),n.$elem.append(t)},n.form.remove=function(){$("#dropchop-form").remove()},n.form.createParam=function(e){var t=$("<div>").addClass("dropchop-form-parameter"),a=$("<label>").text(e.name).addClass("dropchop-form-parameter-label");return n.form.inputs[e.type](e).appendTo(a),e.description.length&&$("<p>").addClass("dropchop-form-parameter-description").html(e.description).appendTo(a),t.append(a),t},n.form.inputs={number:function(e){return $("<input>").attr("type","number").attr("name",e.name).attr("value",e.default)},select:function(t){var a=$("<select>").attr("name",t.name);return $(t.options).each(function(e){$("<option>").text(t.options[e]).attr("value",t.options[e]).appendTo(a)}),a},text:function(e){return $("<input>").attr("type","text").attr("name",e.name).attr("value",e.default)},checkbox:function(e){return $("<input>").attr("type","checkbox").attr("name",e.name).attr("value",e.default)},radio:function(r){var o=$("<div>").attr("class","radioGroup"),n=r.name.replace(/\s/g,"");return $(r.options).each(function(e){var t=r.options[e],a=t.replace(/\s/g,""),e=$("<label>").addClass("sub-label").attr("for",a),a=$("<input>").attr("type","radio").attr("id",a).attr("name",n).addClass("radio").val(t);t===r.default&&a.prop("defaultChecked",!0),e.append(t),e.appendTo(o),a.appendTo(o)}),o},switch:function(a){var r=$("<div>");return $(n.selection.list).each(function(e){var t=$("<label>").addClass("sub-label");$("<input>").attr("type","radio").val("switch-"+n.selection.list[e].stamp).attr("name",a.name).appendTo(t),t.append(n.selection.list[e].name),t.appendTo(r)}),r},recursive:function(e){var t=$("<div>"),a=$("<label>").addClass("sub-label");$("<input>").attr("type","radio").val("true").attr("name",e.name).appendTo(a),a.append("Individual features");var r=$("<label>").addClass("sub-label");return $("<input>").attr("type","radio").val("false").attr("name",e.name).appendTo(r),r.append("Entire collection"),a.appendTo(t),r.appendTo(t),t}},n}((dropchop=function(a){"use strict";return(a=a||{}).dropzone=function(e){(e=e).on("dragover",function(e){e.preventDefault(),e.stopPropagation(),$(this).addClass("dragging")}),e.on("dragleave",function(e){e.preventDefault(),e.stopPropagation(),$(this).removeClass("dragging")}),e.on("drop",function(e){e.preventDefault(),e.stopPropagation(),$(this).removeClass("dragging");var t=e.originalEvent.dataTransfer.files;$(t).each(function(e){a.util.readFile(t[e])})})},a}((dropchop=function(t){return(t=t||{}).version="0.2.4",t.init=function(e){e||t.util.error("No options provided in dropchop.init()"),t.options=e,$(e.id).length||t.util.error("Element with options.id does not exist."),t.$elem=$(e.id),t.layers.prepare(),t.map.init(),t.selection.init(),t.layerlist.init("layerlist"),t.dropzone($("body")),t.menus.geo.init(),t.menus.left.init(),t.menus.layerContextMenu.init(),t.form.init(),t.shortcuts.init(),location.search.length&&t.util.executeUrlParams()},t.boom=function(){console.log("shakalaka")},t}(dropchop||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{}))||{});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF0dHIuZHJvcGNob3AuanMiLCJ1dGlsLmRyb3BjaG9wLmpzIiwic2hvcnRjdXRzLmRyb3BjaG9wLmpzIiwic2VsZWN0aW9uLmRyb3BjaG9wLmpzIiwib3BzLmdlby5kcm9wY2hvcC5qcyIsIm9wcy5maWxlLmRyb3BjaG9wLmpzIiwibm90aWZ5LmRyb3BjaG9wLmpzIiwibWVudXMubGVmdC5kcm9wY2hvcC5qcyIsIm1lbnVzLmxheWVyLWNvbnRleHQtbWVudS5kcm9wY2hvcC5qcyIsIm1lbnVzLmdlby5kcm9wY2hvcC5qcyIsIm1hcC5kcm9wY2hvcC5qcyIsImxheWVycy5kcm9wY2hvcC5qcyIsImxheWVybGlzdC5kcm9wY2hvcC5qcyIsImZvcm0uZHJvcGNob3AuanMiLCJkcm9wem9uZS5kcm9wY2hvcC5qcyJdLCJuYW1lcyI6WyJkcm9wY2hvcCIsImRjIiwidXRpbCIsInJlbW92ZUZpbGVFeHRlbnNpb24iLCJzdHJpbmciLCJyZXBsYWNlIiwicmVtb3ZlV2hpdGVTcGFjZSIsImNvbnNvbGUiLCJsb2ciLCJjb25jYXQiLCJhcnJheSIsInNlcGFyYXRvciIsInByZWZpeCIsIiQiLCJlYWNoIiwiYSIsInhociIsInVybCIsImNhbGxiYWNrIiwibG9hZGVyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25sb2FkIiwiYmluZCIsInRoaXMiLCJvbmVycm9yIiwiZXJyb3IiLCJub3RpZnkiLCJzZW5kIiwiZ2V0IiwiZGF0YSIsImNvcnMiLCJwYXJhbXMiLCJkYXRhVHlwZSIsImNvcnNTdXBwb3J0IiwiYWpheCIsInJlYWRGaWxlIiwiZmlsZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJuYW1lIiwiaW5kZXhPZiIsInJlYWRBc0FycmF5QnVmZmVyIiwib25sb2FkZW5kIiwiZXZlbnQiLCJzaHAiLCJyZXN1bHQiLCJjYXRjaCIsInRoZW4iLCJnZW9qc29uIiwidHJpZ2dlciIsImZpbGVOYW1lIiwicmVhZEFzVGV4dCIsIkpTT04iLCJwYXJzZSIsImpzb25Gcm9tVXJsIiwicXVlcnkiLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0ciIsInNwbGl0IiwiZmlsdGVyIiwiZCIsImxlbmd0aCIsImZvckVhY2giLCJwYXJ0IiwiaSIsImtleSIsInB1c2giLCJkZWNvZGVVUklDb21wb25lbnQiLCJ1cGRhdGVTZWFyY2giLCJsYXllcnMiLCJPYmplY3QiLCJrZXlzIiwibGlzdCIsImxheWVyIiwibHR5cGUiLCJqb2luIiwid2luZG93IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImV4ZWN1dGVVcmxQYXJhbXMiLCJnaXN0Iiwib3BzIiwiZ2V0RmlsZUV4dGVuc2lvbiIsImZpbGVuYW1lIiwibGFzdEluZGV4T2YiLCJnZXRCQm94IiwiYm91bmRzIiwibWFwIiwibSIsImdldEJvdW5kcyIsInN3IiwiZ2V0U291dGhXZXN0IiwibmUiLCJnZXROb3J0aEVhc3QiLCJsYXQiLCJsbmciLCJnZXRFc3JpQkJveCIsInVuY29sbGVjdCIsImZjIiwiZmVhdHVyZXMiLCJlc3JpMmdlbyIsImFyY2pzb24iLCJ0b0dlb0pTT04iLCJleGVjdXRlRkMiLCJvcGVyYXRpb24iLCJmZWF0dXJlIiwibmV3UGFyYW1zIiwibmV3RkMiLCJ0eXBlIiwiZiIsInR1cmYiLCJhcHBseSIsInByb3BlcnRpZXMiLCJlcnIiLCJ5ZXMiLCJhZGRDbGFzcyIsImFwcGVuZCIsInJlbW92ZUNsYXNzIiwiZmFkZU91dCIsInJlbW92ZSIsInNob3J0Y3V0cyIsImluaXQiLCJNb3VzZXRyYXAiLCJlIiwibGF5ZXJsaXN0Iiwic2VsZWN0QWxsIiwiY2xlYXJTZWxlY3Rpb24iLCJleGVjdXRlIiwiY2hlY2tBbGwiLCJ1bmNoZWNrQWxsIiwiX2xheWVyUmVtb3ZlZCIsInN0YW1wIiwic2VsZWN0aW9uIiwiY2xlYXIiLCJvbiIsImFkZCIsImluZGV4Iiwic3BsaWNlIiwicHJvcCIsImlzU2VsZWN0ZWQiLCJseXJEYXRhIiwiQm9vbGVhbiIsImdlbyIsImFsb25nIiwibWluRmVhdHVyZXMiLCJtYXhGZWF0dXJlcyIsInJlcXVpcmVtZW50cyIsImdlbmVyYWxGZWF0dXJlIiwidHlwZXMiLCJkZXNjcmlwdGlvbiIsInBhcmFtZXRlcnMiLCJkZWZhdWx0Iiwib3B0aW9ucyIsImJlemllciIsImJ1ZmZlciIsImNlbnRlciIsImNlbnRyb2lkIiwiZGVzdGluYXRpb24iLCJlbnZlbG9wZSIsImV4cGxvZGUiLCJtaWRwb2ludCIsInNhbXBsZSIsInNpbXBsaWZ5IiwidGluIiwidW5pb24iLCJ3aXRoaW4iLCJ1cGxvYWQiLCJpY29uIiwiJGJsaW5kSW5wdXQiLCJhdHRyIiwiY3NzIiwiZmlsZXMiLCJjbGljayIsImxvYWQtdXJsIiwieGhyRXZlbnQiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZVVSTCIsInN1YnN0cmluZyIsImxvYWQtZ2lzdCIsImNvbnRlbnQiLCJsb2FkLWFyY2dpcyIsIl90ZW1wIiwibGF5ZXJOYW1lIiwiY2hlY2tKc29ucCIsImJib3giLCJ1cmxQYXJhbXMiLCJpblNSIiwib3V0U1IiLCJnZW9tZXRyeSIsIndoZXJlIiwib3V0ZmllbGRzIiwiZG9uZSIsImZhaWwiLCJqcVhociIsInRleHRTdGF0dXMiLCJsb2FkLW92ZXJwYXNzIiwib3ZlcnBhc3NRdWVyeSIsIm92ZXJwYXNzV2l6YXJkIiwib3ZlcnBhc3NXaXphcmRFeHBhbmQiLCJleHBhbmRlZE92ZXJwYXNzUXVlcnkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvc210b2dlb2pzb24iLCJmbGF0UHJvcGVydGllcyIsImVsZW1lbnRzIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJsb2NhdGUiLCJsb2FkLWN1c3RvbS1iYXNlIiwiX3RlbXBfMSIsInRva2VuIiwibmV3TGF5ZXIiLCJiYXNlTGF5ZXJzIiwiYWRkQmFzZUxheWVyIiwiTCIsIm1hcGJveCIsInRpbGVMYXllciIsImFkZFRvIiwic2F2ZS1nZW9qc29uIiwiY3JlYXRlc0xheWVyIiwic3RyaW5naWZ5IiwicmF3IiwidGl0bGUiLCJzYXZlQXMiLCJCbG9iIiwic2F2ZS10b3BvanNvbiIsInRvcG9qc29uIiwidG9wb2xvZ3kiLCJjb2xsZWN0aW9uIiwicHJvcGVydHktdHJhbnNmb3JtIiwic2F2ZS1zaGFwZWZpbGUiLCJmb2xkZXIiLCJwb2ludCIsInBvbHlnb24iLCJsaW5lIiwic2hwd3JpdGUiLCJkb3dubG9hZCIsImV4dGVudCIsImwiLCJmbCIsImZlYXR1cmVsYXllciIsImV4dGVuZCIsImZpdEJvdW5kcyIsImxheWVyZ3JvdXAiLCJleHBhbmQiLCJjb3VudCIsIkVycm9yIiwiY29tYmluZSIsImR1cGxpY2F0ZSIsInJlbmFtZSIsImluZm8iLCJ0ZXh0IiwidGltZSIsIm5vdGUiLCJodG1sIiwiJGNsb3NlIiwicGFyZW50IiwiJGVsZW0iLCJzZXRUaW1lb3V0IiwiX2hhbmRsZUJ0bkNsaWNrIiwicHJldmVudERlZmF1bHQiLCJtZW51cyIsImxlZnQiLCJzZXR1cCIsImFjdGlvbnMiLCJsZWZ0TWVudSIsIiRicmVha1NwYWNlIiwiYWN0aW9uIiwiYnVpbGRNZW51QnV0dG9uIiwiY29sbGFwc2VCdG4iLCJjb2xsYXBzZUlubmVyIiwiYWN0biIsImJ1dHRvbiIsImxheWVyQ29udGV4dE1lbnUiLCJyZW1vdmVMYXllckNvbnRleHRNZW51cyIsImNyZWF0ZUxheWVyQ29udGV4dE1lbnUiLCIkbGF5ZXJOYW1lRGl2IiwieFBvcyIsInlQb3MiLCJqUXVlcnkiLCJtZW51IiwibWVudUxpc3QiLCJtZW51SXRlbSIsIm1lbnVJdGVtcyIsInRpdGxlMSIsInRpdGxlMiIsImZpbGVCdG4iLCJpdGVtIiwiU3RyaW5nIiwicG9zaXRpb24iLCJ3aW5kb3dIZWlnaHQiLCJoZWlnaHQiLCJtZW51SGVpZ2h0IiwidG9wIiwiX2NhbGN1bGF0ZU1lbnVMb2NhdGlvbiIsImdlb09wIiwiZ2VvQ29udGFpbmVyIiwiZ2VvQ2hlY2siLCJnZW9FeGVjdXRlIiwiZ2VvQnRuIiwicHJlcCIsInByZXBhcmVUdXJmUGFyYW1zIiwiZ2VvbXMiLCJuYW1lQXJyYXkiLCJpbkFycmF5IiwidW5zaGlmdCIsIm1lcmdlIiwibyIsIm9wIiwidHVybkl0T2ZmIiwieCIsInNlbCIsImJ0biIsImFscGhhIiwic29ydCIsImIiLCJhcHBlbmRUbyIsInNjcm9sbFRvcCIsInJlbW92ZUxheWVyIiwiYWNjZXNzVG9rZW4iLCJ6b29tQ29udHJvbCIsIndvcmxkQ29weUp1bXAiLCJzZXRWaWV3IiwiY29udHJvbCIsInpvb20iLCJnZW9jb2RlckNvbnRyb2wiLCJNYXBib3ggU3RyZWV0cyIsInN0eWxlTGF5ZXIiLCJNYXBib3ggT3V0ZG9vcnMiLCJNYXBib3ggTGlnaHQiLCJNYXBib3ggRGFyayIsIk1hcGJveCBTYXRlbGxpdGUiLCJjb2xsYXBzZWQiLCJmZWF0dXJlTGF5ZXIiLCJhZGRMYXllciIsImhpZGVMYXllciIsInNob3dMYXllciIsIm9yaWdpbmFsRXZlbnQiLCJseXIiLCJjb29yZGluYXRlcyIsImxhdGxuZyIsIm1hcmtlci1jb2xvciIsIm1hcmtlci1zeW1ib2wiLCJfbWFrZU1hcCIsImVhY2hMYXllciIsImJpbmRQb3B1cCIsInBvcHVwIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJhdXRvUGFuUGFkZGluZyIsImNsYXNzTmFtZSIsInNldENvbnRlbnQiLCJwcmVwYXJlIiwiYmxvYiIsImNsaWVudCIsIm9iamVjdHMiLCJtYWtlTGF5ZXIiLCJuZXdOYW1lIiwianNvbiIsImdqIiwiZGF0ZUFkZGVkIiwiRGF0ZSIsImVsZW1Ub2dnbGUiLCJib29sIiwiZmluZCIsImVsZW1zIiwidGFyZ2V0IiwiaGFzQ2xhc3MiLCJsaUhlbHBlciIsInRvZ2dsZUxheWVycyIsInRvZ2dsZUFsbCIsImFkZExheWVyTGlzdEl0ZW0iLCJyZW1vdmVMYXllckxpc3RJdGVtIiwibGF5ZXJsaXN0SXRlbSIsImxheWVyRGl2IiwiZGVsYXkiLCJxdWV1ZSIsIm5leHQiLCJsYXllclR5cGUiLCJsYXllclR5cGVJY29uIiwiY2hlY2tib3giLCJjaGVja2VkIiwiZHJvcGRvd24iLCJ0byIsImZyb20iLCJ0b0NvdW50IiwiZnJvbUNvdW50Iiwic2hpZnRLZXkiLCJfbGFzdFNlbGVjdGVkIiwiY2hlY2siLCJ0b1N0YW1wIiwiZnJvbVN0YW1wIiwic2VsZWN0TGF5ZXIiLCJtZXRhS2V5IiwiY3RybEtleSIsInNlbGVjdFRvZ2dsZSIsIm9mZnNldFgiLCJwYWdlWSIsInNpYmxpbmdzIiwicGFnZVgiLCJoaWRlIiwic2hvdyIsIiRpdGVtIiwibXVzdEJlU2VsZWN0ZWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZm9ybSIsImNyZWF0ZSIsIiRodG1sIiwiY3JlYXRlUGFyYW0iLCIkc3VibWl0IiwiJGNhbmNlbCIsInNlcmlhbGl6ZUFycmF5IiwidmFsdWUiLCJwYXJhbSIsIiRpbnB1dCIsIiRsYWJlbCIsImlucHV0cyIsIm51bWJlciIsInAiLCJzZWxlY3QiLCIkaSIsInJhZGlvIiwiZ3JvdXBOYW1lIiwib3B0Iiwib3B0SWQiLCIkbGJsIiwiJG9wdCIsInZhbCIsInN3aXRjaCIsInJlY3Vyc2l2ZSIsIiRsYmwxIiwiJGxibDIiLCJkcm9wem9uZSIsIiRjb250YWluZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJkYXRhVHJhbnNmZXIiLCJ2ZXJzaW9uIiwib3B0cyIsImlkIiwiYm9vbSJdLCJtYXBwaW5ncyI6IkFBQUEsSUNBQUEsU0FBQSxTQUFBQyxnQkFnT0EsT0E1TkFBLEVBQUFBLEdBQUEsSUFFQUMsS0FBQSxHQUVBRCxFQUFBQyxLQUFBQyxvQkFBQSxTQUFBQyxHQUVBLE9BREFBLEVBQUFBLEVBQUFDLFFBQUEsWUFBQSxLQUlBSixFQUFBQyxLQUFBSSxpQkFBQSxTQUFBRixHQUdBLE9BRkFBLEVBQUFBLEVBQUFDLFFBQUEsYUFBQSxJQUNBRSxRQUFBQyxJQUFBSixHQUNBQSxHQUdBSCxFQUFBQyxLQUFBTyxPQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQVIsRUFBQSxHQUtBLE9BSkFTLEVBQUFILEdBQUFJLEtBQUEsU0FBQUMsR0FDQVgsR0FBQU8sRUFBQUQsRUFBQUssS0FFQVgsRUFBQVEsRUFBQVIsR0FJQUgsRUFBQUMsS0FBQWMsSUFBQSxTQUFB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aEssRUFBQWdLLEdBQUEvSixLQUFBLFNBQUFvRCxHQUNBakUsRUFBQUMsS0FBQWtDLFNBQUF5SSxFQUFBM0csU0FLQWpFLEVBdENBLEVkQUFELFNBQUEsU0FBQUMsR0FtREEsT0FsREFBLEVBQUFBLEdBQUEsSUFDQXNiLFFBQUEsUUFDQXRiLEVBQUEwSCxLQUFBLFNBQUE2VCxHQUNBQSxHQUNBdmIsRUFBQUMsS0FBQXdCLE1BQUEsMENBRUF6QixFQUFBeUosUUFBQThSLEVBRUEzYSxFQUFBMmEsRUFBQUMsSUFBQTFYLFFBQ0E5RCxFQUFBQyxLQUFBd0IsTUFBQSwyQ0FFQXpCLEVBQUFrUSxNQUFBdFAsRUFBQTJhLEVBQUFDLElBR0F4YixFQUFBc0UsT0FBQTJSLFVBR0FqVyxFQUFBd0YsSUFBQWtDLE9BR0ExSCxFQUFBcUksVUFBQVgsT0FHQTFILEVBQUE2SCxVQUFBSCxLQUFBLGFBR0ExSCxFQUFBa2IsU0FBQXRhLEVBQUEsU0FHQVosRUFBQXNRLE1BQUF2SCxJQUFBckIsT0FDQTFILEVBQUFzUSxNQUFBQyxLQUFBN0ksT0FDQTFILEVBQUFzUSxNQUFBWSxpQkFBQXhKLE9BR0ExSCxFQUFBdVosS0FBQTdSLE9BR0ExSCxFQUFBeUgsVUFBQUMsT0FHQWxFLFNBQUFDLE9BQUFLLFFBQ0E5RCxFQUFBQyxLQUFBK0Usb0JBS0FoRixFQUFBeWIsS0FBQSxXQUNBbmIsUUFBQUMsSUFBQSxjQUdBUCxFQW5EQSxDQXFEQUQsVUFBQSxNY2JBLE1EOElBLE1ENERBLE1EMUlBLE1Eb0RBLE1ESUEsTUR0QkEsTUQ1QkEsTUR0RUEsTUQ4Y0EsTUR4SUEsTUQ5VEEsTURMQSxNRHdMQSIsImZpbGUiOiJkcm9wY2hvcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuICBcbi8vICAgJ3VzZSBzdHJpY3QnO1xuXG4vLyAgIGRjID0gZGMgfHwge307XG4vLyAgIGRjLmF0dHIgPSB7fTtcbi8vICAgZGMuYXR0ci5zZWxlY3Rpb24gPSBbXTtcblxuLy8gICBkYy5hdHRyLnJlbmRlciA9IGZ1bmN0aW9uKGxheWVyKSB7XG4vLyAgICAgY29uc29sZS5sb2cobGF5ZXIpO1xuLy8gICAgIHZhciBjb3VudCA9IDEsXG4vLyAgICAgICAgIGZsID0gbGF5ZXIuZmVhdHVyZWxheWVyLFxuLy8gICAgICAgICBjb250ZW50ID0gJzx0YWJsZSBpZD1cImRyb3BjaG9wLWF0dHItdGFibGVcIj4nLFxuLy8gICAgICAgICBoZWFkZXJzID0gJzx0cj48dGggY2xhc3M9XCJhdHRyLWNvdW50LXRoXCI+IzwvdGg+Jyxcbi8vICAgICAgICAgcm93cyA9ICcnO1xuXG4vLyAgICAgLy8gY3JlYXRlIHJvd1xuLy8gICAgIGZsLmVhY2hMYXllcihmdW5jdGlvbihseXIpIHtcbi8vICAgICAgIHJvd3MgKz0gJzx0ciBjbGFzcz1cImF0dHItcm93XCIgZGF0YS1sYXllci1pZD1cIicrbHlyLl9sZWFmbGV0X2lkKydcIj48dGQgY2xhc3M9XCJhdHRyLWNvdW50XCI+Jytjb3VudCsnPC90ZD4nO1xuXG4vLyAgICAgICBmb3IgKHZhciBwcm9wIGluIGx5ci5mZWF0dXJlLnByb3BlcnRpZXMpIHtcbi8vICAgICAgICAgaWYgKGNvdW50ID09PSAxKSBoZWFkZXJzICs9ICc8dGg+JyArIHByb3AgKyAnPC90aD4nO1xuLy8gICAgICAgICByb3dzICs9ICc8dGQ+JyArIGx5ci5mZWF0dXJlLnByb3BlcnRpZXNbcHJvcF0gKyAnPC90ZD4nO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBoZWFkZXJzICs9ICc8L3RyPic7XG4vLyAgICAgICByb3dzICs9ICc8L3RyPic7XG4vLyAgICAgICBjb3VudCsrO1xuLy8gICAgIH0pO1xuXG4vLyAgICAgY29udGVudCArPSBoZWFkZXJzICsgcm93cztcbi8vICAgICBjb250ZW50ICs9ICc8L3RhYmxlPic7XG5cbi8vICAgICB2YXIgJHRhYmxlID0gJCgnPGRpdj4nKVxuLy8gICAgICAgLmFkZENsYXNzKCdkcm9wY2hvcC1hdHRyLXRhYmxlJylcbi8vICAgICAgIC5odG1sKGNvbnRlbnQpO1xuXG4vLyAgICAgdmFyICRhY3Rpb25Db250YWluZXIgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdhdHRyLWFjdGlvbi1jb250YWluZXInKTtcbiAgICBcbi8vICAgICB2YXIgJGFjdGlvbkNsb3NlID0gJCgnPGJ1dHRvbj4nKVxuLy8gICAgICAgLmFkZENsYXNzKCdhdHRyLWFjdGlvbiBhdHRyLWFjdGlvbi1jbG9zZScpXG4vLyAgICAgICAuaHRtbCgnPGkgY2xhc3M9XCJmYSBmYS10aW1lc1wiPjwvaT4gQ2xvc2UnKVxuLy8gICAgICAgLm9uKCdjbGljaycsIGRjLmF0dHIuY2xvc2UpO1xuXG4vLyAgICAgdmFyICRhY3Rpb25SZW1vdmUgPSAkKCc8YnV0dG9uPicpXG4vLyAgICAgICAuYWRkQ2xhc3MoJ2F0dHItYWN0aW9uIGF0dHItYWN0aW9uLXJlbW92ZScpXG4vLyAgICAgICAuaHRtbCgnPGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiPjwvaT4gUmVtb3ZlIFNlbGVjdGlvbicpO1xuICAgIFxuLy8gICAgICRhY3Rpb25Db250YWluZXIuYXBwZW5kKCRhY3Rpb25SZW1vdmUpO1xuLy8gICAgICRhY3Rpb25Db250YWluZXIuYXBwZW5kKCRhY3Rpb25DbG9zZSk7XG5cbi8vICAgICAkdGFibGUuYXBwZW5kKCRhY3Rpb25Db250YWluZXIpO1xuXG4vLyAgICAgZGMuYXR0ci4kZWxlbSA9ICR0YWJsZTtcbi8vICAgICBkYy4kZWxlbS5hcHBlbmQoJHRhYmxlKTtcblxuLy8gICAgICQoJyNkcm9wY2hvcC1hdHRyLXRhYmxlJykuc3R1cGlkdGFibGUoKTtcblxuLy8gICAgICQoJy5hdHRyLXJvdycpLm9uKCdjbGljaycsIGF0dHJSb3dDbGljayk7XG4vLyAgIH07XG5cbi8vICAgZnVuY3Rpb24gYXR0clJvd0NsaWNrKGV2ZW50KSB7XG4vLyAgICAgdmFyIGx5cklkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWxheWVyLWlkJyk7XG5cbi8vICAgICAvLyB1cGRhdGUgY2xhc3NuYW1lcyAmIHNlbGVjdGlvblxuLy8gICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhdHRyLXJvdy1zZWxlY3RlZCcpKSB7XG4vLyAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhdHRyLXJvdy1zZWxlY3RlZCcpO1xuICAgICAgXG4vLyAgICAgICAvLyByZW1vdmUgZnJvbSBzZWxlY3Rpb25cbi8vICAgICAgIGRjLmF0dHIuc2VsZWN0aW9uUmVtb3ZlKGx5cklkKTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYXR0ci1yb3ctc2VsZWN0ZWQnKTtcblxuLy8gICAgICAgLy8gYWRkIHRvIHNlbGVjdGlvblxuLy8gICAgICAgZGMuYXR0ci5zZWxlY3Rpb25BZGQobHlySWQpO1xuXG4vLyAgICAgICAvLyB1cGRhdGUgc3R5bGVcblxuLy8gICAgICAgLy8gdXBkYXRlIG9wdGlvbnNcblxuLy8gICAgIH1cbi8vICAgfVxuXG4vLyAgIGRjLmF0dHIuc2VsZWN0aW9uQWRkID0gZnVuY3Rpb24oaWQpIHtcbi8vICAgICBkYy5hdHRyLnNlbGVjdGlvbi5wdXNoKGlkKTtcbi8vICAgfTtcblxuLy8gICBkYy5hdHRyLnNlbGVjdGlvblJlbW92ZSA9IGZ1bmN0aW9uKGlkKSB7XG4vLyAgICAgdmFyIGluZGV4ID0gbnVsbDtcbi8vICAgICAkKGRjLnNlbGVjdGlvbi5saXN0KS5lYWNoKGZ1bmN0aW9uKGkpIHtcbi8vICAgICAgIGlmIChkYy5hdHRyLnNlbGVjdGlvbltpXSA9PT0gaWQpIHtcbi8vICAgICAgICAgaW5kZXggPSBpO1xuLy8gICAgICAgfVxuLy8gICAgIH0pO1xuLy8gICAgIGRjLmF0dHIuc2VsZWN0aW9uLnNwbGljZShpbmRleCwgMSk7XG4vLyAgIH07XG5cbi8vICAgZGMuYXR0ci5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuLy8gICAgIGRjLmF0dHIuJGVsZW0ucmVtb3ZlKCk7XG4vLyAgIH07XG5cbi8vICAgZnVuY3Rpb24gcmVtb3ZlTGF5ZXIoaWQpIHtcbi8vICAgICBteWxheWVyZ3JvdXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xuLy8gICAgICAgaWYgKGxheWVyLl9sZWFmbGV0X2lkID09PSBpZCl7XG4vLyAgICAgICAgIG15bGF5ZXJncm91cC5yZW1vdmVMYXllcihsYXllcilcbi8vICAgICAgIH1cbi8vICAgICB9KTsgXG4vLyAgIH1cbiAgICBcblxuLy8gICByZXR1cm4gZGM7XG5cbi8vIH0pKGRyb3BjaG9wIHx8IHt9KTsiLCJ2YXIgZHJvcGNob3AgPSAoZnVuY3Rpb24oZGMpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgZGMgPSBkYyB8fCB7fTtcblxuICBkYy51dGlsID0ge307XG5cbiAgZGMudXRpbC5yZW1vdmVGaWxlRXh0ZW5zaW9uID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoL1xcLlteLy5dKyQvLCBcIlwiKTtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xuXG4gIGRjLnV0aWwucmVtb3ZlV2hpdGVTcGFjZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgY29uc29sZS5sb2coc3RyaW5nKTtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xuXG4gIGRjLnV0aWwuY29uY2F0ID0gZnVuY3Rpb24oYXJyYXksIHNlcGFyYXRvciwgcHJlZml4KSB7XG4gICAgdmFyIHN0cmluZyA9ICcnO1xuICAgICQoYXJyYXkpLmVhY2goZnVuY3Rpb24oYSkge1xuICAgICAgc3RyaW5nICs9IHNlcGFyYXRvciArIGFycmF5W2FdO1xuICAgIH0pO1xuICAgIHN0cmluZyA9IHByZWZpeCArIHN0cmluZztcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xuXG4gIGRjLnV0aWwueGhyID0gZnVuY3Rpb24odXJsLCBjYWxsYmFjaykge1xuICAgIGRyb3BjaG9wLnV0aWwubG9hZGVyKHRydWUpO1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICB4aHIub25sb2FkID0gY2FsbGJhY2suYmluZCh0aGlzLCB4aHIpO1xuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oIHhociApIHtcbiAgICAgIGRyb3BjaG9wLnV0aWwubG9hZGVyKGZhbHNlKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoeGhyKTtcbiAgICAgIGRjLm5vdGlmeSgnZXJyb3InLCAnVW5hYmxlIHRvIGFjY2VzcyAnICsgdXJsLCAyNTAwKTtcbiAgICB9O1xuICAgIHhoci5zZW5kKCk7XG4gIH07XG5cbiAgZGMudXRpbC5nZXQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvcnMpIHtcbiAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgZGF0YTogZGF0YSxcbiAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICB9O1xuICAgIGlmKCFkYy51dGlsLmNvcnNTdXBwb3J0IHx8IGNvcnMgPT09IGZhbHNlKSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gQ09SUyBzdXBwb3J0LCB1c2luZyBKU09OUCcpO1xuICAgICAgcGFyYW1zLmRhdGFUeXBlID0gJ2pzb25wJztcbiAgICB9XG4gICAgZHJvcGNob3AudXRpbC5sb2FkZXIodHJ1ZSk7XG4gICAgdmFyIHhociA9ICQuYWpheCh1cmwsIHBhcmFtcyk7XG4gICAgcmV0dXJuIHhocjtcbiAgfTtcblxuICBkYy51dGlsLnJlYWRGaWxlID0gZnVuY3Rpb24oZmlsZSkge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIC8vIGlmIGEgemlwZmlsZSwgYXNzdW1lIHNoYXBlZmlsZSBmb3Igbm93XG4gICAgaWYgKGZpbGUubmFtZS5pbmRleE9mKCcuemlwJykgPiAtMSB8fCBmaWxlLm5hbWUuaW5kZXhPZignLnNocCcpID4gLTEpIHtcbiAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTtcbiAgICAgIGRjLnV0aWwubG9hZGVyKHRydWUpO1xuICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHNocChyZWFkZXIucmVzdWx0KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcm9ibGVtYXRpYyBwcm9qZWN0aW9uIC0gXCIsIGVycm9yKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGdlb2pzb24pIHtcbiAgICAgICAgICAgIGRjLnV0aWwubG9hZGVyKGZhbHNlKTtcbiAgICAgICAgICAgIGlmICghZ2VvanNvbikge1xuICAgICAgICAgICAgICByZXR1cm4gZGMubm90aWZ5KCdlcnJvcicsICdJbnZhbGlkIHByb2plY3Rpb24gb3Igc2hhcGVmaWxlLicsIDI1MDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKGRjKS50cmlnZ2VyKCdmaWxlOmFkZGVkJywgW2dlb2pzb24uZmlsZU5hbWUsIGdlb2pzb25dKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUsICdVVEYtOCcpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRjKS50cmlnZ2VyKCdmaWxlOmFkZGVkJywgW2ZpbGUubmFtZSwgSlNPTi5wYXJzZShyZWFkZXIucmVzdWx0KV0pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3J3YXJkVG9HZW9Kc29uSW8oZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICB2YXIgdXJsID0gXCJodHRwOi8vZ2VvanNvbi5pby8jZGF0YT1kYXRhOmFwcGxpY2F0aW9uL2pzb24sXCIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgd2luZG93LmxvY2F0aW9uID0gdXJsO1xuICAgIH1cbiAgfTtcblxuICBkYy51dGlsLmpzb25Gcm9tVXJsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHF1ZXJ5ID0gbG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKVxuICAgICAgICAgIC5zcGxpdCgvKCY/Z2lzdD18Jj91cmw9KS9nKVxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQubGVuZ3RoID4gMDtcbiAgICAgICAgICB9KTtcblxuICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgIHF1ZXJ5LmZvckVhY2goZnVuY3Rpb24ocGFydCwgaSkge1xuICAgICAgaWYgKGkgPT09IDAgfHwgaSAlIDIgPT09IDApIHtcbiAgICAgICAgdmFyIGtleSA9IHBhcnQucmVwbGFjZSgvJnw9L2csICcnKTtcblxuICAgICAgICBpZiAoIXJlc3VsdFtrZXldKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5W2kgKyAxXSkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBkYy51dGlsLnVwZGF0ZVNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYXllcnMgPSBbXTtcblxuICAgIE9iamVjdC5rZXlzKGRjLmxheWVycy5saXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAvKlxuICAgICAgICoqIElmIGEgbGF5ZXIgaGFzIGEgdHlwZSBhbmQgVVJMIChhIGdpc3Qgb3IgZXh0ZXJuYWwgR2VvSlNPTiBsaW5rKSxcbiAgICAgICAqKiBhbmQgd2UgaGF2ZW4ndCByZWNvcmVkIHRoaXMgdHlwZS11cmwgY29tYm8gYWxyZWFkeSwgYWRkIGl0IHRvIHRoZVxuICAgICAgICoqIHVuaXF1ZSBsaXN0LiBUaGUgbGFzdCBjaGVjayBpcyBuZWVkZWQgdG8gYWNjb3VudCBmb3IgZ2lzdHMgd2l0aFxuICAgICAgICoqIG11bHRpcGxlIGxheWVycy5cbiAgICAgICAqL1xuICAgICAgaWYgKGRjLmxheWVycy5saXN0W2xheWVyXS5sdHlwZSAmJiBkYy5sYXllcnMubGlzdFtsYXllcl0udXJsICYmIGxheWVycy5pbmRleE9mKGRjLmxheWVycy5saXN0W2xheWVyXS5sdHlwZSArICc9JyArIGRjLmxheWVycy5saXN0W2xheWVyXS51cmwpIDwgMCkge1xuICAgICAgICBsYXllcnMucHVzaChkYy5sYXllcnMubGlzdFtsYXllcl0ubHR5cGUgKyAnPScgKyBkYy5sYXllcnMubGlzdFtsYXllcl0udXJsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBzZWFyY2ggPSBsYXllcnMubGVuZ3RoID8gICgnPycgKyBsYXllcnMuam9pbignJicpKSA6ICcvJztcblxuICAgIC8vIE9ubHkgdXBkYXRlIHRoZSBVUkkgaWYgYW55dGhpbmcgaGFzIGNoYW5nZWRcbiAgICBpZiAoc2VhcmNoICE9PSB3aW5kb3cubG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgc2VhcmNoKTtcbiAgICB9XG5cbiAgfTtcblxuICBkYy51dGlsLmV4ZWN1dGVVcmxQYXJhbXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSA9IGRjLnV0aWwuanNvbkZyb21VcmwoKTtcblxuICAgIC8vIGxvYWQgZ2lzdFxuICAgIGlmIChkYXRhLmdpc3QgJiYgZGF0YS5naXN0Lmxlbmd0aCkge1xuICAgICAgJChkYXRhLmdpc3QpLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBkYy5vcHMuZmlsZVsnbG9hZC1naXN0J10uZ2V0KHt9LCAnbG9hZC1naXN0JywgW2RhdGEuZ2lzdFtpXV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gbG9hZFxuICAgIGlmIChkYXRhLnVybCAmJiBkYXRhLnVybC5sZW5ndGgpIHtcbiAgICAgICQoZGF0YS51cmwpLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICBkYy5vcHMuZmlsZVsnbG9hZC11cmwnXS5nZXQoe30sICdsb2FkLXVybCcsIFtkYXRhLnVybFtpXV0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGRjLnV0aWwuZ2V0RmlsZUV4dGVuc2lvbiA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGZpbGVuYW1lLnN1YnN0cihmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpKzEpO1xuICB9O1xuXG4gIGRjLnV0aWwuZ2V0QkJveCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3VuZHMgPSBkYy5tYXAubS5nZXRCb3VuZHMoKSxcbiAgICAgICAgc3cgPSBib3VuZHMuZ2V0U291dGhXZXN0KCksXG4gICAgICAgIG5lID0gYm91bmRzLmdldE5vcnRoRWFzdCgpO1xuICAgIC8vIHdlIHNob3VsZCBwcm9iYWJseSBjaGVjayB0aGUgc2l6ZSBoZXJlP1xuICAgIC8vIG5vZGUoNTcuNywxMS45LDU3LjgsMTIuMClcbiAgICByZXR1cm4gc3cubGF0KycsJytzdy5sbmcrJywnK25lLmxhdCsnLCcrbmUubG5nO1xuICB9O1xuXG4gIGRjLnV0aWwuZ2V0RXNyaUJCb3ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm91bmRzID0gZGMubWFwLm0uZ2V0Qm91bmRzKCksXG4gICAgICAgIHN3ID0gYm91bmRzLmdldFNvdXRoV2VzdCgpLFxuICAgICAgICBuZSA9IGJvdW5kcy5nZXROb3J0aEVhc3QoKTtcbiAgICByZXR1cm4gc3cubG5nKycsJytzdy5sYXQrJywnK25lLmxuZysnLCcrbmUubGF0O1xuICB9O1xuXG4gIGRjLnV0aWwudW5jb2xsZWN0ID0gZnVuY3Rpb24oZmMpIHtcbiAgICByZXR1cm4gZmMuZmVhdHVyZXNbMF07XG4gIH07XG5cbiAgZGMudXRpbC5lc3JpMmdlbyA9IGZ1bmN0aW9uKGFyY2pzb24pIHtcbiAgICByZXR1cm4gdG9HZW9KU09OKGFyY2pzb24pO1xuICB9O1xuXG4gIGRjLnV0aWwuZXhlY3V0ZUZDID0gZnVuY3Rpb24oZmMsIG9wZXJhdGlvbiwgcGFyYW1zKSB7XG5cbiAgICB2YXIgbmV3UGFyYW1zID0gcGFyYW1zO1xuICAgIHZhciBuZXdGQyA9IHt9O1xuICAgIG5ld0ZDLnR5cGUgPSAnRmVhdHVyZUNvbGxlY3Rpb24nO1xuICAgIG5ld0ZDLmZlYXR1cmVzID0gW107XG5cbiAgICBmb3IgKHZhciBmID0gMDsgZiA8IGZjLmZlYXR1cmVzLmxlbmd0aDsgZisrKSB7XG4gICAgICBuZXdQYXJhbXNbMF0gPSBmYy5mZWF0dXJlc1tmXTtcbiAgICAgIHZhciBmZWF0dXJlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmVhdHVyZSA9IHR1cmZbb3BlcmF0aW9uXS5hcHBseShudWxsLCBuZXdQYXJhbXMpO1xuICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMgPSBmYy5mZWF0dXJlc1tmXS5wcm9wZXJ0aWVzIHx8IHt9O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGRjLm5vdGlmeSgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgICAgbmV3RkMuZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RkM7XG5cbiAgfTtcblxuICBkYy51dGlsLmxvYWRlciA9IGZ1bmN0aW9uKHllcykge1xuICAgIHZhciBsb2FkZXIgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdkcm9wY2hvcC1sb2FkZXInKTtcblxuICAgIGlmICh5ZXMpIHtcbiAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnZHJvcGNob3AtbG9hZGluZycpO1xuICAgICAgJCgnYm9keScpLmFwcGVuZChsb2FkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2Ryb3BjaG9wLWxvYWRpbmcnKTtcbiAgICAgICQoJy5kcm9wY2hvcC1sb2FkZXInKS5hZGRDbGFzcygnbG9hZGVyLWNvbXBsZXRlJykuZmFkZU91dCgyMDAwLCBmdW5jdGlvbigpe1xuICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGRjLnV0aWwuY29yc1N1cHBvcnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ1hNTEh0dHByZXF1ZXN0JyBpbiB3aW5kb3cgJiYgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuICB9O1xuXG4gIHJldHVybiBkYztcblxuXG59KShkcm9wY2hvcCB8fCB7fSk7XG4iLCJ2YXIgZHJvcGNob3AgPSAoZnVuY3Rpb24oZGMpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgZGMgPSBkYyB8fCB7fTtcblxuICBkYy5zaG9ydGN1dHMgPSB7fTtcbiAgZGMuc2hvcnRjdXRzLmxpc3QgPSBbXTtcblxuICBkYy5zaG9ydGN1dHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFNlbGVjdCBBbGxcbiAgICBNb3VzZXRyYXAuYmluZChbJ2NvbW1hbmQrYScsICdjdHJsK2EnXSwgZnVuY3Rpb24oZSkge1xuICAgICAgZGMubGF5ZXJsaXN0LnNlbGVjdEFsbCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gQ2xlYXIgU2VsZWN0aW9uXG4gICAgTW91c2V0cmFwLmJpbmQoWydjb21tYW5kK2JhY2tzcGFjZScsICdjdHJsK2JhY2tzcGFjZSddLCBmdW5jdGlvbihlKSB7XG4gICAgICBkYy5sYXllcmxpc3QuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vIERlbGV0ZSBTZWxlY3RlZCBMYXllcnNcbiAgICBNb3VzZXRyYXAuYmluZChbJ2N0cmwrc2hpZnQrayddLCBmdW5jdGlvbihlKSB7XG4gICAgICBkYy5vcHMuZmlsZS5yZW1vdmUuZXhlY3V0ZSgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gVW5jaGVjayBMYXllciBWaXNpYmlsaXR5XG4gICAgTW91c2V0cmFwLmJpbmQoWydjb21tYW5kK3BsdXMnLCAnY3RybCtwbHVzJywgJ2NvbW1hbmQrPScsICdjdHJsKz0nXSwgZnVuY3Rpb24oZSkge1xuICAgICAgZHJvcGNob3AubGF5ZXJsaXN0LmNoZWNrQWxsKHRydWUpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgTGF5ZXIgVmlzaWJpbGl0eVxuICAgIE1vdXNldHJhcC5iaW5kKFsnY29tbWFuZCstJywgJ2N0cmwrLSddLCBmdW5jdGlvbihlKSB7XG4gICAgICBkYy5sYXllcmxpc3QudW5jaGVja0FsbCh0cnVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGRjO1xuXG5cbn0pKGRyb3BjaG9wIHx8IHt9KTsiLCJ2YXIgZHJvcGNob3AgPSAoZnVuY3Rpb24oZGMpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgZGMgPSBkYyB8fCB7fTtcblxuICBkYy5zZWxlY3Rpb24gPSB7fTtcbiAgZGMuc2VsZWN0aW9uLmxpc3QgPSBbXTtcblxuICBkYy5zZWxlY3Rpb24uaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICQoZGMpLm9uKCdsYXllcjpzZWxlY3RlZCcsIGRjLnNlbGVjdGlvbi5hZGQpO1xuICAgICQoZGMpLm9uKCdsYXllcjp1bnNlbGVjdGVkJywgZGMuc2VsZWN0aW9uLnJlbW92ZSk7XG4gICAgJChkYykub24oJ2xheWVyOnJlbW92ZWQnLCBfbGF5ZXJSZW1vdmVkKTtcbiAgfTtcblxuICBkYy5zZWxlY3Rpb24uYWRkID0gZnVuY3Rpb24oZXZlbnQsIGxheWVyKSB7XG4gICAgZGMuc2VsZWN0aW9uLmxpc3QucHVzaChsYXllcik7XG4gIH07XG5cbiAgZGMuc2VsZWN0aW9uLnJlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50LCBsYXllcikge1xuICAgIHZhciBpbmRleCA9IG51bGw7XG4gICAgJChkYy5zZWxlY3Rpb24ubGlzdCkuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICBpZiAoZGMuc2VsZWN0aW9uLmxpc3RbaV0uc3RhbXAgPT09IGxheWVyLnN0YW1wKSB7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkYy5zZWxlY3Rpb24ubGlzdC5zcGxpY2UoaW5kZXgsIDEpOyAvLyByZW1vdmUgb3V0c2lkZSBvZiB0aGUgbG9vcCBzbyB3ZSBkb24ndCBicmVhayBvdXIgY291bnRcbiAgfTtcblxuICBkYy5zZWxlY3Rpb24uY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAkKCcubGF5ZXItbmFtZS5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICQoJy5vcGVyYXRpb24tZ2VvJykuYWRkQ2xhc3MoJ29wZXJhdGlvbi1pbmFjdGl2ZScpO1xuICAgICQoJy5vcGVyYXRpb24tZ2VvJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICBkYy5zZWxlY3Rpb24ubGlzdCA9IFtdO1xuICB9O1xuXG4gIGRjLnNlbGVjdGlvbi5pc1NlbGVjdGVkID0gZnVuY3Rpb24obHlyRGF0YSkge1xuICAgIHJldHVybiBCb29sZWFuKGRyb3BjaG9wLnNlbGVjdGlvbi5saXN0LmluZGV4T2YobHlyRGF0YSkgKyAxKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfbGF5ZXJSZW1vdmVkKGV2ZW50LCBzdGFtcCkge1xuICAgIGRjLnNlbGVjdGlvbi5yZW1vdmUoe30sIHtzdGFtcDogc3RhbXB9KTtcbiAgICBkYy5zZWxlY3Rpb24uY2xlYXIoKTtcbiAgfVxuXG4gIHJldHVybiBkYztcblxuXG59KShkcm9wY2hvcCB8fCB7fSk7IiwidmFyIGRyb3BjaG9wID0gKGZ1bmN0aW9uKGRjKSB7XG4gIFxuICAndXNlIHN0cmljdCc7XG5cbiAgZGMgPSBkYyB8fCB7fTtcbiAgZGMub3BzID0gZGMub3BzIHx8IHt9O1xuXG4gIGRjLm9wcy5nZW8gPSB7XG4gICAgYWxvbmc6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgbWF4RmVhdHVyZXM6IDEsXG4gICAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgZ2VuZXJhbEZlYXR1cmU6IGZhbHNlLFxuICAgICAgICB0eXBlczogWydGZWF0dXJlPExpbmVTdHJpbmc+JywgJ0ZlYXR1cmVDb2xsZWN0aW9uJ11cbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjogJ1Rha2VzIGEgbGluZSBhbmQgcmV0dXJucyBhIHBvaW50IGF0IGEgc3BlY2lmaWVkIGRpc3RhbmNlIGFsb25nIHRoZSBsaW5lLicsXG4gICAgICBwYXJhbWV0ZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnZGlzdGFuY2UnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uIDonZGlzdGFuY2UgYWxvbmcgdGhlIGxpbmUnLFxuICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgIGRlZmF1bHQ6IDEwXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAndW5pdHMnLFxuICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICBvcHRpb25zOiBbJ21pbGVzJywgJ2tpbG9tZXRlcnMnLCAncmFkaWFucycsICdkZWdyZWVzJ10sXG4gICAgICAgICAgZGVmYXVsdDogJ21pbGVzJ1xuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgdmFyIG5ld1BhcmFtcyA9IHBhcmFtcztcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIGZlYXR1cmUgY29sbGVjdGlvbiwgZG8gaXQgcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKHBhcmFtc1swXS50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZGMudXRpbC5leGVjdXRlRkMocGFyYW1zWzBdLCAnYWxvbmcnLCBwYXJhbXMpO1xuICAgICAgICAvLyBvdGhlcndpc2UgaXQncyBhIHNpbmdsZSBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSB0dXJmLmFsb25nLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYmV6aWVyOiB7XG4gICAgICBtaW5GZWF0dXJlczogMSxcbiAgICAgIG1heEZlYXR1cmVzOiAxLFxuICAgICAgcmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGdlbmVyYWxGZWF0dXJlOiBmYWxzZSxcbiAgICAgICAgdHlwZXM6IFsnRmVhdHVyZTxMaW5lU3RyaW5nPicsICdGZWF0dXJlQ29sbGVjdGlvbiddXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdUYWtlcyBhIGxpbmUgYW5kIHJldHVybnMgYSBjdXJ2ZWQgdmVyc2lvbiBieSBhcHBseWluZyBhIEJlemllciBzcGxpbmUgYWxnb3JpdGhtLicsXG4gICAgICBwYXJhbWV0ZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAncmVzb2x1dGlvbicsXG4gICAgICAgICAgZGVzY3JpcHRpb24gOidUaW1lIGluIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHBvaW50cycsXG4gICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgZGVmYXVsdDogMTAwMDBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdzaGFycG5lc3MnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uIDonYSBtZWFzdXJlIG9mIGhvdyBjdXJ2eSB0aGUgcGF0aCBzaG91bGQgYmUgYmV0d2VlbiBzcGxpbmVzJyxcbiAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICBkZWZhdWx0OiAgMC44NVxuXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICB2YXIgbmV3UGFyYW1zID0gcGFyYW1zO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgZmVhdHVyZSBjb2xsZWN0aW9uLCBkbyBpdCByZWN1cnNpdmVseVxuICAgICAgICBpZiAocGFyYW1zWzBdLnR5cGUgPT09ICdGZWF0dXJlQ29sbGVjdGlvbicpIHtcbiAgICAgICAgICByZXN1bHQgPSBkYy51dGlsLmV4ZWN1dGVGQyhwYXJhbXNbMF0sICdiZXppZXInLCBwYXJhbXMpO1xuICAgICAgICAvLyBvdGhlcndpc2UgaXQncyBhIHNpbmdsZSBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSB0dXJmLmJlemllci5hcHBseShudWxsLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGJ1ZmZlcjoge1xuICAgICAgbWF4RmVhdHVyZXM6IDEsXG4gICAgICBtaW5GZWF0dXJlczogMSxcbiAgICAgIHJlcXVpcmVtZW50czoge1xuICAgICAgICBnZW5lcmFsRmVhdHVyZTogdHJ1ZSxcbiAgICAgICAgdHlwZXM6IFsnRmVhdHVyZScsICdGZWF0dXJlQ29sbGVjdGlvbiddXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdDYWxjdWxhdGVzIGEgYnVmZmVyIGZvciBpbnB1dCBmZWF0dXJlcyBmb3IgYSBnaXZlbiByYWRpdXMuIFVuaXRzIHN1cHBvcnRlZCBhcmUgbWlsZXMsIGtpbG9tZXRlcnMsIGFuZCBkZWdyZWVzLicsXG4gICAgICBwYXJhbWV0ZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnZGlzdGFuY2UnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGlzdGFuY2UgdG8gZHJhdyB0aGUgYnVmZmVyLicsXG4gICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgZGVmYXVsdDogMTBcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICd1bml0JyxcbiAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgb3B0aW9uczogWydtaWxlcycsICdmZWV0JywgJ2tpbG9tZXRlcnMnLCAnbWV0ZXJzJywgJ2RlZ3JlZXMnXSxcbiAgICAgICAgICBkZWZhdWx0OiAnbWlsZXMnXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHR1cmYuYnVmZmVyLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNlbnRlcjoge1xuICAgICAgbWluRmVhdHVyZXM6IDEsXG4gICAgICBtYXhGZWF0dXJlczogMSxcbiAgICAgIHJlcXVpcmVtZW50czoge1xuICAgICAgICBnZW5lcmFsRmVhdHVyZTogdHJ1ZSxcbiAgICAgICAgdHlwZXM6IFsnRmVhdHVyZScsICdGZWF0dXJlQ29sbGVjdGlvbiddXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdDcmVhdGVzIGEgcG9pbnQgaW4gdGhlIGNlbnRlciBvZiB0aGUgZmVhdHVyZS4nLFxuICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3JlY3Vyc2l2ZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdSdW4gdGhlIG9wZXJhdGlvbiBvbiBlYWNoIGZlYXR1cmUgaW4gdGhlIGNvbGxlY3Rpb24gb3IgdGhlIGVudGlyZSBjb2xsZWN0aW9uLicsXG4gICAgICAgICAgdHlwZTogJ3JlY3Vyc2l2ZSdcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIC8vIGlmIHJ1bm5pbmcgdGhlIG9wZXJhdGlvbiByZWN1cnNpdmVseSBcInRydWVcIlxuICAgICAgICBpZiAocGFyYW1zWzFdID09PSBcInRydWVcIikge1xuICAgICAgICAgIHJlc3VsdCA9IGRjLnV0aWwuZXhlY3V0ZUZDKHBhcmFtc1swXSwgJ2NlbnRlcicsIHBhcmFtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gdHVyZi5jZW50ZXIuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjZW50cm9pZDoge1xuICAgICAgbWluRmVhdHVyZXM6IDEsXG4gICAgICBtYXhGZWF0dXJlczogMSxcbiAgICAgIHJlcXVpcmVtZW50czoge1xuICAgICAgICBnZW5lcmFsRmVhdHVyZTogdHJ1ZSxcbiAgICAgICAgdHlwZXM6IFsnRmVhdHVyZScsICdGZWF0dXJlQ29sbGVjdGlvbiddXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdDcmVhdGVzIGEgcG9pbnQgaW4gdGhlIGNlbnRyb2lkIG9mIHRoZSBmZWF0dXJlcy4nLFxuICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3JlY3Vyc2l2ZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdSdW4gdGhlIG9wZXJhdGlvbiBvbiBlYWNoIGZlYXR1cmUgaW4gdGhlIGNvbGxlY3Rpb24gb3IgdGhlIGVudGlyZSBjb2xsZWN0aW9uLicsXG4gICAgICAgICAgdHlwZTogJ3JlY3Vyc2l2ZSdcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIC8vIGlmIHJ1bm5pbmcgdGhlIG9wZXJhdGlvbiByZWN1cnNpdmVseSBcInRydWVcIlxuICAgICAgICBpZiAocGFyYW1zWzFdID09PSBcInRydWVcIikge1xuICAgICAgICAgIHJlc3VsdCA9IGRjLnV0aWwuZXhlY3V0ZUZDKHBhcmFtc1swXSwgJ2NlbnRyb2lkJywgcGFyYW1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSB0dXJmLmNlbnRyb2lkLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZGVzdGluYXRpb246IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgbWF4RmVhdHVyZXM6IDEsXG4gICAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgZ2VuZXJhbEZlYXR1cmU6IGZhbHNlLFxuICAgICAgICB0eXBlczogWydGZWF0dXJlPFBvaW50PicsICdGZWF0dXJlQ29sbGVjdGlvbiddXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdUYWtlcyBhIFBvaW50IGFuZCBjYWxjdWxhdGVzIHRoZSBsb2NhdGlvbiBvZiBhIGRlc3RpbmF0aW9uIHBvaW50IGdpdmVuIGEgZGlzdGFuY2UgaW4gZGVncmVlcywgcmFkaWFucywgbWlsZXMsIG9yIGtpbG9tZXRlcnM7IGFuZCBiZWFyaW5nIGluIGRlZ3JlZXMuIFRoaXMgdXNlcyB0aGUgSGF2ZXJzaW5lIGZvcm11bGEgdG8gYWNjb3VudCBmb3IgZ2xvYmFsIGN1cnZhdHVyZS4nLFxuICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ2Rpc3RhbmNlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbiA6J2Rpc3RhbmNlIGZyb20gdGhlIHN0YXJ0aW5nIHBvaW50JyxcbiAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICBkZWZhdWx0OiAxMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ2JlYXJpbmcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uIDoncmFuZ2luZyBmcm9tIC0xODAgdG8gMTgwJyxcbiAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICBkZWZhdWx0OiAgMFxuXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAndW5pdHMnLFxuICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICBvcHRpb25zOiBbJ21pbGVzJywgJ2tpbG9tZXRlcnMnLCAncmFkaWFucycsICdkZWdyZWVzJ10sXG4gICAgICAgICAgZGVmYXVsdDogJ21pbGVzJ1xuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgdmFyIG5ld1BhcmFtcyA9IHBhcmFtcztcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIGZlYXR1cmUgY29sbGVjdGlvbiwgZG8gaXQgcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKHBhcmFtc1swXS50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZGMudXRpbC5leGVjdXRlRkMocGFyYW1zWzBdLCAnZGVzdGluYXRpb24nLCBwYXJhbXMpO1xuICAgICAgICAvLyBvdGhlcndpc2UgaXQncyBhIHNpbmdsZSBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSB0dXJmLmRlc3RpbmF0aW9uLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZW52ZWxvcGU6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgbWF4RmVhdHVyZXM6IDEsXG4gICAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgZ2VuZXJhbEZlYXR1cmU6IGZhbHNlLFxuICAgICAgICB0eXBlczogWydGZWF0dXJlQ29sbGVjdGlvbiddIC8vIFRPRE86IG1ha2UgdGhpcyB0YWtlIGZlYXR1cmVzIGFuZCBydW4gYWNyb3NzIGZ1bGwgc2VsZWN0aW9uXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdUYWtlcyBhbnkgbnVtYmVyIG9mIGZlYXR1cmVzIGFuZCByZXR1cm5zIGEgcmVjdGFuZ3VsYXIgUG9seWdvbiB0aGF0IGVuY29tcGFzc2VzIGFsbCB2ZXJ0aWNlcy4nLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0dXJmLmVudmVsb3BlLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGV4cGxvZGU6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgbWF4RmVhdHVyZXM6IDEsXG4gICAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgZ2VuZXJhbEZlYXR1cmU6IHRydWUsXG4gICAgICAgIHR5cGVzOiBbJ0ZlYXR1cmUnLCAnRmVhdHVyZUNvbGxlY3Rpb24nXVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGFrZXMgYSBmZWF0dXJlIG9yIHNldCBvZiBmZWF0dXJlcyBhbmQgcmV0dXJucyBhbGwgcG9zaXRpb25zIGFzIHBvaW50cy4nLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0dXJmLmV4cGxvZGUuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbWlkcG9pbnQ6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAyLFxuICAgICAgbWF4RmVhdHVyZXM6IDIsXG4gICAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgZ2VuZXJhbEZlYXR1cmU6IGZhbHNlLFxuICAgICAgICB0eXBlczogWydGZWF0dXJlPFBvaW50PiddXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdUYWtlcyB0d28gcG9pbnRzIGFuZCByZXR1cm5zIGEgcG9pbnQgbWlkd2F5IGJldHdlZW4gdGhlbS4nLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0dXJmLm1pZHBvaW50LmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBzYW1wbGU6IHtcbiAgICAgIG1heEZlYXR1cmVzOiAxLFxuICAgICAgbWluRmVhdHVyZXM6IDEsXG4gICAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgZ2VuZXJhbEZlYXR1cmU6IHRydWUsXG4gICAgICAgIHR5cGVzOiBbJ0ZlYXR1cmVDb2xsZWN0aW9uJ11cbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjogJ1Rha2VzIGEgRmVhdHVyZUNvbGxlY3Rpb24gYW5kIHJldHVybnMgYSBGZWF0dXJlQ29sbGVjdGlvbiB3aXRoIGdpdmVuIG51bWJlciBvZiBmZWF0dXJlcyBhdCByYW5kb20uJyxcbiAgICAgIHBhcmFtZXRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdudW0nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTnVtYmVyIG9mIGZlYXR1cmVzIHRvIHNlbGVjdC4nLFxuICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHVyZi5zYW1wbGUuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2ltcGxpZnk6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgbWF4RmVhdHVyZXM6IDEsXG4gICAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgZ2VuZXJhbEZlYXR1cmU6IGZhbHNlLFxuICAgICAgICB0eXBlczogWydGZWF0dXJlPExpbmVTdHJpbmc+JywgJ0ZlYXR1cmU8UG9seWdvbj4nLCAnRmVhdHVyZUNvbGxlY3Rpb24nXVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGFrZXMgYSBMaW5lU3RyaW5nIG9yIFBvbHlnb24gYW5kIHJldHVybnMgYSBzaW1wbGlmaWVkIHZlcnNpb24uIEludGVybmFsbHkgdXNlcyBzaW1wbGlmeS1qcyB0byBwZXJmb3JtIHNpbXBsaWZpY2F0aW9uLicsXG4gICAgICBwYXJhbWV0ZXJzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ3RvbGVyYW5jZScsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA6J3NpbXBsaWZpY2F0aW9uIHRvbGVyYW5jZScsXG4gICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDAuMVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ2hpZ2ggcXVhbGl0eScsXG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICd3aGV0aGVyIG9yIG5vdCB0byBzcGVuZCBtb3JlIHRpbWUgdG8gY3JlYXRlIGEgaGlnaGVyLXF1YWxpdHkgc2ltcGxpZmljYXRpb24gd2l0aCBhIGRpZmZlcmVudCBhbGdvcml0aG0nLFxuICAgICAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgdmFyIG5ld1BhcmFtcyA9IHBhcmFtcztcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIGZlYXR1cmUgY29sbGVjdGlvbiwgZG8gaXQgcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKHBhcmFtc1swXS50eXBlID09PSAnRmVhdHVyZUNvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZGMudXRpbC5leGVjdXRlRkMocGFyYW1zWzBdLCAnc2ltcGxpZnknLCBwYXJhbXMpO1xuICAgICAgICAvLyBvdGhlcndpc2UgaXQncyBhIHNpbmdsZSBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSB0dXJmLnNpbXBsaWZ5LmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdGluOiB7XG4gICAgICBtaW5GZWF0dXJlczogMSxcbiAgICAgIG1heEZlYXR1cmVzOiAxLFxuICAgICAgcmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGdlbmVyYWxGZWF0dXJlOiBmYWxzZSxcbiAgICAgICAgdHlwZXM6IFsnRmVhdHVyZUNvbGxlY3Rpb24nXVxuICAgICAgfSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVHJpYW5ndWxhdGVkIGlycmVndWxhciBuZXR3b3JrLCBpbnRlcnBvbGF0aW9uIG1ldGhvZCcsXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHR1cmYudGluLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHVuaW9uOiB7XG4gICAgICBtaW5GZWF0dXJlczogMixcbiAgICAgIG1heEZlYXR1cmVzOiAyLFxuICAgICAgcmVxdWlyZW1lbnRzOiB7XG4gICAgICAgIGdlbmVyYWxGZWF0dXJlOiBmYWxzZSxcbiAgICAgICAgdHlwZXM6IFsnRmVhdHVyZTxQb2x5Z29uPiddXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246ICdUYWtlcyB0d28gcG9seWdvbnMgYW5kIHJldHVybnMgYSBjb21iaW5lZCBwb2x5Z29uLiBJZiB0aGUgaW5wdXQgcG9seWdvbnMgYXJlIG5vdCBjb250aWd1b3VzLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYSBNdWx0aVBvbHlnb24gZmVhdHVyZS4nLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0dXJmLnVuaW9uLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHdpdGhpbjoge1xuICAgICAgbWluRmVhdHVyZXM6IDIsXG4gICAgICBtYXhGZWF0dXJlczogMixcbiAgICAgIHJlcXVpcmVtZW50czoge1xuICAgICAgICBnZW5lcmFsRmVhdHVyZTogZmFsc2UsXG4gICAgICAgIHR5cGVzOiBbJ0ZlYXR1cmVDb2xsZWN0aW9uJ11cbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjogJ1Rha2VzIGEgc2V0IG9mIHBvaW50cyBhbmQgYSBzZXQgb2YgcG9seWdvbnMgYW5kIHJldHVybnMgdGhlIHBvaW50cyB0aGF0IGZhbGwgd2l0aGluIHRoZSBwb2x5Z29ucy4gRmlyc3QgaW5wdXQgc2hvdWxkIGJlIHRoZSBwb2ludHMuJyxcbiAgICAgIHBhcmFtZXRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdQb2ludHMgdG8gY2xpcCcsXG4gICAgICAgICAgZGVzY3JpcHRpb24gOidTZWxlY3QgdGhlIGxheWVyIHRoYXQgcmVwcmVzZW50cyB0aGUgcG9pbnRzIHlvdSB3YW50IHRvIGNsaXAuIFRoaXMgYXNzdW1lcyB0aGUgb3RoZXIgbGF5ZXIgaXMgeW91ciBjbGlwcGluZyBwb2x5Z29uLicsXG4gICAgICAgICAgdHlwZTogJ3N3aXRjaCdcbiAgICAgICAgICAvLyBkZWZhdWx0OiBkYy5zZWxlY3Rpb24ubGlzdFswXVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0dXJmLndpdGhpbi5hcHBseShudWxsLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZGM7XG5cbn0pKGRyb3BjaG9wIHx8IHt9KTsiLCJ2YXIgZHJvcGNob3AgPSAoZnVuY3Rpb24oZGMpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgZGMgPSBkYyB8fCB7fTtcbiAgZGMub3BzID0gZGMub3BzIHx8IHt9O1xuXG4gIGRjLm9wcy5maWxlID0ge1xuXG4gICAgLy9cbiAgICAvLyBJbXBvcnQgRGF0YVxuICAgIC8vL1xuICAgIHVwbG9hZDoge1xuICAgICAgZGVzY3JpcHRpb246ICdVcGxvYWQgZnJvbSB5b3VyIGNvbXB1dGVyICguZ2VvanNvbiknLFxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtdXBsb2FkXCI+PC9pPicsXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaW5zcGlyZWQgZnJvbSBnZW9qc29uLmlvXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvZ2VvanNvbi5pby9ibG9iL2doLXBhZ2VzL3NyYy91aS9maWxlX2Jhci5qcyNMMzkwXG4gICAgICAgIHZhciAkYmxpbmRJbnB1dCA9ICQoJzxpbnB1dD4nKVxuICAgICAgICAgICAgICAuYXR0cigndHlwZScsICdmaWxlJylcbiAgICAgICAgICAgICAgLmF0dHIoJ211bHRpcGxlJywgJ3RydWUnKVxuICAgICAgICAgICAgICAuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpXG4gICAgICAgICAgICAgIC5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcbiAgICAgICAgICAgICAgLmNzcygnaGVpZ2h0JywgJzAnKVxuICAgICAgICAgICAgICAub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBmaWxlcyA9IHRoaXMuZmlsZXM7XG4gICAgICAgICAgICAgICAgJChmaWxlcykuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgICBkYy51dGlsLnJlYWRGaWxlKGZpbGVzW2ldKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkYmxpbmRJbnB1dC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGJsaW5kSW5wdXQpO1xuICAgICAgICAkYmxpbmRJbnB1dC5jbGljaygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAnbG9hZC11cmwnOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ0ltcG9ydCBmaWxlIGZyb20gYSBVUkwnLFxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtbGlua1wiPjwvaT4nLFxuICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3VybCcsXG4gICAgICAgICAgZGVzY3JpcHRpb24gOidVUkwnLFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBkZWZhdWx0OiAnaHR0cDovLycsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoZGMpLnRyaWdnZXIoJ2Zvcm06ZmlsZScsIFsnbG9hZC11cmwnXSk7XG4gICAgICB9LFxuICAgICAgZ2V0OiBmdW5jdGlvbihldmVudCwgbmFtZSwgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgdXJsID0gcGFyYW1ldGVyc1swXTtcbiAgICAgICAgZGMudXRpbC54aHIodXJsLCBkYy5vcHMuZmlsZVtuYW1lXS5jYWxsYmFjayk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHhociwgeGhyRXZlbnQpIHtcbiAgICAgICAgZHJvcGNob3AudXRpbC5sb2FkZXIoZmFsc2UpO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIC8vIGdldCBmaWxlbmFtZSBiYXNlZCBvbiB0aGUgZW5kIG9mIHRoZSB1cmwgLSBub3Qgc3VyZSBpZiB0aGlzIGlzIHN1c3RhaW5hYmxlXG4gICAgICAgICAgdmFyIG5hbWUgPSB4aHIucmVzcG9uc2VVUkwuc3Vic3RyaW5nKHhoci5yZXNwb25zZVVSTC5sYXN0SW5kZXhPZignLycpKzEpO1xuICAgICAgICAgICQoZGMpLnRyaWdnZXIoJ2ZpbGU6YWRkZWQnLCBbbmFtZSwgZGF0YSwgJ3VybCcsIHhoci5yZXNwb25zZVVSTF0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGMubm90aWZ5KCdlcnJvcicsIHhoci5zdGF0dXMgKyAnOiBjb3VsZCBub3QgcmV0cmlldmUgR2lzdC4gUGxlYXNlIGNoZWNrIHlvdXIgVVJMJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2xvYWQtZ2lzdCc6IHtcbiAgICAgIGRlc2NyaXB0aW9uOiAnSW1wb3J0IGZpbGVzIGZyb20gR2lzdCcsXG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYSBmYS1naXRodWJcIj48L2k+JyxcbiAgICAgIHBhcmFtZXRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdnaXN0JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbiA6J0dpc3QgSUQgb3IgVVJMJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgZGVmYXVsdDogJ2h0dHBzOi8vZ2lzdC5naXRodWIuY29tLydcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJChkYykudHJpZ2dlcignZm9ybTpmaWxlJywgWydsb2FkLWdpc3QnXSk7XG4gICAgICB9LFxuICAgICAgZ2V0OiBmdW5jdGlvbihldmVudCwgbmFtZSwgcGFyYW1ldGVycykge1xuICAgICAgICB2YXIgZ2lzdCA9IHBhcmFtZXRlcnNbMF0uc3BsaXQoJy8nKVtwYXJhbWV0ZXJzWzBdLnNwbGl0KCcvJykubGVuZ3RoLTFdO1xuICAgICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vZ2lzdHMvJyArIGdpc3Q7XG4gICAgICAgIGRjLnV0aWwueGhyKHVybCwgZGMub3BzLmZpbGVbbmFtZV0uY2FsbGJhY2spO1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbih4aHIsIHhockV2ZW50KSB7XG4gICAgICAgIGRyb3BjaG9wLnV0aWwubG9hZGVyKGZhbHNlKTtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBmb3IgKHZhciBmIGluIGRhdGEuZmlsZXMpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gZGF0YS5maWxlc1tmXS5maWxlbmFtZTtcbiAgICAgICAgICAgICQoZGMpLnRyaWdnZXIoJ2ZpbGU6YWRkZWQnLCBbbmFtZSwgSlNPTi5wYXJzZShkYXRhLmZpbGVzW2ZdLmNvbnRlbnQpLCAnZ2lzdCcsIHhoci5yZXNwb25zZVVSTC5zcGxpdCgnLycpW3hoci5yZXNwb25zZVVSTC5zcGxpdCgnLycpLmxlbmd0aCAtIDFdXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZGMubm90aWZ5KCdzdWNjZXNzJywgJ1N1Y2Nlc2Z1bGx5IHJldHJpZXZlZCBnaXN0JylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYy5ub3RpZnkoJ2Vycm9yJywgeGhyLnN0YXR1cyArICc6IGNvdWxkIG5vdCByZXRyaWV2ZSBHaXN0LiBQbGVhc2UgY2hlY2sgeW91ciBVUkwnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnbG9hZC1hcmNnaXMnOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ1F1ZXJ5IGFuIEFyY0dJUyBTZXJ2ZXIgRmVhdHVyZSBTZXJ2aWNlJyxcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhIGZhLWdsb2JlXCI+PC9pPicsXG4gICAgICBfdGVtcDogeydsYXllck5hbWUnOiAnYXJjanNvbid9LFxuICAgICAgcGFyYW1ldGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ2ZlYXR1cmUgc2VydmljZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdFbnRlciBVUkwgdG8gQXJjR0lTIEZlYXR1cmUgU2VydmljZSAoZXguIGh0dHA6Ly9zYW1wbGVzZXJ2ZXI2LmFyY2dpc29ubGluZS5jb20vYXJjZ2lzL3Jlc3Qvc2VydmljZXMvSHVycmljYW5lcy9NYXBTZXJ2ZXIvMCknLFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBkZWZhdWx0OiAnaHR0cDovL3NhbXBsZXNlcnZlcjYuYXJjZ2lzb25saW5lLmNvbS9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9IdXJyaWNhbmVzL01hcFNlcnZlci8wJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3doZXJlJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Egd2hlcmUgY2xhdXNlIGZvciB0aGUgcXVlcnkgZmlsdGVyLiBBbnkgbGVnYWwgU1FMIHdoZXJlIGNsYXVzZSBvcGVyYXRpbmcgb24gdGhlIGZpZWxkcyBpbiB0aGUgbGF5ZXIgaXMgYWxsb3dlZC4nLFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBkZWZhdWx0OiAnMT0xJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ3JlcXVlc3QgdHlwZScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdzZWxlY3QgSlNPTlAgaWYgeW91IHJlY2VpdmUgY3Jvc3Mtb3JpZ2luIHJlc291cmNlIHNoYXJpbmcgZXJyb3JzJyxcbiAgICAgICAgICB0eXBlOiAncmFkaW8nLFxuICAgICAgICAgIGRlZmF1bHQ6ICdDT1JTJyxcbiAgICAgICAgICBvcHRpb25zOiBbJ0NPUlMnLCAnSlNPTlAnXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogJ2xpbWl0IHRvIG1hcCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdvbmx5IGxvYWQgZmVhdHVyZXMgd2l0aGluIGN1cnJlbnQgbWFwIHZpZXcnLFxuICAgICAgICAgIHR5cGU6ICdjaGVja2JveCdcblxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoZGMpLnRyaWdnZXIoJ2Zvcm06ZmlsZScsIFsnbG9hZC1hcmNnaXMnXSk7XG4gICAgICB9LFxuICAgICAgY2hlY2tKc29ucDogZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICAgICAgICBpZiAocGFyYW1ldGVyc1syXSA9PT0gJ0pTT05QJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldDogZnVuY3Rpb24oZXZlbnQsIG5hbWUsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgZGMub3BzLmZpbGVbJ2xvYWQtYXJjZ2lzJ10uX3RlbXAubGF5ZXJOYW1lID0gcGFyYW1ldGVyc1swXTtcbiAgICAgICAgdmFyIGJib3ggPSAnLTE4MCwtOTAsMTgwLDkwJztcbiAgICAgICAgaWYgKHBhcmFtZXRlcnNbM10pIHtcbiAgICAgICAgICBiYm94ID0gZGMudXRpbC5nZXRFc3JpQkJveCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSBwYXJhbWV0ZXJzWzBdKycvcXVlcnkvJztcbiAgICAgICAgdmFyIHVybFBhcmFtcyA9IHtcbiAgICAgICAgICBmOiAnanNvbicsXG4gICAgICAgICAgaW5TUjogNDMyNixcbiAgICAgICAgICBvdXRTUjogNDMyNixcbiAgICAgICAgICBnZW9tZXRyeTogYmJveCxcbiAgICAgICAgICB3aGVyZTogcGFyYW1ldGVyc1sxXSxcbiAgICAgICAgICBvdXRmaWVsZHM6ICcqJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY29ycyA9IGRjLm9wcy5maWxlWydsb2FkLWFyY2dpcyddLmNoZWNrSnNvbnAocGFyYW1ldGVycyk7XG4gICAgICAgIGRjLnV0aWwuZ2V0KHVybCwgdXJsUGFyYW1zLCBjb3JzKVxuICAgICAgICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGRjLm9wcy5maWxlWydsb2FkLWFyY2dpcyddLmNhbGxiYWNrKGRhdGEpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZhaWwoZnVuY3Rpb24oanFYaHIsIHRleHRTdGF0dXMsIGVycikge1xuICAgICAgICAgICAgZHJvcGNob3AudXRpbC5sb2FkZXIoZmFsc2UpO1xuICAgICAgICAgICAgZGMubm90aWZ5KCdFcnJvcicsIHRleHRTdGF0dXMsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZHJvcGNob3AudXRpbC5sb2FkZXIoZmFsc2UpO1xuICAgICAgICB2YXIgZ2VvanNvbiA9IGRjLnV0aWwuZXNyaTJnZW8oZGF0YSk7XG4gICAgICAgIGlmIChkYXRhLmZlYXR1cmVzLmxlbmd0aDwxKSB7XG4gICAgICAgICAgZGMubm90aWZ5KCdpbmZvJywgJ05vIGZlYXR1cmVzIGZvdW5kIGluIHlvdXIgcXVlcnkuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJChkYykudHJpZ2dlcignZmlsZTphZGRlZCcsIFtkYy5vcHMuZmlsZVsnbG9hZC1hcmNnaXMnXS5fdGVtcC5sYXllck5hbWUsIGdlb2pzb25dKTtcbiAgICAgICAgICBkYy5ub3RpZnkoJ3N1Y2Nlc3MnLCAnRm91bmQgPHN0cm9uZz4nICsgZGF0YS5mZWF0dXJlcy5sZW5ndGggKyAnIGZlYXR1cmVzPC9zdHJvbmc+IGZyb20gdGhlIEFyY0dJUyBTZXJ2aWNlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2xvYWQtb3ZlcnBhc3MnOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ1F1ZXJ5IHRoZSBPdmVycGFzcyBBUEknLFxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtdGVybWluYWxcIj48L2k+JyxcbiAgICAgIF90ZW1wOiB7fSxcbiAgICAgIHBhcmFtZXRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdxdWVyeScsXG4gICAgICAgICAgZGVzY3JpcHRpb24gOidFbnRlciBhIHNlYXJjaCBxdWVyeSBpbiB0aGUgb3ZlcnBhc3MtdHVyYm8gd2l6YXJkIHN5bnRheC4gTGVhcm4gbW9yZSBhYm91dCA8YSBocmVmPVwiaHR0cDovL3dpa2kub3BlbnN0cmVldG1hcC5vcmcvd2lraS9PdmVycGFzc190dXJiby9XaXphcmRcIiB0YXJnZXQ9XCJfYmxhbmtcIj50aGUgc3VwcG9ydGVkIGZlYXR1cmVzPC9hPi4nLFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBkZWZhdWx0OiAnYW1lbml0eT1iYXInXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAnbGF5ZXIgbmFtZScsXG4gICAgICAgICAgZGVzY3JpcHRpb24gOidOYW1lIG9mIHRoZSBsYXllciBhZGRlZCBpZiByZXN1bHRzIGFyZSBmb3VuZC4nLFxuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBkZWZhdWx0OiAnb3ZlcnBhc3NfbGF5ZXJfbmFtZSdcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRjKS50cmlnZ2VyKCdmb3JtOmZpbGUnLCBbJ2xvYWQtb3ZlcnBhc3MnXSk7XG4gICAgICB9LFxuICAgICAgZ2V0OiBmdW5jdGlvbihldmVudCwgbmFtZSwgcGFyYW1ldGVycykge1xuICAgICAgICAvLyBzZXQgbGF5ZXIgbmFtZSB0byBfdGVtcCBmb3IgbGF0ZXIgdXNhZ2VcbiAgICAgICAgZGMub3BzLmZpbGVbJ2xvYWQtb3ZlcnBhc3MnXS5fdGVtcC5sYXllck5hbWUgPSBwYXJhbWV0ZXJzWzFdOyAvLyB0aGlzIGlzIHVnbHlcblxuICAgICAgICAvLyBidWlsZCB0aGUgcXVlcnkgd2l0aCBib3VuZGluZyBib3hcbiAgICAgICAgdmFyIGJib3ggPSBkYy51dGlsLmdldEJCb3goKTtcbiAgICAgICAgdmFyIG92ZXJwYXNzUXVlcnkgPSBvdmVycGFzc1dpemFyZChwYXJhbWV0ZXJzWzBdKTtcbiAgICAgICAgaWYgKG92ZXJwYXNzUXVlcnkgPT09IGZhbHNlKVxuICAgICAgICAgIHJldHVybiBkYy5ub3RpZnkoJ2Vycm9yJywgJ0NhblxcJ3QgY3JlYXRlIG92ZXJwYXNzIHF1ZXJ5IGZvciB0aGlzIHNlYXJjaCBpbnB1dC4nKTtcbiAgICAgICAgb3ZlcnBhc3NXaXphcmRFeHBhbmQob3ZlcnBhc3NRdWVyeSwgYmJveCwgZnVuY3Rpb24oZXJyLCBleHBhbmRlZE92ZXJwYXNzUXVlcnkpIHtcbiAgICAgICAgICBpZiAoZXJyKVxuICAgICAgICAgICAgcmV0dXJuIGRjLm5vdGlmeSgnZXJyb3InLCAnRXJyb3Igd2hpbGUgZXhwYW5kaW5nIG92ZXJwYXNzIHF1ZXJ5OiAnICsgZXJyKTtcbiAgICAgICAgICBkYy51dGlsLnhocignaHR0cDovL292ZXJwYXNzLWFwaS5kZS9hcGkvaW50ZXJwcmV0ZXI/ZGF0YT0nK2VuY29kZVVSSUNvbXBvbmVudChleHBhbmRlZE92ZXJwYXNzUXVlcnkpLCBkYy5vcHMuZmlsZVsnbG9hZC1vdmVycGFzcyddLmNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHhociwgeGhyRXZlbnQpIHtcbiAgICAgICAgZHJvcGNob3AudXRpbC5sb2FkZXIoZmFsc2UpO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIHZhciBnZW9qc29uID0gb3NtdG9nZW9qc29uKGRhdGEsIHtcbiAgICAgICAgICAgIGZsYXRQcm9wZXJ0aWVzOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFkYXRhLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgZGMubm90aWZ5KCdpbmZvJywgJ05vIGVsZW1lbnRzIGZvdW5kIGluIHlvdXIgcXVlcnkuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoZGMpLnRyaWdnZXIoJ2ZpbGU6YWRkZWQnLCBbZGMub3BzLmZpbGVbJ2xvYWQtb3ZlcnBhc3MnXS5fdGVtcC5sYXllck5hbWUsIGdlb2pzb25dKTtcbiAgICAgICAgICAgIGRjLm5vdGlmeSgnc3VjY2VzcycsICdGb3VuZCA8c3Ryb25nPicgKyBkYXRhLmVsZW1lbnRzLmxlbmd0aCArICcgZWxlbWVudHM8L3N0cm9uZz4gZnJvbSB0aGUgT3ZlcnBhc3MgQVBJJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRjLm5vdGlmeSgnZXJyb3InLCB4aHIuc3RhdHVzICsgJzogY291bGQgbm90IHF1ZXJ5IHRoZSBPdmVycGFzcyBBUEknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBsb2NhdGlvbjoge1xuICAgICAgZGVzY3JpcHRpb246ICdBZGQgeW91ciBsb2NhdGlvbiBhcyBhIGxheWVyJyxcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhIGZhLWNyb3NzaGFpcnNcIj48L2k+JyxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIW5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgICAgIGRjLm5vdGlmeSgnZXJyb3InLCAnR2VvbG9jYXRpb24gaXMgbm90IGF2YWlsYWJsZSBvbiB0aGlzIGJyb3dzZXIuJywgNDAwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGMubWFwLm0ubG9jYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2xvYWQtY3VzdG9tLWJhc2UnOiB7XG4gICAgICBkZXNjcmlwdGlvbjogJ0FkZCBjdXN0b20gTWFwYm94IGJhc2VtYXAnLFxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtbWFwLW9cIj48L2k+JyxcbiAgICAgIF90ZW1wOiAnJyxcbiAgICAgIHBhcmFtZXRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdNYXAgSUQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uIDonTWFwIElEJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgZGVmYXVsdDogJ3VzZXJuYW1lLmlkJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdDdXN0b20gQmFzZSBMYXllciBOYW1lJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbiA6J05hbWUgb2YgdGhlIGN1c3RvbSBiYXNlbGF5ZXIgYWRkZWQuJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgZGVmYXVsdDogJ0Jhc2VtYXAgbmFtZSdcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRjKS50cmlnZ2VyKCdmb3JtOmZpbGUnLCBbJ2xvYWQtY3VzdG9tLWJhc2UnXSk7XG4gICAgICB9LFxuICAgICAgZ2V0OiBmdW5jdGlvbihldmVudCwgbmFtZSwgcGFyYW1ldGVycykge1xuICAgICAgICBkYy5vcHMuZmlsZVsnbG9hZC1jdXN0b20tYmFzZSddLl90ZW1wID0gcGFyYW1ldGVyc1swXTtcbiAgICAgICAgZGMub3BzLmZpbGVbJ2xvYWQtY3VzdG9tLWJhc2UnXS5fdGVtcF8xID0gcGFyYW1ldGVyc1sxXTtcbiAgICAgICAgdmFyIHVybCA9ICdodHRwczovL2FwaS5tYXBib3guY29tL3Y0LycgKyBkYy5vcHMuZmlsZVsnbG9hZC1jdXN0b20tYmFzZSddLl90ZW1wICsgJy5odG1sP2FjY2Vzc190b2tlbj0nICsgZGMubWFwLnRva2VuO1xuICAgICAgICBkYy51dGlsLnhocih1cmwsIGRjLm9wcy5maWxlW25hbWVdLmNhbGxiYWNrKTtcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24oeGhyLCB4aHJFdmVudCkge1xuICAgICAgICBkcm9wY2hvcC51dGlsLmxvYWRlcihmYWxzZSk7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICB2YXIgbmV3TGF5ZXIgPSBkYy5tYXAuYmFzZUxheWVycy5hZGRCYXNlTGF5ZXIoTC5tYXBib3gudGlsZUxheWVyKGRjLm9wcy5maWxlWydsb2FkLWN1c3RvbS1iYXNlJ10uX3RlbXApLFxuICAgICAgICAgICAgZGMub3BzLmZpbGVbJ2xvYWQtY3VzdG9tLWJhc2UnXS5fdGVtcF8xKTtcbiAgICAgICAgICBMLm1hcGJveC50aWxlTGF5ZXIobmV3TGF5ZXIpLmFkZFRvKGRjLm1hcC5tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYy5ub3RpZnkoJ2Vycm9yJywgeGhyLnN0YXR1cyArICc6IGNvdWxkIG5vdCByZXRyaWV2ZSBiYXNlIG1hcC4gUGxlYXNlIGNoZWNrIHlvdXIgTWFwIElEJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy9cbiAgICAvLyBFeHBvcnQgRGF0YVxuICAgIC8vXG4gICAgJ3NhdmUtZ2VvanNvbic6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgZGVzY3JpcHRpb246ICdTYXZlIGFzIEdlb0pTT04nLFxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtZmlsZS1jb2RlLW9cIj48L2k+JyxcbiAgICAgIGNyZWF0ZXNMYXllcjogZmFsc2UsXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYy5zZWxlY3Rpb24ubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoZGMuc2VsZWN0aW9uLmxpc3RbaV0ucmF3KTtcbiAgICAgICAgICB2YXIgdGl0bGUgPSAnZHJvcGNob3BfJyArIGRjLnNlbGVjdGlvbi5saXN0W2ldLm5hbWUgKyAnLmdlb2pzb24nO1xuICAgICAgICAgIHNhdmVBcyhuZXcgQmxvYihbY29udGVudF0sIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnXG4gICAgICAgICAgfSksIHRpdGxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnc2F2ZS10b3BvanNvbic6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgZGVzY3JpcHRpb246ICdTYXZlIGFzIFRvcG9KU09OJyxcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhIGZhLW9iamVjdC11bmdyb3VwXCI+PC9pPicsXG4gICAgICBjcmVhdGVzTGF5ZXI6IGZhbHNlLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGMuc2VsZWN0aW9uLmxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY29udGVudCA9IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgdG9wb2pzb24udG9wb2xvZ3koe1xuICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBkYy5zZWxlY3Rpb24ubGlzdFtpXS5yYXdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgJ3Byb3BlcnR5LXRyYW5zZm9ybSc6IGZ1bmN0aW9uKGZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmVhdHVyZS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgfX0pXG4gICAgICAgICAgKTtcbiAgICAgICAgICB2YXIgdGl0bGUgPSAnZHJvcGNob3BfJyArIGRjLnNlbGVjdGlvbi5saXN0W2ldLm5hbWUgKyAnLnRvcG9qc29uJztcbiAgICAgICAgICBzYXZlQXMobmV3IEJsb2IoW2NvbnRlbnRdLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04J1xuICAgICAgICAgIH0pLCB0aXRsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ3NhdmUtc2hhcGVmaWxlJzoge1xuICAgICAgbWluRmVhdHVyZXM6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogJ1NhdmUgYXMgU2hhcGVmaWxlJyxcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhIGZhLWZpbGVcIj48L2k+JyxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRjLnNlbGVjdGlvbi5saXN0KS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgIGZvbGRlcjogJ2Ryb3BjaG9wXycgKyBkYy5zZWxlY3Rpb24ubGlzdFtpXS5uYW1lLFxuICAgICAgICAgICAgICB0eXBlczoge1xuICAgICAgICAgICAgICAgIHBvaW50OiAnZHJvcGNob3BfJyArIGRjLnNlbGVjdGlvbi5saXN0W2ldLm5hbWUgKyAnX3BvaW50JyxcbiAgICAgICAgICAgICAgICBwb2x5Z29uOiAnZHJvcGNob3BfJyArIGRjLnNlbGVjdGlvbi5saXN0W2ldLm5hbWUgKyAnX3BvbHknLFxuICAgICAgICAgICAgICAgIGxpbmU6ICdkcm9wY2hvcF8nICsgZGMuc2VsZWN0aW9uLmxpc3RbaV0ubmFtZSArICdfbGluZSdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNocHdyaXRlLmRvd25sb2FkKGRjLnNlbGVjdGlvbi5saXN0W2ldLnJhdywgb3B0aW9ucyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkYy5ub3RpZnkoJ0Vycm9yJywgJ1RoZXJlIHdhcyBhIHByb2JsZW0gZG93bmxvYWRpbmcgdGhlIHNoYXBlZmlsZS4nICsgZXJyKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZXNMYXllcjogZmFsc2VcbiAgICB9LFxuXG5cbiAgICAvL1xuICAgIC8vIExheWVyIE9wdGlvbnNcbiAgICAvL1xuICAgIGV4dGVudDoge1xuICAgICAgbWluRmVhdHVyZXM6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogJ1ZpZXcgZXh0ZW50IG9mIGxheWVycycsXG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYSBmYS1nbG9iZVwiPjwvaT4nLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCFkYy5zZWxlY3Rpb24ubGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBleHRlbnQgb2YgZW50aXJlIGxheWVyIGxpc3QgaWYgbm90aGluZyBzZWxlY3RlZFxuICAgICAgICAgIGRjLm1hcC5tLmZpdEJvdW5kcyhkYy5tYXAubGF5ZXJncm91cC5nZXRCb3VuZHMoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGJ1aWxkIHRoZSBib3VuZHMgYmFzZWQgb24gc2VsZWN0ZWQgbGF5ZXJzXG4gICAgICAgICAgdmFyIGJvdW5kcztcbiAgICAgICAgICAkKGRjLnNlbGVjdGlvbi5saXN0KS5lYWNoKGZ1bmN0aW9uKGwpIHtcbiAgICAgICAgICAgIHZhciBmbCA9IGRjLnNlbGVjdGlvbi5saXN0W2xdLmZlYXR1cmVsYXllcjtcbiAgICAgICAgICAgIGlmKCFsKSBib3VuZHMgPSBmbC5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgIGVsc2UgYm91bmRzLmV4dGVuZChmbC5nZXRCb3VuZHMoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGMubWFwLm0uZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgIH0sXG5cbiAgICBleHBhbmQ6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgZGVzY3JpcHRpb246ICdDb252ZXJ0IEZlYXR1cmVDb2xsZWN0aW9uIGludG8gc2VwYXJhdGUgZmVhdHVyZXMnLFxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtZXhwYW5kXCI+PC9pPicsXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgaWYgKGRjLnNlbGVjdGlvbi5saXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHZhciBmYyA9IGRjLnNlbGVjdGlvbi5saXN0WzBdO1xuICAgICAgICAgIGlmIChmYy5yYXcudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgJChmYy5yYXcuZmVhdHVyZXMpLmVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAkKGRjKS50cmlnZ2VyKCdmaWxlOmFkZGVkJywgW2ZjLm5hbWUgKyBjb3VudCArICdfJyArIGZjLnJhdy5mZWF0dXJlc1tmXS5nZW9tZXRyeS50eXBlLCBmYy5yYXcuZmVhdHVyZXNbZl1dKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdUaGF0IG5lZWRzIHRvIGJlIGEgZmVhdHVyZSBjb2xsZWN0aW9uIScpO1xuICAgICAgICAgICAgZGMubm90aWZ5KCdlcnJvcicsICdMYXllciBpcyBub3QgYSBGZWF0dXJlQ29sbGVjdGlvbi4nKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGMubm90aWZ5KCdpbmZvJywgJ1BsZWFzZSBzZWxlY3QgYSBzaW5nbGUgbGF5ZXIhJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tYmluZToge1xuICAgICAgbWluRmVhdHVyZXM6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogJ0NvbWJpbmVzIHNlbGVjdGVkIGZlYXR1cmVzIGludG8gYSBzaW5nbGUgRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtY29tcHJlc3NcIj48L2k+JyxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZmMgPSB7XG4gICAgICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyxcbiAgICAgICAgICBmZWF0dXJlczogW11cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRjLnNlbGVjdGlvbi5saXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkKGRjLnNlbGVjdGlvbi5saXN0KS5lYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgIGlmIChkYy5zZWxlY3Rpb24ubGlzdFtmXS5yYXcudHlwZSAhPT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgICBmYy5mZWF0dXJlcy5wdXNoKGRjLnNlbGVjdGlvbi5saXN0W2ZdLnJhdyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYy5ub3RpZnkoJ2luZm8nLCBkYy5zZWxlY3Rpb24ubGlzdFtmXS5uYW1lICsgJyB3YXMgbm90IGFkZGVkIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSBhIEZlYXR1cmVDb2xsZWN0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChkYykudHJpZ2dlcignZmlsZTphZGRlZCcsIFsnbmV3X0ZlYXR1cmVDb2xsZWN0aW9uJywgZmNdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYy5ub3RpZnkoJ2luZm8nLCAnTm8gbGF5ZXJzIHNlbGVjdGVkIScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vICd2aWV3LWF0dHJpYnV0ZXMnOiB7XG4gICAgLy8gICBtaW5GZWF0dXJlczogMSxcbiAgICAvLyAgIGRlc2NyaXB0aW9uOiAnU2hvdyBhdHRyaWJ1dGUgdGFibGUnLFxuICAgIC8vICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtdGgtbGlzdFwiPjwvaT4nLFxuICAgIC8vICAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgIGRjLmF0dHIucmVuZGVyKGRjLnNlbGVjdGlvbi5saXN0WzBdKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9LFxuXG4gICAgZHVwbGljYXRlOiB7XG4gICAgICBtaW5GZWF0dXJlczogMSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRHVwbGljYXRlIHNlbGVjdGVkIGxheWVycycsXG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYSBmYS1maWxlcy1vXCI+PC9pPicsXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJChkYy5zZWxlY3Rpb24ubGlzdCkuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgJChkYykudHJpZ2dlcignbGF5ZXI6ZHVwbGljYXRlJywgW3RoaXMuc3RhbXBdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRjLnNlbGVjdGlvbi5jbGVhcigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW5hbWU6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgbWF4RmVhdHVyZXM6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogJ1JlbmFtZSBsYXllcicsXG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYSBmYS1wZW5jaWxcIj48L2k+JyxcbiAgICAgIHBhcmFtZXRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6ICdOYW1lJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICcnXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRjLnNlbGVjdGlvbi5saXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICQoZGMpLnRyaWdnZXIoJ2Zvcm06ZmlsZScsIFsncmVuYW1lJ10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRjLm5vdGlmeSgnaW5mbycsICdQbGVhc2Ugc2VsZWN0IDxzdHJvbmc+b25lIGxheWVyPC9zdHJvbmc+LicpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGV2ZW50LCBuYW1lLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgICQoZGMpLnRyaWdnZXIoJ2xheWVyOnJlbmFtZScsIFtkYy5zZWxlY3Rpb24ubGlzdFswXSwgcGFyYW1ldGVyc1swXV0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmU6IHtcbiAgICAgIG1pbkZlYXR1cmVzOiAxLFxuICAgICAgZGVzY3JpcHRpb246ICdSZW1vdmUgc2VsZWN0ZWQgbGF5ZXJzJyxcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhIGZhLXRyYXNoLW9cIj48L2k+JyxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkKGRjLnNlbGVjdGlvbi5saXN0KS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAkKGRjKS50cmlnZ2VyKCdsYXllcjpyZW1vdmUnLCBbdGhpcy5zdGFtcF0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZGMuc2VsZWN0aW9uLmNsZWFyKCk7XG4gICAgICAgIGRjLnV0aWwudXBkYXRlU2VhcmNoKCk7XG4gICAgICB9XG4gICAgfSxcblxuXG4gICAgLy9cbiAgICAvLyBFeHRyYSBWaWV3c1xuICAgIC8vXG4gICAgaW5mbzoge1xuICAgICAgdHlwZTogJ2luZm8nLFxuICAgICAgZGVzY3JpcHRpb246ICdMZWFybiBtb3JlIGFib3V0IGRyb3BjaG9wJyxcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhIGZhLWluZm9cIj48L2k+JyxcbiAgICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAnL2Fib3V0Lmh0bWwnO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZGM7XG5cbn0pKGRyb3BjaG9wIHx8IHt9KTtcbiIsInZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuICBcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGRjID0gZGMgfHwge307XG4gIGRjLm5vdGlmeSA9IGZ1bmN0aW9uKHR5cGUsIHRleHQsIHRpbWUpIHtcbiAgICB2YXIgbm90ZSA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ25vdGlmaWNhdGlvbicpXG4gICAgICAuYWRkQ2xhc3ModHlwZSlcbiAgICAgIC5odG1sKHRleHQpO1xuXG4gICAgLy8gYHRpbWVgIGNhbiBlcXVhbCAnY2xvc2UnIGluIG9yZGVyIHRvIGNyZWF0ZSBhIGNsb3NlIGJ1dHRvblxuICAgIGlmICh0aW1lID09PSAnY2xvc2UnKSB7XG5cbiAgICAgIHZhciAkY2xvc2UgPSAkKCc8YnV0dG9uPicpLmFkZENsYXNzKCdub3RpZmljYXRpb24tY2xvc2UnKVxuICAgICAgICAucHJvcCgndHlwZScsICdidXR0b24nKVxuICAgICAgICAuaHRtbCgnPGkgY2xhc3M9XCJmYSBmYS10aW1lc1wiPjwvaT4nKTtcblxuICAgICAgJGNsb3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlKCk7XG4gICAgICB9KTtcblxuICAgICAgJChub3RlKS5hcHBlbmQoJGNsb3NlKTtcbiAgICAgICQoZGMuJGVsZW0pLmFwcGVuZChub3RlKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICQoZGMuJGVsZW0pLmFwcGVuZChub3RlKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgbm90ZS5yZW1vdmUoKTtcbiAgICAgIH0sIHRpbWUgfHwgMzAwMCk7XG5cbiAgICB9XG5cbiAgICBcblxuICB9O1xuXG4gIHJldHVybiBkYztcblxufSkoZHJvcGNob3AgfHwge30pOyIsInZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBkYyA9IGRjIHx8IHt9O1xuICBkYy5tZW51cyA9IGRjLm1lbnVzIHx8IHt9O1xuICBkYy5tZW51cy5sZWZ0ID0gZGMubWVudXMubGVmdCB8fCB7fTtcblxuICBkYy5tZW51cy5sZWZ0LmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyB3aXJlIHVwIHNpZ25hbCBoYW5kbGVyc1xuICAgICQoZGMpLm9uKCdvcGVyYXRpb246ZmlsZTpsb2FkLWdpc3QnLCBkYy5vcHMuZmlsZVsnbG9hZC1naXN0J10uZ2V0KTtcbiAgICAkKGRjKS5vbignb3BlcmF0aW9uOmZpbGU6bG9hZC11cmwnLCBkYy5vcHMuZmlsZVsnbG9hZC11cmwnXS5nZXQpO1xuICAgICQoZGMpLm9uKCdvcGVyYXRpb246ZmlsZTpsb2FkLW92ZXJwYXNzJywgZGMub3BzLmZpbGVbJ2xvYWQtb3ZlcnBhc3MnXS5nZXQpO1xuICAgICQoZGMpLm9uKCdvcGVyYXRpb246ZmlsZTpsb2FkLWFyY2dpcycsIGRjLm9wcy5maWxlWydsb2FkLWFyY2dpcyddLmdldCk7XG4gICAgJChkYykub24oJ29wZXJhdGlvbjpmaWxlOmxvYWQtY3VzdG9tLWJhc2UnLCBkYy5vcHMuZmlsZVsnbG9hZC1jdXN0b20tYmFzZSddLmdldCk7XG4gICAgJChkYykub24oJ29wZXJhdGlvbjpmaWxlOnJlbmFtZScsIGRjLm9wcy5maWxlLnJlbmFtZS5jYWxsYmFjayk7XG5cbiAgICBkYy5tZW51cy5sZWZ0LnNldHVwID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnaW1wb3J0JyxcbiAgICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmEgZmEtcGx1c1wiPjwvaT4nLFxuICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgJ3VwbG9hZCcsXG4gICAgICAgICAgJ2xvYWQtdXJsJyxcbiAgICAgICAgICAnbG9hZC1naXN0JyxcbiAgICAgICAgICAnbG9hZC1vdmVycGFzcycsXG4gICAgICAgICAgJ2xvYWQtYXJjZ2lzJyxcbiAgICAgICAgICAnbG9hZC1jdXN0b20tYmFzZScsXG4gICAgICAgICAgJ2xvY2F0aW9uJ1xuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnU2F2ZScsXG4gICAgICAgIGljb246ICc8aSBjbGFzcz1cImZhIGZhLWZsb3BweS1vXCI+PC9pPicsXG4gICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAnc2F2ZS1nZW9qc29uJyxcbiAgICAgICAgICAnc2F2ZS10b3BvanNvbicsXG4gICAgICAgICAgJ3NhdmUtc2hhcGVmaWxlJ1xuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgJ2luZm8nXG4gICAgXTtcblxuICAgIC8vIHNldHVwIG9wcyBmaWxlXG4gICAgdmFyIGxlZnRNZW51ID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnZHJvcGNob3AtbWVudS1sZWZ0Jyk7XG4gICAgdmFyIHNldHVwID0gZGMubWVudXMubGVmdC5zZXR1cDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0dXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBhY3Rpb24gPSBzZXR1cFtpXTtcbiAgICAgIGlmICh0eXBlb2Ygc2V0dXBbaV0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmKGRjLm9wcy5maWxlW2FjdGlvbl0udHlwZSA9PT0gJ2JyZWFrJykge1xuICAgICAgICAgIHZhciAkYnJlYWtTcGFjZSA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ21lbnUtYWN0aW9uLWJyZWFrJyk7XG4gICAgICAgICAgbGVmdE1lbnUuYXBwZW5kKCRicmVha1NwYWNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZWZ0TWVudS5hcHBlbmQoYnVpbGRNZW51QnV0dG9uKGFjdGlvbikpO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGJ1aWxkIGEgY29sbGFwc2VhYmxlIG1lbnUgXCJidXR0b25cIlxuICAgICAgICB2YXIgY29sbGFwc2VCdG4gPSAkKCc8ZGl2PicpXG4gICAgICAgICAgLmFkZENsYXNzKCdtZW51LWFjdGlvbiBtZW51LWNvbGxhcHNlJylcbiAgICAgICAgICAuaHRtbChzZXR1cFtpXS5pY29uKTtcbiAgICAgICAgaWYgKHNldHVwW2ldLm5hbWUgPT09ICdpbXBvcnQnKSBjb2xsYXBzZUJ0bi5hZGRDbGFzcygnbWVudS1pbXBvcnQnKTtcblxuICAgICAgICB2YXIgY29sbGFwc2VJbm5lciA9ICQoJzxkaXY+JylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ21lbnUtY29sbGFwc2UtaW5uZXInKTtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggZWFjaCBhY3Rpb24gYW5kIGJ1aWxkIGEgYnV0dG9uIGZvciBpdCwganVzdCBsaWtlIGFib3ZlLFxuICAgICAgICAvLyBidXQgYXBwZW5kIGl0IHRvIHRoZSBtZW51LWNvbGxhcHNlLWlubmVyIGVsZW1lbnRcbiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBzZXR1cFtpXS5hY3Rpb25zLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgdmFyIGFjdG4gPSBzZXR1cFtpXS5hY3Rpb25zW2FdO1xuICAgICAgICAgIGNvbGxhcHNlSW5uZXIuYXBwZW5kKGJ1aWxkTWVudUJ1dHRvbihhY3RuKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29sbGFwc2VCdG4uYXBwZW5kKGNvbGxhcHNlSW5uZXIpO1xuXG4gICAgICAgIC8vIGFwcGVuZCB0aGUgZW50aXJlIGNvbGxhcHNlQnRuIHRvIHRoZSBsZWZ0TWVudVxuICAgICAgICBsZWZ0TWVudS5hcHBlbmQoY29sbGFwc2VCdG4pO1xuICAgICAgfVxuICAgIH1cbiAgICBkYy4kZWxlbS5hcHBlbmQobGVmdE1lbnUpO1xuXG4gICAgZnVuY3Rpb24gYnVpbGRNZW51QnV0dG9uKGFjdGlvbikge1xuICAgICAgdmFyIGJ1dHRvbiA9ICQoJzxidXR0b24+JykuYWRkQ2xhc3MoJ21lbnUtYWN0aW9uJylcbiAgICAgICAgLmh0bWwoZGMub3BzLmZpbGVbYWN0aW9uXS5pY29uIHx8ICchJylcbiAgICAgICAgLmF0dHIoJ2RhdGEtb3BlcmF0aW9uJywgYWN0aW9uKVxuICAgICAgICAuYXR0cignZGF0YS10b29sdGlwJywgZGMub3BzLmZpbGVbYWN0aW9uXS5kZXNjcmlwdGlvbik7XG4gICAgICAgIGlmIChkYy5vcHMuZmlsZVthY3Rpb25dLnR5cGUgPT09ICdpbmZvJykgYnV0dG9uLmFkZENsYXNzKCdkcm9wY2hvcC1pbmZvJyk7XG4gICAgICBidXR0b24ub24oJ2NsaWNrJywgX2hhbmRsZUJ0bkNsaWNrKTtcbiAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuICB9O1xuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgLyogaWdub3JpbmcgdGhlc2UgZnVuY3Rpb25zIGluIGpzaGludCBiZWNhdXNlIHdlIGFyZSBnZXR0aW5nXG4gIGFuIHVuZWNlc3Nhcnkgc3RyaWN0IHZpb2xhdGlvbiB3YXJuaW5nLCBidXQgb3VyIHVzYWdlIG9mIGB0aGlzYFxuICBpcyBwcm9wZXIgaGVyZS4gKi9cbiAgZnVuY3Rpb24gX2hhbmRsZUJ0bkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgb3BlcmF0aW9uID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9wZXJhdGlvbicpO1xuICAgIHRyeSB7XG4gICAgICBkYy5vcHMuZmlsZVtvcGVyYXRpb25dLmV4ZWN1dGUoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGRjLm5vdGlmeSgnZXJyb3InLCAnVGhpcyBvcGVyYXRpb24gZG9lc25cXCd0IGV4aXN0IScpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZXR1cm4gZGM7XG5cbn0pKGRyb3BjaG9wIHx8IHt9KTtcbiIsInZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBkYyA9IGRjIHx8IHt9O1xuICBkYy5tZW51cyA9IGRjLm1lbnVzIHx8IHt9O1xuICBkYy5tZW51cy5sYXllckNvbnRleHRNZW51ID0gZGMubWVudXMubGF5ZXJDb250ZXh0TWVudSB8fCB7fTtcblxuICBkYy5tZW51cy5sYXllckNvbnRleHRNZW51LmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBSZW1vdmUgb3BlbiBtZW51c1xuICAgICQoJ2h0bWwnKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBkYy5tZW51cy5sYXllckNvbnRleHRNZW51LnJlbW92ZUxheWVyQ29udGV4dE1lbnVzKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgbGF5ZXIgY29udGV4dCBtZW51IGRvbSBlbGVtZW50IChib3VuZCB0byByaWdodC1jbGljayBvbiBsYXllcmxpc3QpXG4gIGRjLm1lbnVzLmxheWVyQ29udGV4dE1lbnUuY3JlYXRlTGF5ZXJDb250ZXh0TWVudSA9IGZ1bmN0aW9uKCRsYXllck5hbWVEaXYsIHhQb3MsIHlQb3MpIHtcbiAgICBpZiAoISgkbGF5ZXJOYW1lRGl2IGluc3RhbmNlb2YgalF1ZXJ5KSkge1xuICAgICAgJGxheWVyTmFtZURpdiA9ICQoJGxheWVyTmFtZURpdik7XG4gICAgfVxuXG4gICAgLy8gQ2xvc2UgYW55IGFscmVhZHktb3BlbiBjb250ZXh0bWVudXNcbiAgICBkYy5tZW51cy5sYXllckNvbnRleHRNZW51LnJlbW92ZUxheWVyQ29udGV4dE1lbnVzKCk7XG5cbiAgICAvLyBTZWxlY3QgcmlnaHQtY2xpY2tlZCBsYXllci5cbiAgICB2YXIgbGF5ZXIgPSAkbGF5ZXJOYW1lRGl2LnBhcmVudCgpO1xuICAgIHZhciBseXJEYXRhID0gZGMubGF5ZXJzLmxpc3RbbGF5ZXIuYXR0cignZGF0YS1zdGFtcCcpXTtcblxuICAgIC8vIFNlbGVjdCBsYXllciBpZiB1bnNlbGVjdGVkXG4gICAgaWYgKCEoZHJvcGNob3Auc2VsZWN0aW9uLmlzU2VsZWN0ZWQobHlyRGF0YSkpKSB7XG4gICAgICAkbGF5ZXJOYW1lRGl2LnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGxlZnQtY2xpY2sgY29udGV4dC1tZW51XG4gICAgdmFyIG1lbnUgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdjb250ZXh0LW1lbnUnKTtcblxuICAgIHZhciBtZW51TGlzdCA9ICQoJzx1bD4nKTtcbiAgICBtZW51LmFwcGVuZChtZW51TGlzdCk7XG5cbiAgICAvLyBwb3B1bGF0ZSBjb250ZXh0LW1lbnVcbiAgICB2YXIgbWVudUl0ZW1zID0ge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgJ3RpdGxlMSc6ICdMYXllcicsXG4gICAgICAncmVuYW1lJzogZGMub3BzLmZpbGVbJ3JlbmFtZSddLFxuICAgICAgJ2R1cGxpY2F0ZSc6IGRjLm9wcy5maWxlWydkdXBsaWNhdGUnXSxcbiAgICAgICdyZW1vdmUnOiBkYy5vcHMuZmlsZVsncmVtb3ZlJ10sXG4gICAgICAndGl0bGUyJzogJ0dlbycsXG4gICAgICAnZXh0ZW50JzogZGMub3BzLmZpbGVbJ2V4dGVudCddLFxuICAgICAgJ2V4cGFuZCc6IGRjLm9wcy5maWxlWydleHBhbmQnXSxcbiAgICAgICdjb21iaW5lJzogZGMub3BzLmZpbGVbJ2NvbWJpbmUnXSxcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfTtcblxuICAgIGZvciAodmFyIG1lbnVJdGVtIGluIG1lbnVJdGVtcykge1xuICAgICAgdmFyIGl0ZW0gPSBtZW51SXRlbXNbbWVudUl0ZW1dO1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyB8fCBpdGVtIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgIG1lbnVMaXN0LmFwcGVuZCgkKCc8bGkgY2xhc3M9XCJ0aXRsZVwiPjxoND4nICsgaXRlbSArICc8L2g0PjwvbGk+JykpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBmaWxlQnRuID0gJCgnPGxpPicpLmFkZENsYXNzKCdtZW51LWFjdGlvbicpXG4gICAgICAgIC5odG1sKCc8ZGl2IGNsYXNzPVwiaWNvblwiPicgKyBpdGVtLmljb24gKyAnPC9kaXY+PGRpdiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JyArIGl0ZW0uZGVzY3JpcHRpb24gKyAnPC9kaXY+JylcbiAgICAgICAgLmF0dHIoJ2RhdGEtb3BlcmF0aW9uJywgbWVudUl0ZW0pXG4gICAgICAgIC5hdHRyKCdkYXRhLXRvb2x0aXAnLCBpdGVtLmRlc2NyaXB0aW9uKTtcblxuICAgICAgLy8gZGlzYWJsZSBpbnZhbGlkIG9wZXJhdGlvbnNcbiAgICAgIGlmIChcbiAgICAgICAgKGl0ZW0ubWluRmVhdHVyZXMgPiBkcm9wY2hvcC5zZWxlY3Rpb24ubGlzdC5sZW5ndGgpIHx8XG4gICAgICAgIChpdGVtLm1heEZlYXR1cmVzIDwgZHJvcGNob3Auc2VsZWN0aW9uLmxpc3QubGVuZ3RoKVxuICAgICAgKSB7XG4gICAgICAgIGZpbGVCdG4uYWRkQ2xhc3MoJ29wZXJhdGlvbi1pbmFjdGl2ZScpO1xuICAgICAgfVxuICAgICAgZmlsZUJ0bi5vbignY2xpY2snLCBfaGFuZGxlQnRuQ2xpY2spO1xuICAgICAgbWVudUxpc3QuYXBwZW5kKGZpbGVCdG4pO1xuICAgIH1cblxuXG4gICAgLy8gbWFrZSBzdXJlIHRvIHNldCB2aXNpYmlsaXR5OmhpZGRlblxuICAgIG1lbnUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgLy8gYXBwZW5kIHRvIERPTVxuICAgIGxheWVyLnBhcmVudCgpLmFwcGVuZChtZW51KTtcblxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0LCBzZXQgcG9zaXRpb25cbiAgICB2YXIgcG9zaXRpb24gPSBfY2FsY3VsYXRlTWVudUxvY2F0aW9uKCk7XG4gICAgbWVudS5jc3MocG9zaXRpb24pO1xuXG4gICAgLy8gcmVtb3ZlIHZpc2liaWxpdHk6aGlkZGVuXG4gICAgbWVudS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cbiAgICBmdW5jdGlvbiBfY2FsY3VsYXRlTWVudUxvY2F0aW9uKCkge1xuICAgICAgLy8gYnVmZmVyIGZyb20gdGhlIGVkZ2Ugb2YgdGhlIHdpbmRvdyAoaW4gcGl4ZWxzKVxuICAgICAgdmFyIGJ1ZmZlciA9IDEwO1xuXG4gICAgICAvLyBmaXJzdCBnZXQgdGhlIHdpbmRvdyBoZWlnaHRcbiAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cbiAgICAgIC8vIHRoZW4gZ2V0IHRoZSBtZW51IGhlaWdodFxuICAgICAgdmFyIG1lbnVIZWlnaHQgPSBtZW51LmhlaWdodCgpO1xuXG4gICAgICAvLyBjaGVjayB0byBtYWtlIHN1cmUgZnJvbSB0aGUgdG9wIG9mIHdpbmRvdyB0byB0aGUgYm90dG9tIG9mIG1lbnVcbiAgICAgIC8vIGlzIGxhcmdlciB0aGFuIHRoZSB3aW5kb3cgaGVpZ2h0XG4gICAgICBpZiAoIHlQb3MgKyBtZW51SGVpZ2h0IDwgd2luZG93SGVpZ2h0ICkge1xuICAgICAgICAvLyByZXR1cm4gbm9ybWFsbHlcbiAgICAgICAgcmV0dXJuIHt0b3A6IHlQb3MsIGxlZnQ6IHhQb3N9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgaXQgaXNuJ3QsIGZpZ3VyZSBvdXQgYnkgaG93IG11Y2gsIGFuZCByZXR1cm5cbiAgICAgICAgLy8geSBwb3NpdGlvbiB3aXRoIHNhZmUgY29udGV4dCBzcGFjZSBhbmQgYnVmZmVyIGZyb20gdGhlIHdpbmRvd1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9ICh5UG9zICsgbWVudUhlaWdodCkgLSB3aW5kb3dIZWlnaHQ7XG4gICAgICAgIHJldHVybiB7dG9wOiAoeVBvcyAtIGRpZmZlcmVuY2UgLSBidWZmZXIpLCBsZWZ0OiB4UG9zfTtcbiAgICAgIH1cblxuICAgIH1cblxuICB9O1xuXG4gIC8vIFJlbW92ZSBhbnkgb3BlbiBjb250ZXh0LW1lbnVzIGZyb20gRE9NXG4gIGRjLm1lbnVzLmxheWVyQ29udGV4dE1lbnUucmVtb3ZlTGF5ZXJDb250ZXh0TWVudXMgPSBmdW5jdGlvbigpIHtcbiAgICAkKCcuY29udGV4dC1tZW51JykucmVtb3ZlKCk7XG4gIH07XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAvKiBpZ25vcmluZyB0aGVzZSBmdW5jdGlvbnMgaW4ganNoaW50IGJlY2F1c2Ugd2UgYXJlIGdldHRpbmdcbiAgYW4gdW5lY2Vzc2FyeSBzdHJpY3QgdmlvbGF0aW9uIHdhcm5pbmcsIGJ1dCBvdXIgdXNhZ2Ugb2YgYHRoaXNgXG4gIGlzIHByb3BlciBoZXJlLiAqL1xuICBmdW5jdGlvbiBfaGFuZGxlQnRuQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBvcGVyYXRpb24gPSAkKHRoaXMpLmF0dHIoJ2RhdGEtb3BlcmF0aW9uJyk7XG4gICAgdHJ5IHtcbiAgICAgIGRjLm9wcy5maWxlW29wZXJhdGlvbl0uZXhlY3V0ZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZGMubm90aWZ5KCdlcnJvcicsICdUaGlzIG9wZXJhdGlvbiBkb2VzblxcJ3QgZXhpc3QhJyk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJldHVybiBkYztcblxufSkoZHJvcGNob3AgfHwge30pOyIsInZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBkYyA9IGRjIHx8IHt9O1xuICBkYy5tZW51cyA9IGRjLm1lbnVzIHx8IHt9O1xuICBkYy5tZW51cy5nZW8gPSBkYy5tZW51cy5nZW8gfHwge307XG5cbiAgZGMubWVudXMuZ2VvLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBidWlsZCBvcHMuZ2VvIGNvbnRhaW5lclxuICAgIHZhciBnZW9Db250YWluZXIgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdvcGVyYXRpb25zLWdlbycpO1xuICAgIGRjLiRlbGVtLmFwcGVuZChnZW9Db250YWluZXIpO1xuXG4gICAgLy8gd2lyZSB1cCBzaWduYWwgaGFuZGxlcnNcbiAgICAkKGRjKS5vbignbGF5ZXI6c2VsZWN0ZWQnLCBkYy5tZW51cy5nZW8uZ2VvQ2hlY2spO1xuICAgICQoZGMpLm9uKCdsYXllcjp1bnNlbGVjdGVkJywgZGMubWVudXMuZ2VvLmdlb0NoZWNrKTtcbiAgICAkKGRjKS5vbignb3BlcmF0aW9uOmdlbycsIGRjLm1lbnVzLmdlby5nZW9FeGVjdXRlKTtcblxuICAgIC8vIGNyZWF0ZSBnZW8gYnV0dG9ucyAmIGZvcm1zXG4gICAgZm9yICh2YXIgZ2VvT3AgaW4gZGMub3BzLmdlbykge1xuICAgICAgdmFyIGdlb0J0biA9ICQoJzxidXR0b24+JykuYWRkQ2xhc3MoJ29wZXJhdGlvbiBvcGVyYXRpb24tZ2VvIG9wZXJhdGlvbi1pbmFjdGl2ZScpXG4gICAgICAgIC5odG1sKCc8aDQ+JyArIGdlb09wICsgJzwvaDQ+PHA+JyArIGRjLm9wcy5nZW9bZ2VvT3BdLmRlc2NyaXB0aW9uICsgJzwvcD4nKVxuICAgICAgICAucHJvcCgnZGlzYWJsZWQnLCB0cnVlKVxuICAgICAgICAuYXR0cignZGF0YS1vcGVyYXRpb24nLCBnZW9PcCk7XG4gICAgICBnZW9CdG4ub24oJ2NsaWNrJywgX2hhbmRsZUJ0bkNsaWNrKTtcblxuICAgICAgZ2VvQ29udGFpbmVyLmFwcGVuZChnZW9CdG4pO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgLyogaWdub3JpbmcgdGhlc2UgZnVuY3Rpb25zIGluIGpzaGludCBiZWNhdXNlIHdlIGFyZSBnZXR0aW5nXG4gIGFuIHVuZWNlc3Nhcnkgc3RyaWN0IHZpb2xhdGlvbiB3YXJuaW5nLCBidXQgb3VyIHVzYWdlIG9mIGB0aGlzYFxuICBpcyBwcm9wZXIgaGVyZS4gKi9cbiAgZnVuY3Rpb24gX2hhbmRsZUJ0bkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgb3BlcmF0aW9uID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9wZXJhdGlvbicpO1xuICAgIC8vIGlmIG9wZXJhdGlvbiByZXF1aXJlcyBubyBwYXJhbWV0ZXJzLCBkb24ndCByZW5kZXIgYSBmb3JtXG4gICAgaWYgKCFkYy5vcHMuZ2VvW29wZXJhdGlvbl0ucGFyYW1ldGVycykge1xuICAgICAgJChkYykudHJpZ2dlcignb3BlcmF0aW9uOmdlbycsIFtvcGVyYXRpb24sIGRjLnNlbGVjdGlvbi5saXN0XSk7XG4gICAgLy8gb3RoZXJ3aXNlIHJlbmRlciB0aGUgZm9ybVxuICAgIH0gZWxzZSB7XG4gICAgICAkKGRjKS50cmlnZ2VyKCdmb3JtOmdlbycsIFtvcGVyYXRpb25dKTtcbiAgICB9XG4gIH1cbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICAvLyBTb3J0IHR1cmYgb3BlcmF0aW9ucyBieSBhdmFpbGFibGlsaXR5IGFuZCBhbHBoYWJldGljYWxseVxuICBmdW5jdGlvbiBfc29ydEdlbygpIHtcblxuICAgIC8vIEdldCBhbGwgb2YgdGhlIHR1cmYgYnV0dG9ucyBhbmQgc29ydCB0aGVtIGFscGhhYmV0aWNhbGx5XG4gICAgdmFyIGFscGhhID0gJCgnLm9wZXJhdGlvbi1nZW8nKS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiAoJChiKS5kYXRhKCdvcGVyYXRpb24nKSA8ICQoYSkuZGF0YSgnb3BlcmF0aW9uJykpID8gMSA6IC0xO1xuICAgIH0pO1xuXG4gICAgLy8gR3JhYiBhbGwgdGhlIGFjdGl2ZSBidXR0b25zIGFuZCByZWFwcGVuZCB0aGVtXG4gICAgYWxwaGEuZmlsdGVyKGZ1bmN0aW9uKGksIGQpIHtcbiAgICAgIGlmICghKCQoZCkucHJvcCgnZGlzYWJsZWQnKSkpIHsgcmV0dXJuIGQ7IH1cbiAgICB9KS5hcHBlbmRUbygnLm9wZXJhdGlvbnMtZ2VvJyk7XG5cbiAgICAvLyBHcmFiIGFsbCB0aGUgaW5hY3RpdmUgYnV0dG9ucyBhbmQgcmVhcHBlbmQgdGhlbVxuICAgIGFscGhhLmZpbHRlcihmdW5jdGlvbihpLCBkKSB7XG4gICAgICBpZiAoJChkKS5wcm9wKCdkaXNhYmxlZCcpKSB7IHJldHVybiBkOyB9XG4gICAgfSkuYXBwZW5kVG8oJy5vcGVyYXRpb25zLWdlbycpO1xuXG4gICAgLy8gU2Nyb2xsIHRvIHRoZSB0b3AgdG8ga2VlcCB0aGluZ3MgbmljZVxuICAgICQoJy5vcGVyYXRpb25zLWdlbycpLnNjcm9sbFRvcCgwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgdHVyZiBmdW5jdGlvbiBiYXNlZCBvbiBidXR0b24gb3BlcmF0aW9uIGNsaWNrLlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3JpZ2luYWwgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhpcyBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3BlcmF0aW9uIHRvIGJlIGV4ZWN1dGVkIHZpYSB0dXJmXG4gICAqIEBwYXJhbSB7YXJyYXl9IHNlcmllcyBvZiBwYXJhbWV0ZXJzIHRvIGJlIGFwcGxpZWQgdG8gdHVyZiBvcGVyYXRpb25cbiAgICovXG4gIGRjLm1lbnVzLmdlby5nZW9FeGVjdXRlID0gZnVuY3Rpb24oZXZlbnQsIG9wZXJhdGlvbiwgcGFyYW1ldGVycykge1xuICAgIHZhciBwcmVwID0gZGMubWVudXMuZ2VvLnByZXBhcmVUdXJmUGFyYW1zKG9wZXJhdGlvbiwgcGFyYW1ldGVycyk7XG4gICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGRjLm9wcy5nZW9bb3BlcmF0aW9uXS5leGVjdXRlKHByZXAub3B0aW9ucyk7XG4gICAgfSBjYXRjaChlcnIpIHtcbiAgICAgIGRjLm5vdGlmeSgnVGhhdCBvcGVyYXRpb24gaXNuXFwndCBwb3NzaWJsZS4gVHJ5IGNoYW5naW5nIHRoZSBvcmRlciBvZiB5b3VyIHNlbGVjdGlvbi4nKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG5cbiAgICAkKGRjKS50cmlnZ2VyKCdmaWxlOmFkZGVkJywgW3ByZXAubmFtZSwgcmVzdWx0XSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByZXBhcmUgcGFyYW1ldGVycyBmb3IgZXhlY3V0aW5nIHdpdGhpbiBhIHR1cmYgZnVuY3Rpb24gdXNpbmcgLmFwcGx5KCkgLSByZXR1cm5zIGFuIGFycmF5XG4gICAqIEBwYXJhbSB7YXJyYXl9IG9wdGlvbnMgZnJvbSB0aGUgdXNlciBwYXNzZWQgZnJvbSB0aGUgb3JpZ2luYWwgZXZlbnQgdHJpZ2dlclxuICAgKi9cbiAgZGMubWVudXMuZ2VvLnByZXBhcmVUdXJmUGFyYW1zID0gZnVuY3Rpb24ob3BlcmF0aW9uLCBwYXJhbXMpIHtcbiAgICB2YXIgZGF0YSA9IHt9O1xuICAgIGRhdGEub3B0aW9ucyA9IFtdO1xuXG4gICAgdmFyIGdlb21zID0gW107XG4gICAgdmFyIG5hbWVBcnJheSA9IFtdO1xuICAgIC8vIGdldCBnZW9tZXRyeSBhcnJheSBmcm9tIHNlbGVjdGlvblxuICAgICQoZGMuc2VsZWN0aW9uLmxpc3QpLmVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgaWYgKCQuaW5BcnJheSgnc3dpdGNoLScgKyBkYy5zZWxlY3Rpb24ubGlzdFtpXS5zdGFtcCwgcGFyYW1zKSA9PT0gLTEpIHtcbiAgICAgICAgZ2VvbXMucHVzaChkYy5zZWxlY3Rpb24ubGlzdFtpXS5yYXcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2VvbXMudW5zaGlmdChkYy5zZWxlY3Rpb24ubGlzdFtpXS5yYXcpO1xuICAgICAgfVxuICAgICAgbmFtZUFycmF5LnB1c2goZGMuc2VsZWN0aW9uLmxpc3RbaV0ubmFtZSk7XG4gICAgfSk7XG5cbiAgICAvLyBtZXJnZSBwYXJhbXMgd2l0aCBvcHRpb25zIGFycmF5XG4gICAgZGF0YS5vcHRpb25zID0gJC5tZXJnZShnZW9tcywgcGFyYW1zKTtcblxuICAgIC8vIGNyZWF0ZSBuYW1lIGFycmF5XG4gICAgZGF0YS5uYW1lID0gZGMudXRpbC5jb25jYXQobmFtZUFycmF5LCAnXycsIG9wZXJhdGlvbik7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICBkYy5tZW51cy5nZW8uZ2VvQ2hlY2sgPSBmdW5jdGlvbihldmVudCwgbGF5ZXIpIHtcbiAgICAvLyBjaGVjayBzZWxlY3Rpb24gY291bnQgdnMgb3BlcmF0aW9uIG1pbi9tYXhcbiAgICBmb3IgKHZhciBvIGluIGRjLm9wcy5nZW8pIHtcbiAgICAgIHZhciBvcCA9IGRjLm9wcy5nZW9bb107XG4gICAgICBpZiAoZGMuc2VsZWN0aW9uLmxpc3QubGVuZ3RoID4gb3AubWF4RmVhdHVyZXMgfHwgZGMuc2VsZWN0aW9uLmxpc3QubGVuZ3RoIDwgb3AubWluRmVhdHVyZXMpIHtcbiAgICAgICAgdHVybkl0T2ZmKG8pO1xuICAgICAgICAvLyBkb24ndCBnbyBhbnkgZnVydGhlclxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBjaGVjayBvcGVyYXRpb24gYWdhaW5zdCBlYWNoIHNlbGVjdGlvbiBkYXRhIHR5cGVcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBkYy5zZWxlY3Rpb24ubGlzdC5sZW5ndGg7IHgrKykge1xuICAgICAgICAgIHZhciBzZWwgPSBkYy5zZWxlY3Rpb24ubGlzdFt4XTtcblxuICAgICAgICAgIC8vIGlmIHRoZSBzZWxlY3Rpb24gdHlwZSBpcyBpbiB0aGUgYXJyYXksIG1hcmsgaXQgYXMgYWN0aXZlIVxuICAgICAgICAgIGlmICgkLmluQXJyYXkoc2VsLnR5cGUsIG9wLnJlcXVpcmVtZW50cy50eXBlcykgPiAtMSB8fCBvcC5yZXF1aXJlbWVudHMuZ2VuZXJhbEZlYXR1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHR1cm5JdE9uKG8pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0dXJuSXRPZmYobyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0dXJuSXRPZmYob3ApIHtcbiAgICAgIHZhciBidG4gPSAkKCdbZGF0YS1vcGVyYXRpb249Jysgb3AgKyddJyk7XG4gICAgICBidG4uYWRkQ2xhc3MoJ29wZXJhdGlvbi1pbmFjdGl2ZScpO1xuICAgICAgYnRuLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHVybkl0T24ob3ApIHtcbiAgICAgIHZhciBidG4gPSAkKCdbZGF0YS1vcGVyYXRpb249Jysgb3AgKyddJyk7XG4gICAgICBidG4ucmVtb3ZlQ2xhc3MoJ29wZXJhdGlvbi1pbmFjdGl2ZScpO1xuICAgICAgYnRuLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIFNvcnQgdGhlIGxpc3RcbiAgICBfc29ydEdlbygpO1xuICB9O1xuXG4gIHJldHVybiBkYztcblxufSkoZHJvcGNob3AgfHwge30pOyIsInZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBkYyA9IGRjIHx8IHt9O1xuICBkYy5tYXAgPSB7fTtcblxuICBkYy5tYXAuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGRjLm1hcC4kZWxlbSA9ICQoJzxkaXY+JykucHJvcCgnaWQnLCAnZHJvcGNob3AtbWFwJykuYWRkQ2xhc3MoJ21hcCcpO1xuICAgIGRjLiRlbGVtLmFwcGVuZChkYy5tYXAuJGVsZW0pO1xuXG4gICAgJChkYykub24oJ2xheWVyOnJlbW92ZWQnLCBkYy5tYXAucmVtb3ZlTGF5ZXIpO1xuXG4gICAgX21ha2VNYXAoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBfbWFrZU1hcCgpIHtcbiAgICBkYy5tYXAudG9rZW4gPSBMLm1hcGJveC5hY2Nlc3NUb2tlbiA9ICdway5leUoxSWpvaWMzWnRZWFIwYUdWM2N5SXNJbUVpT2lKVk1VbFVSMHhySW4wLk53ZVNfQXR0anN3dE41d1J1V0NTTkEnO1xuICAgIGRjLm1hcC5tID0gTC5tYXBib3gubWFwKCdkcm9wY2hvcC1tYXAnLCBudWxsLCB7XG4gICAgICB6b29tQ29udHJvbDogZmFsc2UsXG4gICAgICB3b3JsZENvcHlKdW1wOiB0cnVlXG4gICAgfSkuc2V0VmlldyhbMCwwXSwgMyk7XG5cbiAgICAvLyBzZXRzIHRoZSBsb2NhdGlvbiBvZiB0aGUgem9vbSBidXR0b25zIHRvIHRoZSB0b3AgcmlnaHRcbiAgICBMLmNvbnRyb2wuem9vbSh7XG4gICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnXG4gICAgfSkuYWRkVG8oZGMubWFwLm0pO1xuXG4gICAgTC5tYXBib3guZ2VvY29kZXJDb250cm9sKCdtYXBib3gucGxhY2VzJywge1xuICAgICAgcG9zaXRpb246ICd0b3BsZWZ0J1xuICAgIH0pLmFkZFRvKGRjLm1hcC5tKTtcblxuICAgIHZhciBiYXNlTGF5ZXJzID0ge1xuICAgICAgXCJNYXBib3ggU3RyZWV0c1wiOiBMLm1hcGJveC5zdHlsZUxheWVyKCdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExJyksXG4gICAgICBcIk1hcGJveCBPdXRkb29yc1wiOiBMLm1hcGJveC5zdHlsZUxheWVyKCdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L291dGRvb3JzLXYxMScpLFxuICAgICAgXCJNYXBib3ggTGlnaHRcIjogTC5tYXBib3guc3R5bGVMYXllcignbWFwYm94Oi8vc3R5bGVzL21hcGJveC9saWdodC12MTAnKSxcbiAgICAgIFwiTWFwYm94IERhcmtcIjogTC5tYXBib3guc3R5bGVMYXllcignbWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXYxMCcpLFxuICAgICAgXCJNYXBib3ggU2F0ZWxsaXRlXCI6IEwubWFwYm94LnN0eWxlTGF5ZXIoJ21hcGJveDovL3N0eWxlcy9tYXBib3gvc2F0ZWxsaXRlLXN0cmVldHMtdjExJyksXG4gICAgfTtcblxuICAgIGJhc2VMYXllcnNbJ01hcGJveCBTdHJlZXRzJ10uYWRkVG8oZGMubWFwLm0pO1xuICAgIC8vIHNldHMgbG9jYXRpb24gb2YgYmFzZSBsYXllciBjb250cm9sIHRvIHRoZSBib3R0b20gcmlnaHRcbiAgICBkYy5tYXAuYmFzZUxheWVycyA9IEwuY29udHJvbC5sYXllcnMoYmFzZUxheWVycywge30sIHtcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tcmlnaHQnLFxuICAgICAgY29sbGFwc2VkOiBmYWxzZVxuICAgIH0pLmFkZFRvKGRjLm1hcC5tKTtcblxuICAgIGRjLm1hcC5sYXllcmdyb3VwID0gTC5tYXBib3guZmVhdHVyZUxheWVyKCk7XG4gICAgZGMubWFwLmxheWVyZ3JvdXAuYWRkVG8oZGMubWFwLm0pO1xuXG4gICAgJChkYykub24oJ2xheWVyOmFkZGVkJywgZGMubWFwLmFkZExheWVyKTtcbiAgICAkKGRjKS5vbignbGF5ZXI6aGlkZScsIGRjLm1hcC5oaWRlTGF5ZXIpO1xuICAgICQoZGMpLm9uKCdsYXllcjpzaG93JywgZGMubWFwLnNob3dMYXllcik7XG5cbiAgICAvLyAvLyBteSBsb2NhdGlvbiBhcyBsYXllclxuICAgIC8vIHZhciBnZW9sb2NhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2VvbG9jYXRlJyk7XG5cbiAgICAkKGRjLm1hcC5tKS5vbignbG9jYXRpb25mb3VuZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBkYXRhID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgICAgZGMubWFwLm0uZml0Qm91bmRzKGRhdGEuYm91bmRzKTtcblxuICAgICAgdmFyIGx5ciA9IHtcbiAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgY29vcmRpbmF0ZXM6IFtkYXRhLmxhdGxuZy5sbmcsIGRhdGEubGF0bG5nLmxhdF1cbiAgICAgICAgfSxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICd0aXRsZSc6ICdUaGVyZSBZb3UgQXJlJyxcbiAgICAgICAgICAnbWFya2VyLWNvbG9yJzogJyMyMDcxNzgnLFxuICAgICAgICAgICdtYXJrZXItc3ltYm9sJzogJ2hlYXJ0J1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkKGRjKS50cmlnZ2VyKCdmaWxlOmFkZGVkJywgWyd5b3VyIGxvY2F0aW9uJywgbHlyXSk7XG4gICAgfSk7XG5cbiAgICAkKGRjLm1hcC5tKS5vbignbG9jYXRpb25lcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgZGMubm90aWZ5KCdlcnJvcicsICdUaGVyZSB3YXMgYSBwcm9ibGVtIGZpbmRpbmcgeW91ciBsb2NhdGlvbi4nLCAzMDAwKTtcbiAgICB9KTtcblxuICAgIC8vIC8vIE9uY2Ugd2UndmUgZ290IGEgcG9zaXRpb24sIHpvb20gYW5kIGNlbnRlciB0aGUgbWFwXG4gICAgLy8gLy8gb24gaXQsIGFuZCBhZGQgYSBzaW5nbGUgbWFya2VyLlxuICAgIC8vIHRoaXMuX21hcC5vbignbG9jYXRpb25mb3VuZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAgIHRoaXMuX21hcC5maXRCb3VuZHMoZS5ib3VuZHMpO1xuXG5cbiAgICAvLyAgIG15TGF5ZXIuc2V0R2VvSlNPTih7XG4gICAgLy8gICAgIHR5cGU6ICdGZWF0dXJlJyxcbiAgICAvLyAgICAgZ2VvbWV0cnk6IHtcbiAgICAvLyAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgIC8vICAgICAgIGNvb3JkaW5hdGVzOiBbZS5sYXRsbmcubG5nLCBlLmxhdGxuZy5sYXRdXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIHByb3BlcnRpZXM6IHtcbiAgICAvLyAgICAgICAndGl0bGUnOiAnVGhlcmUgWW91IEFyZScsXG4gICAgLy8gICAgICAgJ21hcmtlci1jb2xvcic6ICcjMjA3MTc4JyxcbiAgICAvLyAgICAgICAnbWFya2VyLXN5bWJvbCc6ICdoZWFydCdcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSk7XG5cbiAgICAvLyAgIC8vIEFuZCBoaWRlIHRoZSBnZW9sb2NhdGlvbiBidXR0b25cbiAgICAvLyAgIC8vZ2VvbG9jYXRlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ2VvbG9jYXRlKTtcbiAgICAvLyB9LmJpbmQodGhpcykpO1xuXG4gICAgLy8gLy8gSWYgdGhlIHVzZXIgY2hvb3NlcyBub3QgdG8gYWxsb3cgdGhlaXIgbG9jYXRpb25cbiAgICAvLyAvLyB0byBiZSBzaGFyZWQsIGRpc3BsYXkgYW4gZXJyb3IgbWVzc2FnZS5cbiAgICAvLyB0aGlzLl9tYXAub24oJ2xvY2F0aW9uZXJyb3InLCBmdW5jdGlvbigpIHtcbiAgICAvLyAgIGdlb2xvY2F0ZS5pbm5lckhUTUwgPSAnUG9zaXRpb24gY291bGQgbm90IGJlIGZvdW5kJztcbiAgICAvLyB9KTtcblxuXG4gIH1cblxuICBkYy5tYXAuY291bnQgPSAwO1xuXG4gIGRjLm1hcC5hZGRMYXllciA9IGZ1bmN0aW9uKGV2ZW50LCBsYXllcikge1xuICAgIHZhciBmbCA9IGxheWVyLmZlYXR1cmVsYXllcjtcbiAgICBkYy5tYXAubGF5ZXJncm91cC5hZGRMYXllcihmbCk7XG5cbiAgICAvLyBjcmVhdGUgcG9wdXAgdGFibGUgZm9yIGVhY2ggZmVhdHVyZVxuICAgIGZsLmVhY2hMYXllcihmdW5jdGlvbihsYXllcikge1xuICAgICAgdmFyIGNvbnRlbnQgPSAnPHRhYmxlIGNsYXNzPVwiZHJvcGNob3AtdGFibGVcIj48dHI+PHRoPlByb3BlcnR5PC90aD48dGg+RGF0YTwvdGg+PC90cj4nO1xuXG4gICAgICBpZiAobGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgY29udGVudCArPSAnPHRyPjx0ZD48c3Ryb25nPicgKyBwcm9wICsgJzwvc3Ryb25nPjwvdGQ+PHRkPicgKyBsYXllci5mZWF0dXJlLnByb3BlcnRpZXNbcHJvcF0gKyAnPC90ZD48L3RyPic7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnQgKz0gJzxwPlRoZXJlIGFyZSBubyBwcm9wZXJ0aWVzIHNldCBmb3IgdGhpcyBmZWF0dXJlLjwvcD4nO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSAnPC90YWJsZT4nO1xuXG4gICAgICBsYXllci5iaW5kUG9wdXAoTC5wb3B1cCh7XG4gICAgICAgIG1heFdpZHRoOiA0NTAsXG4gICAgICAgIG1heEhlaWdodDogMjAwLFxuICAgICAgICBhdXRvUGFuUGFkZGluZzogWzQ1LCA0NV0sXG4gICAgICAgIGNsYXNzTmFtZTogJ2Ryb3BjaG9wLXBvcHVwJ1xuICAgICAgfSwgbGF5ZXIpLnNldENvbnRlbnQoY29udGVudCkpO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgZGMubWFwLmhpZGVMYXllciA9IGZ1bmN0aW9uKGV2ZW50LCBsYXllcikge1xuICAgIGRjLm1hcC5sYXllcmdyb3VwLnJlbW92ZUxheWVyKGxheWVyLmZlYXR1cmVsYXllcik7XG4gIH07XG5cbiAgZGMubWFwLnNob3dMYXllciA9IGZ1bmN0aW9uKGV2ZW50LCBsYXllcikge1xuICAgIGRjLm1hcC5sYXllcmdyb3VwLmFkZExheWVyKGxheWVyLmZlYXR1cmVsYXllcik7XG4gIH07XG5cbiAgZGMubWFwLnJlbW92ZUxheWVyID0gZnVuY3Rpb24oZXZlbnQsIHN0YW1wKSB7XG4gICAgZGMubWFwLmxheWVyZ3JvdXAucmVtb3ZlTGF5ZXIoZGMubGF5ZXJzLmxpc3Rbc3RhbXBdLmZlYXR1cmVsYXllcik7XG4gIH07XG5cbiAgcmV0dXJuIGRjO1xuXG59KShkcm9wY2hvcCB8fCB7fSk7XG4iLCJ2YXIgZHJvcGNob3AgPSAoZnVuY3Rpb24oZGMpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgZGMgPSBkYyB8fCB7fTtcbiAgZGMubGF5ZXJzID0ge307XG4gIGRjLmxheWVycy5saXN0ID0ge307XG5cbiAgZGMubGF5ZXJzLnByZXBhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAkKGRjKS5vbignZmlsZTphZGRlZCcsIGRjLmxheWVycy5hZGQpO1xuICAgICQoZGMpLm9uKCdsYXllcjpyZW1vdmUnLCBkYy5sYXllcnMucmVtb3ZlKTtcbiAgICAkKGRjKS5vbignbGF5ZXI6ZHVwbGljYXRlJywgZGMubGF5ZXJzLmR1cGxpY2F0ZSk7XG4gICAgJChkYykub24oJ2xheWVyOnJlbmFtZScsIGRjLmxheWVycy5yZW5hbWUpO1xuICB9O1xuXG4vKipcbiAqIEFkZCBhIGxheWVyIHRvIHRoZSBsYXllcnMgbGlzdCBhbmQgdHJpZ2dlciBsYXllcjphZGRlZCBmb3Igc3Vic2NyaWJlcnMgdG8gcGljayB1cC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudFxuICogQHBhcmFtIHtvYmplY3R9IGZpbGUgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZSBibG9iIHRvIGJlIGNvbnZlcnRlZCB3aXRoIEpTT04ucGFyc2UoKVxuICovXG4gIGRjLmxheWVycy5hZGQgPSBmdW5jdGlvbihldmVudCwgbmFtZSwgYmxvYiwgbHR5cGUsIHVybCkge1xuICAgIGlmIChibG9iLnR5cGUgPT09IFwiVG9wb2xvZ3lcIikge1xuICAgICAgYmxvYiA9IHRvcG9qc29uLmNsaWVudC5mZWF0dXJlKGJsb2IsIGJsb2Iub2JqZWN0c1tPYmplY3Qua2V5cyhibG9iLm9iamVjdHMpWzBdXSk7XG4gICAgfVxuXG4gICAgdmFyIGwgPSBkYy5sYXllcnMubWFrZUxheWVyKG5hbWUsIGJsb2IpO1xuICAgIGRjLmxheWVycy5saXN0W2wuc3RhbXBdID0gbDtcblxuICAgIGlmIChsdHlwZSAmJiB1cmwpIHtcbiAgICAgIGRjLmxheWVycy5saXN0W2wuc3RhbXBdLmx0eXBlID0gbHR5cGU7XG4gICAgICBkYy5sYXllcnMubGlzdFtsLnN0YW1wXS51cmwgPSB1cmw7XG4gICAgfVxuXG4gICAgZGMubm90aWZ5KCdzdWNjZXNzJywgJzxzdHJvbmc+JytsLm5hbWUrJzwvc3Ryb25nPiBoYXMgYmVlbiBhZGRlZCEnLCAzNTAwKTtcblxuICAgIC8vIHRyaWdnZXIgbGF5ZXI6YWRkZWRcbiAgICAkKGRjKS50cmlnZ2VyKCdsYXllcjphZGRlZCcsIFtsXSk7XG5cbiAgICAvLyBVcGRhdGUgVVJMLCBpZiBhcHBsaWNhYmxlXG4gICAgaWYgKGx0eXBlICYmIHVybCkge1xuICAgICAgZGMudXRpbC51cGRhdGVTZWFyY2goKTtcbiAgICB9XG5cbiAgfTtcblxuLyoqXG4gKiBSZW1vdmUgYSBsYXllciwgd2hpY2ggdHJpZ2dlcnMgbGF5ZXI6cmVtb3ZlZCBmb3IgdGhlIHJlc3Qgb2YgdGhlIGFwcFxuICogQHBhcmFtIHtzdHJpbmd9IGxheWVyIHN0YW1wXG4gKi9cbiAgZGMubGF5ZXJzLnJlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50LCBzdGFtcCkge1xuICAgIC8vIHRyaWdnZXIgbGF5ZXI6cmVtb3ZlZFxuICAgIHRyeSB7XG4gICAgICAkKGRjKS50cmlnZ2VyKCdsYXllcjpyZW1vdmVkJywgW3N0YW1wXSk7XG4gICAgICBkYy5ub3RpZnkoJ2luZm8nLCAnPHN0cm9uZz4nICsgZGMubGF5ZXJzLmxpc3Rbc3RhbXBdLm5hbWUgKyAnPC9zdHJvbmc+IGhhcyBiZWVuIHJlbW92ZWQuJyk7XG4gICAgICBkZWxldGUgZGMubGF5ZXJzLmxpc3Rbc3RhbXBdO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZGMubm90aWZ5KCdlcnJvcicsICdUaGVyZSB3YXMgYSBwcm9ibGVtIHJlbW92aW5nIHRoZSBsYXllci4nKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgZGMubGF5ZXJzLmR1cGxpY2F0ZSA9IGZ1bmN0aW9uKGV2ZW50LCBzdGFtcCkge1xuICAgIHZhciBseXIgPSBkYy5sYXllcnMubGlzdFtzdGFtcF07XG4gICAgLy8gbmVlZCB0byBjcmVhdGUgbmV3IGxheWVyIHNvIHdlIGNhbiBnZXQgYSB1bmlxZSBMLnN0YW1wKClcbiAgICBkYy5sYXllcnMuYWRkKHt9LCAnY29weV8nK2x5ci5uYW1lLCBseXIucmF3KTtcbiAgfTtcblxuICBkYy5sYXllcnMucmVuYW1lID0gZnVuY3Rpb24oZXZlbnQsIGxheWVyLCBuZXdOYW1lKSB7XG4gICAgLy8gcmVuYW1lIGluIGxheWVyIG9iamVjdFxuICAgIGRjLmxheWVycy5saXN0W2xheWVyLnN0YW1wXS5uYW1lID0gbmV3TmFtZTtcblxuICAgIC8vIHJlbmFtZSBpbiBsYXllcmxpc3RcbiAgICAkKGRjKS50cmlnZ2VyKCdsYXllcjpyZW5hbWVkJywgW2xheWVyLnN0YW1wLCBuZXdOYW1lXSk7XG4gIH07XG5cbiAgZGMubGF5ZXJzLm1ha2VMYXllciA9IGZ1bmN0aW9uKG5hbWUsIGpzb24pIHtcbiAgICB2YXIgZ2VvanNvbiA9IGpzb247XG4gICAgLy8gaWYgKGpzb24udHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJyAmJiBqc29uLmZlYXR1cmVzLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vICAgZ2VvanNvbiA9IGRjLnV0aWwudW5jb2xsZWN0KGpzb24pO1xuICAgIC8vIH1cblxuICAgIHZhciBmbCA9IEwubWFwYm94LmZlYXR1cmVMYXllcihnZW9qc29uKTtcbiAgICB2YXIgbGF5ZXIgPSB7XG4gICAgICBuYW1lOiBkYy51dGlsLnJlbW92ZUZpbGVFeHRlbnNpb24obmFtZSksXG4gICAgICBzdGFtcDogTC5zdGFtcChmbCksXG4gICAgICByYXc6IGdlb2pzb24sXG4gICAgICB0eXBlOiBnZXRUeXBlKGdlb2pzb24pLFxuICAgICAgZmVhdHVyZWxheWVyOiBmbCxcbiAgICAgIGRhdGVBZGRlZDogbmV3IERhdGUoKVxuICAgIH07XG4gICAgcmV0dXJuIGxheWVyO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFR5cGUoZ2opIHtcbiAgICBpZiAoZ2oudHlwZSA9PT0gJ0ZlYXR1cmVDb2xsZWN0aW9uJykge1xuICAgICAgcmV0dXJuICdGZWF0dXJlQ29sbGVjdGlvbic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnai50eXBlICsgJzwnICsgZ2ouZ2VvbWV0cnkudHlwZSArICc+JztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGM7XG5cbn0pKGRyb3BjaG9wIHx8IHt9KTtcbiIsInZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBkYyA9IGRjIHx8IHt9O1xuICBkYy5sYXllcmxpc3QgPSB7fTtcbiAgZGMubGF5ZXJsaXN0LmVsZW1zID0ge307XG5cbiAgZGMubGF5ZXJsaXN0LmluaXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGMubGF5ZXJsaXN0LiRlbGVtID0gJCgnPG9sPicpLmFkZENsYXNzKG5hbWUpO1xuICAgIGRjLiRlbGVtLmFwcGVuZChkYy5sYXllcmxpc3QuJGVsZW0pO1xuXG4gICAgLy8gQ2xpY2tpbmcgb24gbGF5ZXJsaXN0IGJ1dCBub3QgbGF5ZXIgKGllIGJlbG93IGxheWVycykgY2xlYXJzIHNlbGVjdGlvblxuICAgIGRjLmxheWVybGlzdC4kZWxlbS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKCQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcyhuYW1lKSkge1xuICAgICAgICBkYy5zZWxlY3Rpb24uY2xlYXIoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBsaUhlbHBlciA9ICQoJzxsaT4nKS5hZGRDbGFzcygnbGF5ZXItaGVscCcpXG4gICAgICAuaHRtbCgnV2VsY29tZSB0byA8c3Ryb25nPmRyb3BjaG9wPC9zdHJvbmc+ISBIZXJlIHlvdSBjYW4gZHJhZyBhbmQgZHJvcCBmaWxlcyBhbmQgdGhleSB3aWxsIHNob3cgdXAgaW4gdGhlIGxheWVyIGxpc3QgYmVsb3cuPGJyPjxicj5UbyB0aGUgbGVmdCB5b3UgY2FuIHVwbG9hZCBhbmQgc2F2ZSB5b3VyIGZpbGVzIG9yIDxhIGhyZWY9XCIvP2dpc3Q9MDkxMjljMjBlYzAyMGI4M2JmODVcIj5hZGQgZXhhbXBsZSBkYXRhPC9hPiBvciB0aGUgPGEgaHJlZj1cIi8/Z2lzdD1kMDY2YjU3MmU4YThhZDJiNmQxNlwiPlVTIFN0YXRlczwvYT4uPGJyPjxicj5UbyB0aGUgcmlnaHQgeW91XFwnbGwgbm90aWNlIHNvbWUgZ2Vvc3BhdGlhbCBvcGVyYXRpb25zIHRoYXQgYmVjb21lIGF2YWlsYWJsZSBiYXNlZCBvbiBzZWxlY3Rpbmcgc3BlY2lmaWMgbGF5ZXJzLicgKTtcbiAgICBkYy5sYXllcmxpc3QuJGVsZW0uYXBwZW5kKGxpSGVscGVyKTtcblxuICAgIHZhciB0b2dnbGVMYXllcnMgPSAkKCc8bGk+JykuYWRkQ2xhc3MoJ2xheWVyLXRvZ2dsZUFsbCcpXG4gICAgICAuaHRtbCgnPGxhYmVsPjxpbnB1dCBpZD1cImFsbENoZWNrYm94ZXNcIiB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPlRvZ2dsZSBhbGwgbGF5ZXJzPC9sYWJlbD4nKTtcbiAgICB0b2dnbGVMYXllcnMub24oJ2NoYW5nZScsIGRjLmxheWVybGlzdC50b2dnbGVBbGwpO1xuICAgIGRjLmxheWVybGlzdC4kZWxlbS5hcHBlbmQodG9nZ2xlTGF5ZXJzKTtcblxuICAgICQoZGMpLm9uKCdsYXllcjphZGRlZCcsIGRjLmxheWVybGlzdC5hZGRMYXllckxpc3RJdGVtKTtcbiAgICAkKGRjKS5vbignbGF5ZXI6cmVtb3ZlZCcsIGRjLmxheWVybGlzdC5yZW1vdmVMYXllckxpc3RJdGVtKTtcbiAgICAkKGRjKS5vbignbGF5ZXI6cmVuYW1lZCcsIGRjLmxheWVybGlzdC5yZW5hbWUpO1xuICB9O1xuXG4gIGRjLmxheWVybGlzdC5yZW5hbWUgPSBmdW5jdGlvbihldmVudCwgc3RhbXAsIG5ld05hbWUpIHtcbiAgICAkKCdbZGF0YS1zdGFtcD0nK3N0YW1wKyddJykuZmluZCgnLmxheWVyLW5hbWUnKS50ZXh0KG5ld05hbWUpO1xuICB9O1xuXG4gIC8vIHRyaWdnZXJlZCBpbiBkcm9wY2hvcC5qc1xuICBkYy5sYXllcmxpc3QuYWRkTGF5ZXJMaXN0SXRlbSA9IGZ1bmN0aW9uKGV2ZW50LCBsYXllcikge1xuICAgIHZhciBsYXllcmxpc3RJdGVtID0gJCgnPGxpPicpLmFkZENsYXNzKCdsYXllci1lbGVtZW50JykuYXR0cignZGF0YS1zdGFtcCcsIGxheWVyLnN0YW1wKTtcbiAgICB2YXIgbGF5ZXJEaXYgPSAkKCc8ZGl2PicpXG4gICAgICAuYWRkQ2xhc3MoJ2xheWVyLW5hbWUgbGF5ZXItbmV3JylcbiAgICAgIC50ZXh0KGxheWVyLm5hbWUpXG4gICAgICAuZGVsYXkoMzAwMClcbiAgICAgIC5xdWV1ZShmdW5jdGlvbihuZXh0KSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2xheWVyLW5ldycpO1xuICAgICAgfSk7XG5cbiAgICB2YXIgbGF5ZXJUeXBlID0gJCgnPHNwYW4+JykuYWRkQ2xhc3MoJ2xheWVyLXR5cGUtaW1hZ2Ugc3ByaXRlIHNwcml0ZS1sYXllci0nK2xheWVyVHlwZUljb24obGF5ZXIudHlwZSkpO1xuICAgIHZhciBjaGVja2JveCA9ICQoJzxpbnB1dD4nKS5hZGRDbGFzcygnbGF5ZXItdG9nZ2xlJykucHJvcCh7J3R5cGUnOiAnY2hlY2tib3gnLCAnY2hlY2tlZCc6IHRydWV9KTtcbiAgICB2YXIgZHJvcGRvd24gPSAkKCc8YnV0dG9uIHRpdGxlPVwiTW9yZSBPcHRpb25zXCI+JykuYWRkQ2xhc3MoJ2xheWVyLWFjdGlvbiBsYXllci1kcm9wZG93bicpLmh0bWwoJzxpIGNsYXNzPVwiZmEgZmEtZWxsaXBzaXMtaFwiPjwvaT4nKTtcblxuICAgIGNoZWNrYm94Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAvLyB0cmlnZ2VyIGxheWVyOnNob3dcbiAgICAgICAgJChkYykudHJpZ2dlcignbGF5ZXI6c2hvdycsIFtsYXllcl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChkYykudHJpZ2dlcignbGF5ZXI6aGlkZScsIFtsYXllcl0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGF5ZXJEaXYub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIC8vIGNoZWNrIGZvciBrZXlzIGJlaW5nIGhlbGQgZm9yIHNwZWNpYWwgc2VsZWN0aW9uXG4gICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgLy8gc2VsZWN0IGFsbCBsYXllcmVzIGluIGJldHdlZW4gcHJldmlvdXMgdGFyZ2V0IGFuZCB0YXJnZXRcbiAgICAgICAgLy8gbm90ZTogZG9uJ3QgdW5zZWxlY3QgbGF5ZXJzIGFscmVhZHkgc2VsZWN0ZWQsIGp1c3QgYWRkIHRvIHNlbGVjdGlvblxuICAgICAgICB2YXIgdG9TZWxlY3QgPSBbXTtcbiAgICAgICAgdmFyIHRvID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGZyb20gPSBkYy5sYXllcmxpc3QuX2xhc3RTZWxlY3RlZDtcbiAgICAgICAgdmFyIHRvQ291bnQsIGZyb21Db3VudDtcblxuICAgICAgICBpZiAoIWZyb20pIHJldHVybjtcblxuICAgICAgICAkKCcubGF5ZXItZWxlbWVudCcpLmVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgIHZhciBjaGVjayA9ICQodGhpcykuYXR0cignZGF0YS1zdGFtcCcpO1xuICAgICAgICAgIHZhciB0b1N0YW1wID0gdG8ucGFyZW50KCkuYXR0cignZGF0YS1zdGFtcCcpO1xuICAgICAgICAgIHZhciBmcm9tU3RhbXAgPSBmcm9tLnBhcmVudCgpLmF0dHIoJ2RhdGEtc3RhbXAnKTtcbiAgICAgICAgICBpZiAoY2hlY2sgPT09IHRvU3RhbXApIHRvQ291bnQgPSBlO1xuICAgICAgICAgIGlmIChjaGVjayA9PT0gZnJvbVN0YW1wKSBmcm9tQ291bnQgPSBlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodG9Db3VudCA+IGZyb21Db3VudCkge1xuICAgICAgICAgIC8vIGxvb3AgdXBcbiAgICAgICAgICAkKCcubGF5ZXItZWxlbWVudCcpLmVhY2goZnVuY3Rpb24obCkge1xuICAgICAgICAgICAgaWYgKGwgPj0gZnJvbUNvdW50ICYmIGwgPD0gdG9Db3VudCApIHtcbiAgICAgICAgICAgICAgZGMubGF5ZXJsaXN0LnNlbGVjdExheWVyKCQodGhpcykuZmluZCgnLmxheWVyLW5hbWUnKSwgZGMubGF5ZXJzLmxpc3RbJCh0aGlzKS5hdHRyKCdkYXRhLXN0YW1wJyldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcubGF5ZXItZWxlbWVudCcpLmVhY2goZnVuY3Rpb24obCkge1xuICAgICAgICAgICAgaWYgKGwgPCBmcm9tQ291bnQgJiYgbCA+PSB0b0NvdW50ICkge1xuICAgICAgICAgICAgICBkYy5sYXllcmxpc3Quc2VsZWN0TGF5ZXIoJCh0aGlzKS5maW5kKCcubGF5ZXItbmFtZScpLCBkYy5sYXllcnMubGlzdFskKHRoaXMpLmF0dHIoJ2RhdGEtc3RhbXAnKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkge1xuICAgICAgICAvLyBhZGQvcmVtb3ZlIHNlbGVjdGVkIGxheWVyIHRvIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgIGRjLmxheWVybGlzdC5zZWxlY3RUb2dnbGUoJCh0aGlzKSwgbGF5ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY2xlYXIgc2VsZWN0aW9uIGFuZCBzZWxlY3QgdGFyZ2V0XG4gICAgICAgIGRjLmxheWVybGlzdC5jbGVhclNlbGVjdGlvbigkKHRoaXMpLCBsYXllcik7XG4gICAgICAgIGRjLmxheWVybGlzdC5zZWxlY3RUb2dnbGUoJCh0aGlzKSwgbGF5ZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGF5ZXJEaXYub24oJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGRjLm1lbnVzLmxheWVyQ29udGV4dE1lbnUuY3JlYXRlTGF5ZXJDb250ZXh0TWVudShcbiAgICAgICAgdGhpcywgZXZlbnQub2Zmc2V0WCwgZXZlbnQucGFnZVlcbiAgICAgICk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgZHJvcGRvd24ub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGRjLm1lbnVzLmxheWVyQ29udGV4dE1lbnUuY3JlYXRlTGF5ZXJDb250ZXh0TWVudShcbiAgICAgICAgLy8gSSBoYXZlIG5vIGlkZWEgd2h5IHdlIG5lZWQgdG8gc3VidHJhY3QgNDBweCBidXQgdGhhdCdzIHdoYXRcbiAgICAgICAgLy8gaXQgdGFrZXMgdG8gbWFrZSBpdCBwb3NpdGlvbiBjb3JyZWN0bHkuLi5cbiAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmxheWVyLW5hbWUnKSwgZXZlbnQucGFnZVggLSA0MCwgZXZlbnQucGFnZVlcbiAgICAgICk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBkaXNhYmxlIGZ1cnRoZXIgY2xpY2sgaGFuZGxlcnNcbiAgICB9KTtcblxuICAgIGxheWVyRGl2Lm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBkYy5vcHMuZmlsZS5leHRlbnQuZXhlY3V0ZSgpO1xuICAgIH0pO1xuXG4gICAgbGF5ZXJsaXN0SXRlbS5hcHBlbmQobGF5ZXJEaXYpO1xuICAgIGxheWVybGlzdEl0ZW0uYXBwZW5kKGNoZWNrYm94KTtcbiAgICBsYXllcmxpc3RJdGVtLmFwcGVuZChsYXllclR5cGUpO1xuICAgIGxheWVybGlzdEl0ZW0uYXBwZW5kKGRyb3Bkb3duKTtcbiAgICBkYy5sYXllcmxpc3QuJGVsZW0uYXBwZW5kKGxheWVybGlzdEl0ZW0pO1xuXG4gICAgZGMubGF5ZXJsaXN0LmVsZW1zW2xheWVyLnN0YW1wXSA9IGxheWVybGlzdEl0ZW07XG5cbiAgICAvLyBoaWRlIGhlbHBlciB0ZXh0XG4gICAgJCgnLmxheWVyLWhlbHAnKS5oaWRlKCk7XG4gICAgJCgnLmxheWVyLXRvZ2dsZUFsbCcpLnNob3coKTtcblxuICAgIC8vIHNlbmQgb3V0IGxheWVybGlzdDphZGRlZCBzaWduYWxcbiAgICAkKGRjKS50cmlnZ2VyKCdsYXllcmxpc3Q6YWRkZWQnLCBsYXllckRpdik7XG4gIH07XG5cbiAgZGMubGF5ZXJsaXN0LnNlbGVjdExheWVyID0gZnVuY3Rpb24oJGl0ZW0sIGx5cikge1xuICAgIGlmICghJGl0ZW0uaGFzQ2xhc3MoJ3NlbGVjdGVkJykpIHtcbiAgICAgICRpdGVtLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgJChkYykudHJpZ2dlcignbGF5ZXI6c2VsZWN0ZWQnLCBbbHlyXSk7XG4gICAgfVxuICB9O1xuICBkYy5sYXllcmxpc3Quc2VsZWN0VG9nZ2xlID0gZnVuY3Rpb24oJGl0ZW0sIGx5cikge1xuICAgIGlmICgkaXRlbS5oYXNDbGFzcygnc2VsZWN0ZWQnKSkge1xuICAgICAgJGl0ZW0ucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAkKGRjKS50cmlnZ2VyKCdsYXllcjp1bnNlbGVjdGVkJywgW2x5cl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkaXRlbS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICQoZGMpLnRyaWdnZXIoJ2xheWVyOnNlbGVjdGVkJywgW2x5cl0pO1xuICAgIH1cbiAgICBkYy5sYXllcmxpc3QuX2xhc3RTZWxlY3RlZCA9ICRpdGVtO1xuICB9O1xuICBkYy5sYXllcmxpc3QuY2xlYXJTZWxlY3Rpb24gPSBmdW5jdGlvbigkaXRlbSwgbHlyKSB7XG4gICAgZGMuc2VsZWN0aW9uLmNsZWFyKCk7XG4gIH07XG4gIGRjLmxheWVybGlzdC5zZWxlY3RBbGwgPSBmdW5jdGlvbigpIHtcbiAgICAkKCcubGF5ZXItZWxlbWVudCcpLmVhY2goZnVuY3Rpb24obCkge1xuICAgICAgZGMubGF5ZXJsaXN0LnNlbGVjdExheWVyKCQodGhpcykuZmluZCgnLmxheWVyLW5hbWUnKSwgZGMubGF5ZXJzLmxpc3RbJCh0aGlzKS5hdHRyKCdkYXRhLXN0YW1wJyldKTtcbiAgICB9KTtcbiAgfTtcbiAgZGMubGF5ZXJsaXN0LmNoZWNrQWxsID0gZnVuY3Rpb24obXVzdEJlU2VsZWN0ZWQpIHtcbiAgICBmb3IgKHZhciBpIGluIGRjLmxheWVycy5saXN0KSB7XG4gICAgICB2YXIgbGF5ZXIgPSBkYy5sYXllcnMubGlzdFtpXTtcbiAgICAgIGlmIChtdXN0QmVTZWxlY3RlZCAmJiAhZHJvcGNob3Auc2VsZWN0aW9uLmlzU2VsZWN0ZWQobGF5ZXIpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZWxlbVRvZ2dsZShkYy5sYXllcnMubGlzdFtpXS5zdGFtcCwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuICBkYy5sYXllcmxpc3QudW5jaGVja0FsbCA9IGZ1bmN0aW9uKG11c3RCZVNlbGVjdGVkKSB7XG4gICAgZm9yICh2YXIgaSBpbiBkYy5sYXllcnMubGlzdCkge1xuICAgICAgdmFyIGxheWVyID0gZGMubGF5ZXJzLmxpc3RbaV07XG4gICAgICBpZiAobXVzdEJlU2VsZWN0ZWQgJiYgIWRyb3BjaG9wLnNlbGVjdGlvbi5pc1NlbGVjdGVkKGxheWVyKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGVsZW1Ub2dnbGUobGF5ZXIuc3RhbXAsIGZhbHNlKTtcbiAgICB9XG4gIH07XG4gIGRjLmxheWVybGlzdC50b2dnbGVBbGwgPSBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsQ2hlY2tib3hlcycpLmNoZWNrZWQpIHtcbiAgICAgIGRjLmxheWVybGlzdC5jaGVja0FsbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYy5sYXllcmxpc3QudW5jaGVja0FsbCgpO1xuICAgIH1cbiAgfTtcbiAgZGMubGF5ZXJsaXN0LnJlbW92ZUxheWVyTGlzdEl0ZW0gPSBmdW5jdGlvbihldmVudCwgc3RhbXApIHtcbiAgICAkKCdbZGF0YS1zdGFtcD0nK3N0YW1wKyddJykuZmFkZU91dCgzMDAsIGZ1bmN0aW9uKCkge1xuICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgIGRlbGV0ZSBkYy5sYXllcmxpc3QuZWxlbXNbc3RhbXBdO1xuXG4gICAgICAvLyBzaG93IGhlbHBlciB0ZXh0IGlmIG5vIGxheWVycyBleGlzdFxuICAgICAgLy8gdGhpcyBoYXMgdG8gY2hlY2sgaW5zaWRlIHNpbmNlIHRoZXJlIGlzIGEgMzAwIG1zIGRlbGF5IHdpdGggdGhlIGZhZGVcbiAgICAgIGlmICgkKCcubGF5ZXItZWxlbWVudCcpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAkKCcubGF5ZXItaGVscCcpLnNob3coKTtcbiAgICAgICAgJCgnLmxheWVyLXRvZ2dsZUFsbCcpLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBsYXllclR5cGVJY29uKHR5cGUpIHtcbiAgICB2YXIgaWNvbjtcbiAgICBzd2l0Y2godHlwZSkge1xuICAgICAgY2FzZSAnRmVhdHVyZUNvbGxlY3Rpb24nOlxuICAgICAgICBpY29uID0gJ2ZlYXR1cmVjb2xsZWN0aW9uJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdGZWF0dXJlPFBvaW50Pic6XG4gICAgICBjYXNlICdGZWF0dXJlPE11bHRpUG9pbnQ+JzpcbiAgICAgICAgaWNvbiA9ICdwb2ludCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRmVhdHVyZTxMaW5lU3RyaW5nPic6XG4gICAgICBjYXNlICdGZWF0dXJlPE11bHRpTGluZVN0cmluZz4nOlxuICAgICAgICBpY29uID0gJ2xpbmUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0ZlYXR1cmU8UG9seWdvbj4nOlxuICAgICAgY2FzZSAnRmVhdHVyZTxNdWx0aVBvbHlnb24+JzpcbiAgICAgICAgaWNvbiA9ICdwb2x5Z29uJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdGZWF0dXJlPEdlb21ldHJ5Q29sbGVjdGlvbj4nOlxuICAgICAgICBpY29uID0gJ2dlb20nO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGljb24gPSAnZGVmYXVsdCc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gaWNvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVsZW1Ub2dnbGUoc3RhbXAsIGJvb2wpIHtcbiAgICAkKCcubGF5ZXItZWxlbWVudFtkYXRhLXN0YW1wPScrc3RhbXArJ10nKVxuICAgICAgLmZpbmQoJy5sYXllci10b2dnbGUnKVxuICAgICAgLnByb3AoJ2NoZWNrZWQnLCBib29sKVxuICAgICAgLnRyaWdnZXIoJ2NoYW5nZScpOyAvLyBzZXRzIG9mZiBhIGNoYWluIHJlYWN0aW9uXG4gIH1cblxuICByZXR1cm4gZGM7XG5cbn0pKGRyb3BjaG9wIHx8IHt9KTtcbiIsInZhciBkcm9wY2hvcCA9IChmdW5jdGlvbihkYykge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBkYyA9IGRjIHx8IHt9O1xuICBkYy5mb3JtID0gZGMuZm9ybSB8fCB7fTtcbiAgZGMuZm9ybS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgJChkYykub24oJ2Zvcm06Z2VvJywgZGMuZm9ybS5nZW8pO1xuICAgICQoZGMpLm9uKCdmb3JtOmZpbGUnLCBkYy5mb3JtLmZpbGUpO1xuICB9O1xuXG4gIGRjLmZvcm0uZ2VvID0gZnVuY3Rpb24oZXZlbnQsIG9wZXJhdGlvbikge1xuICAgIGRjLmZvcm0uY3JlYXRlKG9wZXJhdGlvbiwgZGMub3BzLmdlb1tvcGVyYXRpb25dLCAnZ2VvJyk7XG4gIH07XG5cbiAgZGMuZm9ybS5maWxlID0gZnVuY3Rpb24oZXZlbnQsIG9wZXJhdGlvbikge1xuICAgIGRjLmZvcm0uY3JlYXRlKG9wZXJhdGlvbiwgZGMub3BzLmZpbGVbb3BlcmF0aW9uXSwgJ2ZpbGU6JyArIG9wZXJhdGlvbik7XG4gIH07XG5cbiAgZGMuZm9ybS5jcmVhdGUgPSBmdW5jdGlvbihuYW1lLCBpbmZvLCB0cmlnZ2VyKSB7XG4gICAgZGMuZm9ybS5yZW1vdmUoKTtcbiAgICB2YXIgJGh0bWwgPSAkKCc8Zm9ybT4nKS5hZGRDbGFzcygnZHJvcGNob3AtZm9ybSBkcm9wY2hvcC1mb3JtLScrdHJpZ2dlcilcbiAgICAgICAgICAuYXR0cignaWQnLCAnZHJvcGNob3AtZm9ybScpXG4gICAgICAgICAgLmF0dHIoJ2RhdGEnLCBuYW1lKTtcbiAgICB2YXIgJHRpdGxlID0gJCgnPGgyPicpLmFkZENsYXNzKCdkcm9wY2hvcC1mb3JtLXRpdGxlJykudGV4dChuYW1lKS5hcHBlbmRUbygkaHRtbCk7XG4gICAgdmFyICRkZXNjID0gJCgnPHA+JykuYWRkQ2xhc3MoJ2Ryb3BjaG9wLWZvcm0tZGVzY3JpcHRpb24nKS50ZXh0KGluZm8uZGVzY3JpcHRpb24pLmFwcGVuZFRvKCRodG1sKTtcblxuICAgIC8vIGNyZWF0ZSBwYXJhbXNcbiAgICBpZihpbmZvLnBhcmFtZXRlcnMpIHtcbiAgICAgICQoaW5mby5wYXJhbWV0ZXJzKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcCA9IGRjLmZvcm0uY3JlYXRlUGFyYW0odGhpcyk7XG4gICAgICAgIHAuYXBwZW5kVG8oJGh0bWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIHN1Ym1pdCBidXR0b25cbiAgICB2YXIgJHN1Ym1pdCA9ICQoJzxidXR0b24+JykuYWRkQ2xhc3MoJ2Ryb3BjaG9wLWJ0biBkcm9wY2hvcC1idG4tZ3JlZW4gZHJvcGNob3AtZm9ybS1zdWJtaXQnKS50ZXh0KCdFeGVjdXRlJykuYXR0cignZm9yJywgbmFtZSk7XG4gICAgdmFyICRjYW5jZWwgPSAkKCc8YnV0dG9uPicpLmFkZENsYXNzKCdkcm9wY2hvcC1idG4gZHJvcGNob3AtYnRuLWNhbmNlbCBkcm9wY2hvcC1mb3JtLWNhbmNlbCcpLnRleHQoJ0NhbmNlbCcpLmF0dHIoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgJGNhbmNlbC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGRjLmZvcm0ucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgJGh0bWwub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gZ2V0IHRoZSBwYXJhbWV0ZXJzIGZyb20gdGhlIGZvcm1cbiAgICAgIHZhciBwYXJhbWV0ZXJzID0gW107XG4gICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VyaWFsaXplQXJyYXkoKTtcbiAgICAgICQoZGF0YSkuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIHBhcmFtZXRlcnMucHVzaChkYXRhW2ldLnZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgJChkYykudHJpZ2dlcignb3BlcmF0aW9uOicgKyB0cmlnZ2VyLCBbbmFtZSwgcGFyYW1ldGVyc10pO1xuICAgICAgZGMuZm9ybS5yZW1vdmUoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICAkaHRtbC5hcHBlbmQoJHN1Ym1pdCk7XG4gICAgJGh0bWwuYXBwZW5kKCRjYW5jZWwpO1xuXG4gICAgZGMuJGVsZW0uYXBwZW5kKCRodG1sKTtcbiAgICAvLyBzdWJtaXQgYnV0dG9uIG5lZWRzIHRyaWdnZXIgb3BlcmF0aW9uOmdlbyB3aXRoIG9wIGFuZCBwYXJhbWV0ZXIgYXJyYXlcbiAgfTtcblxuICBkYy5mb3JtLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICQoJyNkcm9wY2hvcC1mb3JtJykucmVtb3ZlKCk7XG4gIH07XG5cbiAgZGMuZm9ybS5jcmVhdGVQYXJhbSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgdmFyICRpbnB1dCA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ2Ryb3BjaG9wLWZvcm0tcGFyYW1ldGVyJyk7XG4gICAgdmFyICRsYWJlbCA9ICQoJzxsYWJlbD4nKS50ZXh0KHBhcmFtLm5hbWUpLmFkZENsYXNzKCdkcm9wY2hvcC1mb3JtLXBhcmFtZXRlci1sYWJlbCcpO1xuICAgIHZhciAkZmllbGQgPSBkYy5mb3JtLmlucHV0c1twYXJhbS50eXBlXShwYXJhbSk7XG4gICAgJGZpZWxkLmFwcGVuZFRvKCRsYWJlbCk7XG4gICAgaWYocGFyYW0uZGVzY3JpcHRpb24ubGVuZ3RoKSB7XG4gICAgICAkKCc8cD4nKS5hZGRDbGFzcygnZHJvcGNob3AtZm9ybS1wYXJhbWV0ZXItZGVzY3JpcHRpb24nKS5odG1sKHBhcmFtLmRlc2NyaXB0aW9uKS5hcHBlbmRUbygkbGFiZWwpO1xuICAgIH1cbiAgICAkaW5wdXQuYXBwZW5kKCRsYWJlbCk7XG4gICAgcmV0dXJuICRpbnB1dDtcbiAgfTtcblxuICBkYy5mb3JtLmlucHV0cyA9IHtcbiAgICBudW1iZXI6IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciAkaSA9ICQoJzxpbnB1dD4nKS5hdHRyKCd0eXBlJywgJ251bWJlcicpXG4gICAgICAgICAgICAuYXR0cignbmFtZScsIHAubmFtZSlcbiAgICAgICAgICAgIC5hdHRyKCd2YWx1ZScsIHAuZGVmYXVsdCk7XG4gICAgICByZXR1cm4gJGk7XG4gICAgfSxcbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciAkaSA9ICQoJzxzZWxlY3Q+JykuYXR0cignbmFtZScsIHAubmFtZSk7XG4gICAgICAkKHAub3B0aW9ucykuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciAkb3B0ID0gJCgnPG9wdGlvbj4nKS50ZXh0KHAub3B0aW9uc1tpXSlcbiAgICAgICAgICAgICAgLmF0dHIoJ3ZhbHVlJywgcC5vcHRpb25zW2ldKTtcbiAgICAgICAgJG9wdC5hcHBlbmRUbygkaSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAkaTtcbiAgICB9LFxuICAgIHRleHQ6IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciAkaSA9ICQoJzxpbnB1dD4nKS5hdHRyKCd0eXBlJywgJ3RleHQnKVxuICAgICAgICAgICAgLmF0dHIoJ25hbWUnLCBwLm5hbWUpXG4gICAgICAgICAgICAuYXR0cigndmFsdWUnLCBwLmRlZmF1bHQpO1xuICAgICAgcmV0dXJuICRpO1xuICAgIH0sXG4gICAgY2hlY2tib3g6IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciAkaSA9ICQoJzxpbnB1dD4nKS5hdHRyKCd0eXBlJywgJ2NoZWNrYm94JylcbiAgICAgICAgICAgIC5hdHRyKCduYW1lJywgcC5uYW1lKVxuICAgICAgICAgICAgLmF0dHIoJ3ZhbHVlJywgcC5kZWZhdWx0KTtcbiAgICAgIHJldHVybiAkaTtcbiAgICB9LFxuICAgIHJhZGlvOiBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgJGkgPSAkKCc8ZGl2PicpLmF0dHIoJ2NsYXNzJywgJ3JhZGlvR3JvdXAnKTtcbiAgICAgIHZhciBncm91cE5hbWUgPSBwLm5hbWUucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgICAgICQocC5vcHRpb25zKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIG9wdCA9IHAub3B0aW9uc1tpXTtcbiAgICAgICAgdmFyIG9wdElkID0gb3B0LnJlcGxhY2UoL1xccy9nLCAnJyk7XG4gICAgICAgIHZhciAkbGJsID0gJCgnPGxhYmVsPicpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcygnc3ViLWxhYmVsJylcbiAgICAgICAgICAgICAgLmF0dHIoJ2ZvcicsIG9wdElkKTtcblxuICAgICAgICB2YXIgJG9wdCA9ICQoJzxpbnB1dD4nKVxuICAgICAgICAgICAgICAuYXR0cigndHlwZScsICdyYWRpbycpXG4gICAgICAgICAgICAgIC5hdHRyKCdpZCcsIG9wdElkKVxuICAgICAgICAgICAgICAuYXR0cignbmFtZScsIGdyb3VwTmFtZSlcbiAgICAgICAgICAgICAgLmFkZENsYXNzKCdyYWRpbycpXG4gICAgICAgICAgICAgIC52YWwob3B0KTtcbiAgICAgICAgaWYgKG9wdCA9PT0gcC5kZWZhdWx0KSB7XG4gICAgICAgICAgJG9wdC5wcm9wKCdkZWZhdWx0Q2hlY2tlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgICRsYmwuYXBwZW5kKG9wdCk7XG4gICAgICAgICRsYmwuYXBwZW5kVG8oJGkpO1xuICAgICAgICAkb3B0LmFwcGVuZFRvKCRpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICRpO1xuICAgIH0sXG4gICAgc3dpdGNoOiBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgJGkgPSAkKCc8ZGl2PicpO1xuICAgICAgJChkYy5zZWxlY3Rpb24ubGlzdCkuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciAkbGJsID0gJCgnPGxhYmVsPicpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcygnc3ViLWxhYmVsJyk7XG4gICAgICAgIHZhciAkb3B0ID0gJCgnPGlucHV0PicpXG4gICAgICAgICAgICAgIC5hdHRyKCd0eXBlJywgJ3JhZGlvJylcbiAgICAgICAgICAgICAgLnZhbCgnc3dpdGNoLScgKyBkYy5zZWxlY3Rpb24ubGlzdFtpXS5zdGFtcClcbiAgICAgICAgICAgICAgLmF0dHIoJ25hbWUnLCBwLm5hbWUpO1xuICAgICAgICAkb3B0LmFwcGVuZFRvKCRsYmwpO1xuICAgICAgICAkbGJsLmFwcGVuZChkYy5zZWxlY3Rpb24ubGlzdFtpXS5uYW1lKTtcbiAgICAgICAgJGxibC5hcHBlbmRUbygkaSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAkaTtcbiAgICB9LFxuICAgIHJlY3Vyc2l2ZTogZnVuY3Rpb24ocCkge1xuICAgICAgdmFyICRpID0gJCgnPGRpdj4nKTtcblxuICAgICAgdmFyICRsYmwxID0gJCgnPGxhYmVsPicpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ3N1Yi1sYWJlbCcpO1xuICAgICAgdmFyICRvcHQxID0gJCgnPGlucHV0PicpXG4gICAgICAgICAgICAuYXR0cigndHlwZScsICdyYWRpbycpXG4gICAgICAgICAgICAudmFsKCd0cnVlJylcbiAgICAgICAgICAgIC5hdHRyKCduYW1lJywgcC5uYW1lKTtcbiAgICAgICRvcHQxLmFwcGVuZFRvKCRsYmwxKTtcbiAgICAgICRsYmwxLmFwcGVuZCgnSW5kaXZpZHVhbCBmZWF0dXJlcycpO1xuXG4gICAgICB2YXIgJGxibDIgPSAkKCc8bGFiZWw+JylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnc3ViLWxhYmVsJyk7XG4gICAgICB2YXIgJG9wdDIgPSAkKCc8aW5wdXQ+JylcbiAgICAgICAgICAgIC5hdHRyKCd0eXBlJywgJ3JhZGlvJylcbiAgICAgICAgICAgIC52YWwoJ2ZhbHNlJylcbiAgICAgICAgICAgIC5hdHRyKCduYW1lJywgcC5uYW1lKTtcbiAgICAgICRvcHQyLmFwcGVuZFRvKCRsYmwyKTtcbiAgICAgICRsYmwyLmFwcGVuZCgnRW50aXJlIGNvbGxlY3Rpb24nKTtcblxuICAgICAgJGxibDEuYXBwZW5kVG8oJGkpO1xuICAgICAgJGxibDIuYXBwZW5kVG8oJGkpO1xuXG4gICAgICByZXR1cm4gJGk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGRjLmZvcm0uZ2V0VmFsdWVzID0gZnVuY3Rpb24oJGZvcm0pIHtcbiAgLy8gICB2YXIgdmFsdWVzID0gW107XG4gIC8vICAgY29uc29sZS5sb2coJGZvcm0pO1xuICAvLyAgIHJldHVybiB2YWx1ZXM7XG4gIC8vIH07XG5cbiAgcmV0dXJuIGRjO1xuXG59KShkcm9wY2hvcCB8fCB7fSk7XG4iLCJ2YXIgZHJvcGNob3AgPSAoZnVuY3Rpb24oZGMpIHtcbiAgXG4gICd1c2Ugc3RyaWN0JztcblxuICBkYyA9IGRjIHx8IHt9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGRyb3B6b25lLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGFpbmVyIGVsZW1lbnQgKGxldHMgZG8gZG9jdW1lbnQuYm9keSlcbiAgICovXG4gIGRjLmRyb3B6b25lID0gZnVuY3Rpb24oJGNvbnRhaW5lcikge1xuICAgIF9ldmVudHMoJGNvbnRhaW5lcik7XG4gIH07XG5cbiAgZnVuY3Rpb24gX2V2ZW50cygkY29udGFpbmVyKSB7XG4gICAgJGNvbnRhaW5lci5vbignZHJhZ292ZXInLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZHJhZ2dpbmcnKTtcbiAgICB9KTtcblxuICAgICRjb250YWluZXIub24oJ2RyYWdsZWF2ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpO1xuICAgIH0pO1xuXG4gICAgJGNvbnRhaW5lci5vbignZHJvcCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpO1xuICAgICAgdmFyIGZpbGVzID0gZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgICAkKGZpbGVzKS5lYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgZGMudXRpbC5yZWFkRmlsZShmaWxlc1tpXSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkYztcblxufSkoZHJvcGNob3AgfHwge30pOyJdfQ==
